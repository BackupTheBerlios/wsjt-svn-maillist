<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r722 - branches/wspr
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r722%20-%20branches/wspr&In-Reply-To=%3C200804140739.m3E7du0f006773%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000409.html">
   <LINK REL="Next"  HREF="000411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r722 - branches/wspr</H1>
    <B>k1jt at mail.berlios.de</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r722%20-%20branches/wspr&In-Reply-To=%3C200804140739.m3E7du0f006773%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r722 - branches/wspr">k1jt at mail.berlios.de
       </A><BR>
    <I>Mon Apr 14 09:39:56 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000409.html">[WSJT-SVN] r721 - branches/wspr
</A></li>
        <LI>Next message: <A HREF="000411.html">[WSJT-SVN] r723 - branches/wspr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: k1jt
Date: 2008-04-14 09:39:54 +0200 (Mon, 14 Apr 2008)
New Revision: 722

Added:
   branches/wspr/WSPR_Quick_Start.TXT
Modified:
   branches/wspr/wspr.py
Log:
Added Quick-Start instructions.
Fixed empty-field conversion bugs.


Added: branches/wspr/WSPR_Quick_Start.TXT
===================================================================
--- branches/wspr/WSPR_Quick_Start.TXT	2008-04-14 06:14:26 UTC (rev 721)
+++ branches/wspr/WSPR_Quick_Start.TXT	2008-04-14 07:39:54 UTC (rev 722)
@@ -0,0 +1,110 @@
+                Quick Start Guide for WSPR v0.6
+                -------------------------------
+
+WSPR (pronounced &quot;whisper&quot;) stands for &quot;Weak Signal Propagation
+Reporter&quot;.  This program implements transmitting and receiving
+functions for a digital soundcard mode called &quot;MEPT_JT&quot;, or simply
+&quot;the WSPR mode&quot;.
+
+WSPR generates and receives signals using structured messages, strong
+forward error correction, and narrow-band 4-FSK modulation.  Its
+principal design goal is reliable copy at very low signal levels.  In
+practice it works well at signal-to-noise ratios down to about -27 dB
+in a reference bandwidth of 2500 Hz.
+
+
+QUICK START
+-----------
+
+1. Download WSPR from the WSJT home page,
+   <A HREF="http://physics.princeton.edu/pulsar/K1JT/">http://physics.princeton.edu/pulsar/K1JT/</A> .
+
+2. Run the resulting executable file to install WSPR.  
+
+3. Start the program by double-clicking on its desktop icon.  
+
+4. Open the Setup -&gt; Options menu and enter your callsign and
+   6-character grid locator.
+
+5. Enter the COM port number to be used for PTT control in the box labeled
+   PTT Port.  (For example, enter 1 if you will use COM1.)  Enter 0 
+   if you will use VOX control.
+
+6. If you have more than one sound card and do not wish to use the
+   Windows default sound card for WSPR, examine the list of sound
+   devices in the console window (the one with black background).
+   Enter the desired device numbers in the boxes labeled Audio In and
+   Audio Out.
+
+7. Enter your transmitter power in dBm in the appropriate Options box.
+
+8. On the main screen, enter your SSB transceiver dial frequency and
+   desired Tx frequency in MHz.  Your transceiver should be set to USB
+   mode.  (You can also set the Tx frequency by double-clicking with
+   the mouse on the waterfall display, after setting the Dial
+   frequency.)
+
+9. Click on &quot;Rx&quot; to receive only, on &quot;Tx&quot; to transmit only, or on the
+   desired average percentage of transmission cuycles.  In this case
+   the program will decide whether to transmit or receive during any
+   given two-minute interval, and will do so in such a way as to
+   randomize your T/R pattern.  This procedure will maximize your
+   chances of receiving any other WSPR station operating within a +/-
+   100 Hz range centered 1500 Hz above your dial frequency.
+
+10. Be sure that your computer clock is correct to +/- 1 second.  If
+    necessary you can make small adjustments by left- or right-clicking
+    on the &quot;Dsec&quot; label.
+
+11. WSPR will begin a Tx or Rx sequence at the start of each even UTC
+    minute.  The waterfall will update near the end of each Rx
+    sequence.
+
+12. Check the box &quot;Upload spots&quot; if your computer is connected to the
+    internet and you want your received spots uploaded to the WSPRnet
+    database.  For infomation on this excellent resource, go to
+    www.wsprnet.org.
+
+
+Decoded Output 
+-------------- 
+
+In normal operation WSPR displays a single line of output for each
+decoded signal, in the following format:
+
+Date    UTC  dB    DT    Freq   Drift
+-----------------------------------------------------
+080406 1248 -22   1.2  10.140225  -2  VE1RG FN76 30  
+080406 1248 -10   0.9  10.140246   1  VE1VDM FN85 25 
+080406 1250 -18   1.0  10.140244   1  KS7S DM41 30   
+080406 1252 -25   1.7  10.140212   1  W6SZ DM14 23   
+080406 1256 -25   0.7  10.140198   1  N2JR FM18 37   
+080406 1256 -15   1.2  10.140242   1  KS7S DM41 30   
+...
+
+The meanings of the colums are as follows:
+
+Date:   YYMMDD
+UTC:    HHMM
+dB:     Received S/N in the standard reference bandwidth of 2500 Hz.
+DT:     Offset between computer clocks at Tx and Rx stations.  
+Freq:   Measured frequency of received signal (MHz).
+Drift:  Drift of received signal over 2-minute transmission (Hz).
+
+Time offsets DT greater in magnitude than about +/- 2 s indicate 
+a significant timing error at the transmitter or receiver, or 
+possibly both.  For best performance your computer clock should
+be kept accurate to within +/- 1 s.
+
+Frequency drift of +/- 1 Hz over two minutes is scarcely 
+significant.  Drifts of +/- 2 s or larger should be corrected at
+the transmitter, for best performance.  (Of course, receiver
+drift could also contribute, but that case should be recognizable
+because all signals would appear to drift by the same amount.)
+
+Color coding is used in the bandmap to indicate how long it has 
+been since a particular station was last decoded.  Red calls have 
+been seen in the most recent 15 minutes, up to the last line of 
+decoded text.  Yellow callsigns are 15-30 minutes old, light
+gray 30-45 minutes, and darker grat 45-60 minutes.  After one
+hour calls are eliminated from the list.

Modified: branches/wspr/wspr.py
===================================================================
--- branches/wspr/wspr.py	2008-04-14 06:14:26 UTC (rev 721)
+++ branches/wspr/wspr.py	2008-04-14 07:39:54 UTC (rev 722)
@@ -423,11 +423,13 @@
             if callsign[:1] != ' ':
                 i1=callsign.find(' ')
                 callsign=callsign[:i1]
-                nseq=1440*int(lines[i][4:6]) + 60*int(lines[i][7:9]) + \
-                      int(lines[i][9:11])
-                ndf=int(lines[i][29:32])
-                bm[callsign]=(ndf,nseq)
-#                bandmap.append((ndf,callsign,nseq))
+                try:
+                    nseq=1440*int(lines[i][4:6]) + 60*int(lines[i][7:9]) + \
+                          int(lines[i][9:11])
+                    ndf=int(lines[i][29:32])
+                    bm[callsign]=(ndf,nseq)
+                except:
+                    pass
         text.configure(state=DISABLED)
         text.see(END)
 
@@ -516,8 +518,11 @@
 def put_params(param3=NONE):
     global idsec,param20
 
-    w.acom1.f0=f0.get()
-    w.acom1.ftx=ftx.get()
+    try:
+        w.acom1.f0=f0.get()
+        w.acom1.ftx=ftx.get()
+    except:
+        pass
     w.acom1.callsign=(options.MyCall.get()+'      ')[:6]
     w.acom1.grid=(options.MyGrid.get()+'    ')[:4]
     try:
@@ -544,8 +549,10 @@
     nsec=int(tsec)
     nsec0=nsec
     ns120=nsec % 120
-    ftx.set(float(sftx.get()))
-
+    try:
+        ftx.set(float(sftx.get()))
+    except:
+        pass
     isec=utc[5]
     if isec != isec0:                           #Do once per second
         isec0=isec
@@ -634,7 +641,10 @@
 
     s0=sc1.get()
     c0=sc2.get()
-    fmid=f0.get() + 0.001500
+    try:
+        fmid=f0.get() + 0.001500
+    except:
+        pass
     if fmid!=fmid0:
         draw_axis()
     ldate.after(200,update)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000409.html">[WSJT-SVN] r721 - branches/wspr
</A></li>
	<LI>Next message: <A HREF="000411.html">[WSJT-SVN] r723 - branches/wspr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
