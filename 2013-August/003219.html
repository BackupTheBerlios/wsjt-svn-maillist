<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r3527 - in branches/wsjtx: . lib
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2013-August/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r3527%20-%20in%20branches/wsjtx%3A%20.%20lib&In-Reply-To=%3C20130806172233.A673655B0C%40scm.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003218.html">
   <LINK REL="Next"  HREF="003220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r3527 - in branches/wsjtx: . lib</H1>
    <B>k1jt at scm.berlios.de</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r3527%20-%20in%20branches/wsjtx%3A%20.%20lib&In-Reply-To=%3C20130806172233.A673655B0C%40scm.berlios.de%3E"
       TITLE="[WSJT-SVN] r3527 - in branches/wsjtx: . lib">k1jt at scm.berlios.de
       </A><BR>
    <I>Tue Aug  6 19:22:33 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="003218.html">[WSJT-SVN] r3526 - branches/wsjtx
</A></li>
        <LI>Next message: <A HREF="003220.html">[WSJT-SVN] r3528 - branches/wsjtx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3219">[ date ]</a>
              <a href="thread.html#3219">[ thread ]</a>
              <a href="subject.html#3219">[ subject ]</a>
              <a href="author.html#3219">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: k1jt
Date: 2013-08-06 19:22:33 +0200 (Tue, 06 Aug 2013)
New Revision: 3527

Added:
   branches/wsjtx/WSJT-X_Users_Guide_v1.2.docx
   branches/wsjtx/lib/usleep.c
Removed:
   branches/wsjtx/lib/usleep.c
   branches/wsjtx/soundin_1.cpp
   branches/wsjtx/soundin_1.h
Modified:
   branches/wsjtx/about.cpp
   branches/wsjtx/mainwindow.cpp
   branches/wsjtx/mainwindow.ui
Log:
A number of minor cleanup efforts:
1. F1 accesses User's Guide for v1.2.
2. Larger font for &quot;S&quot; on the ui-&gt;readFreq button.
3. Finish removing the no-longer-used #ifdef's relaied to psk_reporter calls.
4. Set m_ntx=6 (Tx message #6) at program startup.
5. Remove obsolete file soundin_1.cpp.
6. Update credits displayed in the &quot;About&quot; window and in User's Guide.


Added: branches/wsjtx/WSJT-X_Users_Guide_v1.2.docx
===================================================================
(Binary files differ)


Property changes on: branches/wsjtx/WSJT-X_Users_Guide_v1.2.docx
___________________________________________________________________
Added: svn:mime-type
   + application/octet-stream

Modified: branches/wsjtx/about.cpp
===================================================================
--- branches/wsjtx/about.cpp	2013-08-05 17:41:12 UTC (rev 3526)
+++ branches/wsjtx/about.cpp	2013-08-06 17:22:33 UTC (rev 3527)
@@ -13,8 +13,8 @@
   m_Str += &quot;Amateur Radio communication.  &lt;br&gt;&lt;br&gt;&quot;;
   m_Str += &quot;Copyright 2001-2013 by Joe Taylor, K1JT -- with grateful &lt;br&gt;&quot;;
   m_Str += &quot;acknowledgment for contributions from AC6SL, AE4JY, &lt;br&gt;&quot;;
-  m_Str += &quot;G4KLA, G4WJS, K3WYC, KA6MAL, KA9Q, PY2SDR, VK3ACF, &lt;br&gt;&quot;;
-  m_Str += &quot;VK4BDJ, and W4TV.&lt;br&gt;&quot;;
+  m_Str += &quot;DJ0OT, G4KLA, G4WJS, K3WYC, KA6MAL, KA9Q, KK1D, &lt;br&gt;&quot;;
+  m_Str += &quot;PY2SDR, VK3ACF, VK4BDJ, and W4TV.&lt;br&gt;&quot;;
   ui-&gt;labelTxt-&gt;setText(m_Str);
 }
 

Deleted: branches/wsjtx/lib/usleep.c
===================================================================
--- branches/wsjtx/lib/usleep.c	2013-08-05 17:41:12 UTC (rev 3526)
+++ branches/wsjtx/lib/usleep.c	2013-08-06 17:22:33 UTC (rev 3527)
@@ -1,5 +0,0 @@
-/* usleep(3) */
-void usleep_(unsigned long *microsec)
-{
-  usleep(*microsec);
-}

Added: branches/wsjtx/lib/usleep.c
===================================================================
--- branches/wsjtx/lib/usleep.c	                        (rev 0)
+++ branches/wsjtx/lib/usleep.c	2013-08-06 17:22:33 UTC (rev 3527)
@@ -0,0 +1,5 @@
+/* usleep(3) */
+void usleep_(unsigned long *microsec)
+{
+  usleep(*microsec);
+}

Modified: branches/wsjtx/mainwindow.cpp
===================================================================
--- branches/wsjtx/mainwindow.cpp	2013-08-05 17:41:12 UTC (rev 3526)
+++ branches/wsjtx/mainwindow.cpp	2013-08-06 17:22:33 UTC (rev 3527)
@@ -138,6 +138,11 @@
   font.setWeight(fontWeight2);
   ui-&gt;decodedTextBrowser-&gt;setFont(font);
   ui-&gt;decodedTextBrowser2-&gt;setFont(font);
+  font=ui-&gt;readFreq-&gt;font();
+  font.setFamily(&quot;helvetica&quot;);
+  font.setPointSize(9);
+  font.setWeight(75);
+  ui-&gt;readFreq-&gt;setFont(font);
 
   QTimer *guiTimer = new QTimer(this);
   connect(guiTimer, SIGNAL(timeout()), this, SLOT(guiUpdate()));
@@ -293,6 +298,8 @@
       border-color: black; min-width: 5em; padding: 3px;}&quot;;
 
   genStdMsgs(m_rpt);
+  m_ntx=6;
+  ui-&gt;txrb6-&gt;setChecked(true);
   if(m_mode!=&quot;JT9&quot; and m_mode!=&quot;JT65&quot; and m_mode!=&quot;JT9+JT65&quot;) m_mode=&quot;JT9&quot;;
   on_actionWide_Waterfall_triggered();                   //###
   g_pWideGraph-&gt;setRxFreq(m_rxFreq);
@@ -350,25 +357,8 @@
   ui-&gt;decodedTextLabel-&gt;setText(t);
   ui-&gt;decodedTextLabel2-&gt;setText(t);
 
-  /*
-#ifdef WIN32
-  if(m_pskReporter) {
-    rc=ReporterInitialize(NULL,NULL);
-    if(rc==0) {
-      m_pskReporterInit=true;
-    } else {
-      m_pskReporterInit=false;
-      rc=ReporterGetInformation(buffer,256);
-      msgBox(QString::fromStdWString(buffer));
-    }
-  }
-#endif
-
-#ifdef UNIX
-*/
   psk_Reporter = new PSK_Reporter(this);
   psk_Reporter-&gt;setLocalStation(m_myCall,m_myGrid, m_antDescription[m_band], &quot;WSJT-X r&quot; + rev.mid(6,4) );
-//#endif
 
   m_logBook.init();
 
@@ -814,33 +804,11 @@
     ui-&gt;bandComboBox-&gt;clear();
     ui-&gt;bandComboBox-&gt;addItems(dlg.m_bandDescription);
     ui-&gt;bandComboBox-&gt;setCurrentIndex(m_band);
-
-/*
-#ifdef WIN32
-    if(dlg.m_pskReporter!=m_pskReporter) {
-      if(dlg.m_pskReporter) {
-        int rc=ReporterInitialize(NULL,NULL);
-        if(rc==0) {
-          m_pskReporterInit=true;
-        } else {
-          m_pskReporterInit=false;
-          rc=ReporterGetInformation(buffer,256);
-          msgBox(QString::fromStdWString(buffer));
-        }
-      } else {
-        rc=ReporterUninitialize();
-        m_pskReporterInit=false;
-      }
-    }
-#endif
-*/
     m_pskReporter=dlg.m_pskReporter;
 
-//#ifdef UNIX
     if(m_pskReporter) {
       psk_Reporter-&gt;setLocalStation(m_myCall, m_myGrid, m_antDescription[m_band], &quot;WSJT-X r&quot; + rev.mid(6,4) );
     }
-//#endif
 
     m_After73=dlg.m_After73;
 
@@ -862,6 +830,8 @@
 
   if(dlg.m_bSplit!=m_bSplit or dlg.m_bXIT!=m_bXIT) {
     m_bSplit=dlg.m_bSplit;
+    if(m_bSplit) ui-&gt;readFreq-&gt;setText(&quot;S&quot;);
+    if(!m_bSplit) ui-&gt;readFreq-&gt;setText(&quot;&quot;);
     m_bXIT=dlg.m_bXIT;
     if(m_bSplit or m_bXIT) setXIT(m_txFreq);
     if(m_bRigOpen and !m_bSplit) {
@@ -1154,7 +1124,7 @@
 void MainWindow::on_actionOnline_Users_Guide_triggered()      //Display manual
 {
   QDesktopServices::openUrl(QUrl(
-  &quot;<A HREF="http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide_v1.1.1.pdf">http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide_v1.1.1.pdf</A>&quot;,
+  &quot;<A HREF="http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide_v1.2.pdf">http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide_v1.2.pdf</A>&quot;,
                               QUrl::TolerantMode));
 }
 
@@ -1595,30 +1565,6 @@
       wchar_t tremote[256];
       remote.toWCharArray(tremote);
 
-/*
-#ifdef WIN32
-      if(m_pskReporterInit and b and !m_diskData and okToPost) {
-
-        QString local=&quot;station_callsign#&quot; + m_myCall + &quot;#&quot; +
-            &quot;my_gridsquare#&quot; + m_myGrid + &quot;#&quot;;
-        if (m_antDescription[m_band]!=&quot;&quot;) 
-			local += &quot;my_antenna#&quot; + m_antDescription[m_band] + &quot;#&quot;;
-        local += &quot;programid#WSJT-X#programversion#&quot; + rev.mid(6,4) + &quot;##&quot;;
-        wchar_t tlocal[256];
-        local.toWCharArray(tlocal);
-
-        int flags=REPORTER_SOURCE_AUTOMATIC;
-        rc=ReporterSeenCallsign(tremote,tlocal,flags);
-        if(rc!=0) {
-          ReporterGetInformation(buffer,256);
-        }
-        rc=ReporterTickle();
-        if(rc!=0) {
-          rc=ReporterGetInformation(buffer,256);
-        }
-      }
-#else
-*/
       if(m_pskReporter and b and !m_diskData and okToPost) {
         psk_Reporter-&gt;setLocalStation(m_myCall, m_myGrid, m_antDescription[m_band], &quot;WSJT-X r&quot; + rev.mid(6,4) );
         QString freq = QString::number(nfreq);
@@ -1628,7 +1574,6 @@
                    QString::number(QDateTime::currentDateTime().toTime_t()));
         }
       }
-//#endif
     }
   }
 }
@@ -2822,9 +2767,7 @@
   out &lt;&lt; QDateTime::currentDateTimeUtc().toString(&quot;yyyy-MMM-dd hh:mm&quot;)
       &lt;&lt; &quot;  &quot; &lt;&lt; m_dialFreq &lt;&lt; &quot; MHz  &quot; &lt;&lt; m_mode &lt;&lt; endl;
   f2.close();
-#ifdef UNIX
   psk_Reporter-&gt;setLocalStation(m_myCall, m_myGrid, m_antDescription[m_band], &quot;WSJT-X r&quot; + rev.mid(6,4) );
-#endif
 }
 
 void MainWindow::on_actionPrompt_to_log_QSO_triggered(bool checked)
@@ -3045,10 +2988,6 @@
 																border-width: 0px; border-radius: 5px;}&quot;);
   }
 
-  QFont font=ui-&gt;readFreq-&gt;font();
-  font.setPointSize(9);
-  font.setWeight(75);
-  ui-&gt;readFreq-&gt;setFont(font);
   if(m_bSplit) ui-&gt;readFreq-&gt;setText(&quot;S&quot;);
   if(!m_bSplit) ui-&gt;readFreq-&gt;setText(&quot;&quot;);
   } else {

Modified: branches/wsjtx/mainwindow.ui
===================================================================
--- branches/wsjtx/mainwindow.ui	2013-08-05 17:41:12 UTC (rev 3526)
+++ branches/wsjtx/mainwindow.ui	2013-08-06 17:22:33 UTC (rev 3527)
@@ -1214,9 +1214,18 @@
          &lt;property name=&quot;spacing&quot;&gt;
           &lt;number&gt;0&lt;/number&gt;
          &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
+         &lt;property name=&quot;leftMargin&quot;&gt;
           &lt;number&gt;0&lt;/number&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;topMargin&quot;&gt;
+          &lt;number&gt;0&lt;/number&gt;
+         &lt;/property&gt;
+         &lt;property name=&quot;rightMargin&quot;&gt;
+          &lt;number&gt;0&lt;/number&gt;
+         &lt;/property&gt;
+         &lt;property name=&quot;bottomMargin&quot;&gt;
+          &lt;number&gt;0&lt;/number&gt;
+         &lt;/property&gt;
          &lt;item&gt;
           &lt;widget class=&quot;QTabWidget&quot; name=&quot;tabWidget&quot;&gt;
            &lt;property name=&quot;sizePolicy&quot;&gt;
@@ -1345,7 +1354,7 @@
                   &lt;string/&gt;
                  &lt;/property&gt;
                  &lt;property name=&quot;checked&quot;&gt;
-                  &lt;bool&gt;true&lt;/bool&gt;
+                  &lt;bool&gt;false&lt;/bool&gt;
                  &lt;/property&gt;
                  &lt;attribute name=&quot;buttonGroup&quot;&gt;
                   &lt;string notr=&quot;true&quot;&gt;buttonGroup&lt;/string&gt;
@@ -1687,6 +1696,9 @@
                  &lt;property name=&quot;text&quot;&gt;
                   &lt;string/&gt;
                  &lt;/property&gt;
+                 &lt;property name=&quot;checked&quot;&gt;
+                  &lt;bool&gt;true&lt;/bool&gt;
+                 &lt;/property&gt;
                  &lt;attribute name=&quot;buttonGroup&quot;&gt;
                   &lt;string notr=&quot;true&quot;&gt;buttonGroup&lt;/string&gt;
                  &lt;/attribute&gt;
@@ -1757,9 +1769,18 @@
              &lt;property name=&quot;spacing&quot;&gt;
               &lt;number&gt;0&lt;/number&gt;
              &lt;/property&gt;
-             &lt;property name=&quot;margin&quot;&gt;
+             &lt;property name=&quot;leftMargin&quot;&gt;
               &lt;number&gt;0&lt;/number&gt;
              &lt;/property&gt;
+             &lt;property name=&quot;topMargin&quot;&gt;
+              &lt;number&gt;0&lt;/number&gt;
+             &lt;/property&gt;
+             &lt;property name=&quot;rightMargin&quot;&gt;
+              &lt;number&gt;0&lt;/number&gt;
+             &lt;/property&gt;
+             &lt;property name=&quot;bottomMargin&quot;&gt;
+              &lt;number&gt;0&lt;/number&gt;
+             &lt;/property&gt;
              &lt;item&gt;
               &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_7&quot;&gt;
                &lt;property name=&quot;spacing&quot;&gt;
@@ -2202,7 +2223,7 @@
      &lt;x&gt;0&lt;/x&gt;
      &lt;y&gt;0&lt;/y&gt;
      &lt;width&gt;760&lt;/width&gt;
-     &lt;height&gt;22&lt;/height&gt;
+     &lt;height&gt;21&lt;/height&gt;
     &lt;/rect&gt;
    &lt;/property&gt;
    &lt;widget class=&quot;QMenu&quot; name=&quot;menuFile&quot;&gt;

Deleted: branches/wsjtx/soundin_1.cpp
===================================================================
--- branches/wsjtx/soundin_1.cpp	2013-08-05 17:41:12 UTC (rev 3526)
+++ branches/wsjtx/soundin_1.cpp	2013-08-06 17:22:33 UTC (rev 3527)
@@ -1,210 +0,0 @@
-#include &quot;soundin.h&quot;
-#include &lt;stdexcept&gt;
-
-#define FRAMES_PER_BUFFER 1024
-//#define NSMAX 1365
-#define NSMAX 6827
-#define NTMAX 120
-
-extern &quot;C&quot; {
-#include &lt;portaudio.h&gt;
-extern struct {
-  float ss[184*NSMAX];              //This is &quot;common/jt9com/...&quot; in fortran
-  float savg[NSMAX];
-//  float c0[2*NTMAX*1500];
-  short int d2[NTMAX*12000];
-  int nutc;                         //UTC as integer, HHMM
-  int ndiskdat;                     //1 ==&gt; data read from *.wav file
-  int ntrperiod;                    //TR period (seconds)
-  int mousefqso;                    //User-selected QSO freq (kHz)
-  int newdat;                       //1 ==&gt; new data, must do long FFT
-  int npts8;                        //npts in c0() array
-  int nfa;                          //Low decode limit (Hz)
-  int nfb;                          //High decode limit (Hz)
-  int ntol;                         //+/- decoding range around fQSO (Hz)
-  int kin;
-  int nzhsym;
-  int nsave;
-  int nagain;
-  int ndepth;
-  int ntxmode;
-  int nmode;
-  char datetime[20];
-} jt9com_;
-}
-
-QString reportAudioError(QAudio::Error audioError)
-{
-	switch (audioError) {
-	case QAudio::NoError: Q_ASSERT(false);
-	case QAudio::OpenError: return QObject::tr(
-					&quot;An error opening the audio device has occurred.&quot;);
-	case QAudio::IOError: return QObject::tr(
-					&quot;An error occurred during read/write of audio device.&quot;);
-	case QAudio::UnderrunError: return QObject::tr(
-					&quot;Audio data not being fed to the audio device fast enough.&quot;);
-	case QAudio::FatalError: return QObject::tr(
-					&quot;Non-recoverable error, audio device not usable at this time.&quot;);
-	}
-	Q_ASSERT(false);
-	return &quot;&quot;;
-}
-
-typedef struct
-{
-  int kin;          //Parameters sent to/from the portaudio callback function
-  int ncall;
-  bool bzero;
-  bool monitoring;
-} paUserData;
-
-
-void SoundInThread::run()                           //SoundInThread::run()
-{
-  quitExecution = false;
-
-//---------------------------------------------------- Soundcard Setup
-
-	quitExecutionMutex.lock();
-	quitExecution = false;
-	quitExecutionMutex.unlock();
-
-	//### Temporary: hardwired device selection
-	QAudioDeviceInfo  DeviceInfo;
-	QList&lt;QAudioDeviceInfo&gt; m_InDevices;
-	QAudioDeviceInfo  m_InDeviceInfo;
-	m_InDevices = DeviceInfo.availableDevices(QAudio::AudioInput);
-	inputDevice = m_InDevices.at(0);
-	//###
-
-	const char* pcmCodec = &quot;audio/pcm&quot;;
-	QAudioFormat audioFormat = inputDevice.preferredFormat();
-	audioFormat.setChannelCount(1);
-	audioFormat.setCodec(pcmCodec);
-	audioFormat.setSampleRate(12000);
-	audioFormat.setSampleType(QAudioFormat::SignedInt);
-	audioFormat.setSampleSize(16);
-
-	if (!audioFormat.isValid()) {
-		emit error(tr(&quot;Requested audio format is not available.&quot;));
-		return;
-	}
-
-	QAudioInput audioInput(inputDevice, audioFormat);
-	if (audioInput.error() != QAudio::NoError) {
-		emit error(reportAudioError(audioInput.error()));
-		return;
-	}
-
-	QIODevice* stream = audioInput.start();
-
-  bool qe = quitExecution;
-  static int ntr0=99;
-  int k=0;
-  int nsec;
-  int ntr;
-  int nBusy=0;
-  int nstep0=0;
-  int nsps0=0;
-	qint16 buf0[4096];
-
-//---------------------------------------------- Soundcard input loop
-  while (!qe) {
-		quitExecutionMutex.lock();
-		qe = quitExecution;
-		quitExecutionMutex.unlock();
-    if (qe) break;
-
-		// Error checking...
-		if (audioInput.error() != QAudio::NoError) {
-			emit error(reportAudioError(audioInput.error()));
-			return;
-		}
-
-//  udata.monitoring=m_monitoring;
-    qint64 ms = QDateTime::currentMSecsSinceEpoch();
-    ms=ms % 86400000;
-    nsec = ms/1000;             // Time according to this computer
-    ntr = nsec % m_TRperiod;
-
-// Reset buffer pointer and symbol number at start of minute
-    if(ntr &lt; ntr0 or !m_monitoring or m_nsps!=nsps0) {
-      nstep0=0;
-      nsps0=m_nsps;
-//    udata.bzero=true;
-			k=0;
-    }
-//  k=udata.kin;
-
-		// How many new samples have been acquired?
-		const qint32 bytesReady = audioInput.bytesReady();
-		Q_ASSERT(bytesReady &gt;= 0);
-		Q_ASSERT(bytesReady % 2 == 0);
-		if (bytesReady == 0) {
-			msleep(50);
-			continue;
-		}
-
-		// Get the new samples
-		qint32 bytesRead;
-		bytesRead = stream-&gt;read((char*)buf0, bytesReady);
-		Q_ASSERT(bytesRead &lt;= bytesReady);
-		if (bytesRead &lt; 0) {
-			emit error(tr(&quot;audio stream QIODevice::read returned -1.&quot;));
-			return;
-		}
-		Q_ASSERT(bytesRead % 2 == 0);
-
-//		memcpy(jt9com_.d2[k],buf0,bytesRead);
-//		k+=bytesRead/2;
-
-		for(int i=0; i&lt;bytesRead/2; i++) {
-			jt9com_.d2[k++]=buf0[i];
-		}
-
-    if(m_monitoring) {
-      int kstep=m_nsps/2;
-      m_step=(k-1)/kstep;
-      if(m_step != nstep0) {
-        if(m_dataSinkBusy) {
-          nBusy++;
-        } else {
-          emit readyForFFT(k-1);         //Signal to compute new FFTs
-        }
-        nstep0=m_step;
-      }
-    }
-    msleep(100);
-    ntr0=ntr;
-  }
-//  Pa_StopStream(inStream);
-//  Pa_CloseStream(inStream);
-}
-
-void SoundInThread::setInputDevice(int n)                  //setInputDevice()
-{
-  if (isRunning()) return;
-  this-&gt;m_nDevIn=n;
-}
-
-void SoundInThread::quit()                                       //quit()
-{
-  quitExecution = true;
-}
-
-void SoundInThread::setMonitoring(bool b)                    //setMonitoring()
-{
-  m_monitoring = b;
-}
-
-void SoundInThread::setPeriod(int ntrperiod, int nsps)
-{
-  m_TRperiod=ntrperiod;
-  m_nsps=nsps;
-}
-
-int SoundInThread::mstep()
-{
-  return m_step;
-}
-

Deleted: branches/wsjtx/soundin_1.h
===================================================================
--- branches/wsjtx/soundin_1.h	2013-08-05 17:41:12 UTC (rev 3526)
+++ branches/wsjtx/soundin_1.h	2013-08-06 17:22:33 UTC (rev 3527)
@@ -1,53 +0,0 @@
-#ifndef SOUNDIN_H
-#define SOUNDIN_H
-
-#include &lt;QtCore&gt;
-#include &lt;QDebug&gt;
-
-#include &lt;QAudioDeviceInfo&gt;
-#include &lt;QAudioInput&gt;
-#include &lt;valarray&gt;
-
-// Thread gets audio data from soundcard and signals when a buffer of
-// specified size is available.
-class SoundInThread : public QThread
-{
-  Q_OBJECT
-  bool quitExecution;           // if true, thread exits gracefully
-	QMutex quitExecutionMutex;    // protects the quitExecution variable
-	QAudioDeviceInfo inputDevice; // audioinput device name
-
-protected:
-  virtual void run();
-
-public:
-  bool m_dataSinkBusy;
-
-  SoundInThread():
-    quitExecution(false),
-    m_dataSinkBusy(false)
-  {
-  }
-
-  void setInputDevice(qint32 n);
-  void setMonitoring(bool b);
-  void setPeriod(int ntrperiod, int nsps);
-  int  mstep();
-
-signals:
-  void readyForFFT(int k);
-  void error(const QString&amp; message);
-  void status(const QString&amp; message);
-
-public slots:
-  void quit();
-
-private:
-  qint32 m_step;
-  qint32 m_nDevIn;
-  qint32 m_TRperiod;
-  qint32 m_TRperiod0;
-  qint32 m_nsps;
-  bool   m_monitoring;
-};
-#endif // SOUNDIN_H

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003218.html">[WSJT-SVN] r3526 - branches/wsjtx
</A></li>
	<LI>Next message: <A HREF="003220.html">[WSJT-SVN] r3528 - branches/wsjtx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3219">[ date ]</a>
              <a href="thread.html#3219">[ thread ]</a>
              <a href="subject.html#3219">[ subject ]</a>
              <a href="author.html#3219">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
