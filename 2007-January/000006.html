<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r321 - branches/map65
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r321%20-%20branches/map65&In-Reply-To=%3C200701082054.l08KscVZ010112%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000005.html">
   <LINK REL="Next"  HREF="000007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r321 - branches/map65</H1>
    <B>k1jt at mail.berlios.de</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r321%20-%20branches/map65&In-Reply-To=%3C200701082054.l08KscVZ010112%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r321 - branches/map65">k1jt at mail.berlios.de
       </A><BR>
    <I>Mon Jan  8 21:54:38 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000005.html">[WSJT-SVN] Directory for branches
</A></li>
        <LI>Next message: <A HREF="000007.html">[WSJT-SVN] r322 - branches/map65
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6">[ date ]</a>
              <a href="thread.html#6">[ thread ]</a>
              <a href="subject.html#6">[ subject ]</a>
              <a href="author.html#6">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: k1jt
Date: 2007-01-08 21:54:34 +0100 (Mon, 08 Jan 2007)
New Revision: 321

Added:
   branches/map65/map65rc
   branches/map65/map65rc.win
Removed:
   branches/map65/wsjtrc
   branches/map65/wsjtrc.win
Modified:
   branches/map65/specjt.py
   branches/map65/wsjt.py
Log:
Deleted map65.py


Added: branches/map65/map65rc
===================================================================
--- branches/map65/map65rc	2007-01-08 20:13:56 UTC (rev 320)
+++ branches/map65/map65rc	2007-01-08 20:54:34 UTC (rev 321)
@@ -0,0 +1,9 @@
+*font:			&quot;bitstream vera sans&quot; 11
+*Label*font:		&quot;bitstream vera sans&quot; 11
+*Text*font:		&quot;terminus&quot; 13
+*Canvas*font:           &quot;LucidaTypewriter&quot; 18
+*background:		gray85
+*Text*background:	white
+*Entry*background:	white
+*foreground:		black
+*Listbox*foreground:	RoyalBlue

Added: branches/map65/map65rc.win
===================================================================
--- branches/map65/map65rc.win	2007-01-08 20:13:56 UTC (rev 320)
+++ branches/map65/map65rc.win	2007-01-08 20:54:34 UTC (rev 321)
@@ -0,0 +1,9 @@
+*font:			Arial 8
+*Label*font:		Arial 8
+*Text*font:		&quot;Courier New&quot; 9
+*Canvas*font:           &quot;Lucida Console&quot; 16
+*background:		gray85
+*Text*background:	white
+*Entry*background:	white
+*foreground:		black
+*Listbox*foreground:	RoyalBlue

Modified: branches/map65/specjt.py
===================================================================
--- branches/map65/specjt.py	2007-01-08 20:13:56 UTC (rev 320)
+++ branches/map65/specjt.py	2007-01-08 20:54:34 UTC (rev 321)
@@ -550,7 +550,7 @@
 
 #----------------------------------------------- Restore params from INI file
 try:
-    f=open('WSJT.INI',mode='r')
+    f=open('MAP65.INI',mode='r')
     params=f.readlines()
 except:
     params=&quot;&quot;
@@ -573,7 +573,7 @@
         elif key == 'Fmid': fmid=int(value)
         else: pass
 except:
-    print 'Error reading WSJT.INI, continuing with defaults.'
+    print 'Error reading MAP65.INI, continuing with defaults.'
     print key,value
         
 #------------------------------------------------------  Select palette
@@ -618,13 +618,13 @@
 root.deiconify()
 g.showspecjt=2
 if g.Win32: root.iconbitmap(&quot;wsjt.ico&quot;)
-root.title('  SpecJT     by K1JT')
+root.title('  MAP65     by K1JT')
 if(__name__==&quot;__main__&quot;):
     Audio.gcom2.monitoring=1
 root.mainloop()
 
 #-------------------------------------------------- Save user params and quit
-f=open('WSJT.INI',mode='w')
+f=open('MAP65.INI',mode='w')
 f.write(&quot;UpdateInterval &quot; + str(nspeed0.get()) + &quot;\n&quot;)
 f.write(&quot;Brightness &quot; + str(b0)+ &quot;\n&quot;)
 f.write(&quot;Contrast &quot; + str(c0)+ &quot;\n&quot;)

Modified: branches/map65/wsjt.py
===================================================================
--- branches/map65/wsjt.py	2007-01-08 20:13:56 UTC (rev 320)
+++ branches/map65/wsjt.py	2007-01-08 20:54:34 UTC (rev 321)
@@ -1,4 +1,4 @@
-#------------------------------------------------------------------- WSJT
+#------------------------------------------------------------------- MAP65
 # $Date$ $Revision$
 #
 from Tkinter import *
@@ -17,9 +17,9 @@
 import array
 
 root = Tk()
-Version=&quot;5.9.6 r&quot; + &quot;$Rev$&quot;[6:-1]
+Version=&quot;0.1 r&quot; + &quot;$Rev$&quot;[6:-1]
 print &quot;******************************************************************&quot;
-print &quot;WSJT Version &quot; + Version + &quot;, by K1JT&quot;
+print &quot;MAP65 Version &quot; + Version + &quot;, by K1JT&quot;
 print &quot;Revision date: &quot; + \
       &quot;$Date$&quot;[7:-1]
 print &quot;Run date:   &quot; + time.asctime(time.gmtime()) + &quot; UTC&quot;
@@ -29,12 +29,12 @@
 if sys.platform==&quot;win32&quot;:
     g.Win32=1
     try:
-        root.option_readfile('wsjtrc.win')
+        root.option_readfile('map65rc.win')
     except:
         pass
 else:
     try:
-        root.option_readfile('wsjtrc')
+        root.option_readfile('map65rc')
     except:
         pass
 root_geom=&quot;&quot;
@@ -54,6 +54,7 @@
 #irdsec=0
 lauto=0
 altmsg=0
+bm_geom=&quot;&quot;
 cmap0=&quot;Linrad&quot;
 fileopened=&quot;&quot;
 font1='Helvetica'
@@ -189,7 +190,7 @@
 def logqso(event=NONE):
     t=time.strftime(&quot;%Y-%b-%d,%H:%M&quot;,time.gmtime())
     t=t+&quot;,&quot;+hiscall+&quot;,&quot;+hisgrid+&quot;,&quot;+str(g.nfreq)+&quot;,&quot;+g.mode+&quot;\n&quot;
-    t2=&quot;Please confirm making the following entry in WSJT.LOG:\n\n&quot; + t
+    t2=&quot;Please confirm making the following entry in MAP65.LOG:\n\n&quot; + t
     msg=Pmw.MessageDialog(root,buttons=('Yes','No'),message_text=t2)
     msg.geometry(msgpos())
     if g.Win32: msg.iconbitmap(&quot;wsjt.ico&quot;)
@@ -643,19 +644,14 @@
     about=Toplevel(root)
     about.geometry(msgpos())
     if g.Win32: about.iconbitmap(&quot;wsjt.ico&quot;)
-    t=&quot;WSJT Version &quot; + Version + &quot;, by K1JT&quot;
+    t=&quot;MAP65 Version &quot; + Version + &quot;, by K1JT&quot;
     Label(about,text=t,font=(font1,16)).pack(padx=20,pady=5)
     t=&quot;&quot;&quot;
-WSJT is a weak signal communications program.  It supports
-four operating modes:
+MAP65 is a weak signal communications program designed primarily
+for the Earth-Moon-Earth (EME) propagation path.
 
-  1. FSK441 - fast mode for meteor scatter
-  2. JT6M   - optimized for meteor and ionospheric scatter on 50 MHz
-  3. JT65   - for EME and troposcatter
-  4. CW     - 15 WPM Morse code, messages structured for EME
-
 Copyright (c) 2001-2006 by Joseph H. Taylor, Jr., K1JT, with
-contributions from additional authors.  WSJT is Open Source 
+contributions from additional authors.  MAP65 is Open Source 
 software, licensed under the GNU General Public License (GPL).
 Source code and programming information may be found at 
 <A HREF="http://developer.berlios.de/projects/wsjt/.">http://developer.berlios.de/projects/wsjt/.</A>
@@ -674,7 +670,7 @@
     t=&quot;&quot;&quot;
 F1	List keyboard shortcuts
 Shift+F1	List special mouse commands
-Ctrl+F1	About WSJT
+Ctrl+F1	About MAP65
 F2	Options
 F3	Tx Mute
 F4	Clear &quot;To Radio&quot;
@@ -1289,11 +1285,26 @@
             xy2.append(n)
         graph1.create_line(xy2,fill=&quot;yellow&quot;)
 
+#------------------------------------------------------ bandmap
+def bandmap(event=NONE):
+    global Version,bm,bm_geom
+    bm=Toplevel(root)
+    bm.geometry(bm_geom)
+    if g.Win32: bm.iconbitmap(&quot;wsjt.ico&quot;)
+    iframe_bm1 = Frame(bm, bd=1, relief=SUNKEN)
+    text=Text(iframe_bm1, height=35, width=30, bg=&quot;Navy&quot;)
+    text.pack(side=LEFT, fill=X, padx=1)
+    text.pack(side=LEFT, fill=X, padx=1)
+    sb = Scrollbar(iframe_bm1, orient=VERTICAL, command=text.yview)
+    sb.pack(side=RIGHT, fill=Y)
+    text.configure(yscrollcommand=sb.set)
+    iframe_bm1.pack(expand=1, fill=X, padx=4)
+
 #------------------------------------------------------ update
 def update():
     global root_geom,isec0,naz,nel,ndmiles,ndkm,nhotaz,nhotabetter,nopen, \
            im,pim,cmap0,isync,isync441,isync6m,isync65,isync_save,idsec, \
-           first,itol,txsnrdb,tx6alt
+           first,itol,txsnrdb,tx6alt,bm_geom
     
     utc=time.gmtime(time.time()+0.1*idsec)
     isec=utc[5]
@@ -1304,6 +1315,7 @@
         Audio.gcom2.utcdate=t[:12]
         ldate.configure(text=t)
         root_geom=root.geometry()
+        bm_geom=bm.geometry()
         utchours=utc[3]+utc[4]/60.0 + utc[5]/3600.0
         naz,nel,ndmiles,ndkm,nhotaz,nhotabetter=Audio.azdist0( \
             options.MyGrid.get().upper(),HisGrid.get().upper(),utchours)
@@ -1697,7 +1709,7 @@
              command = what2send, accelerator='F5')
 helpmenu.add('command', label = 'Available suffixes and add-on prefixes', \
              command = prefixes)
-helpmenu.add('command', label = 'About WSJT', command = about, \
+helpmenu.add('command', label = 'About MAP65', command = about, \
              accelerator='Ctrl+F1')
 
 #------------------------------------------------------ Graphics areas
@@ -2031,7 +2043,7 @@
 
 #---------------------------------------------------------- Process INI file
 try:
-    f=open(appdir+'/WSJT.INI',mode='r')
+    f=open(appdir+'/MAP65.INI',mode='r')
     params=f.readlines()
 except:
     params=&quot;&quot;
@@ -2044,7 +2056,8 @@
 try:
     for i in range(len(params)):
         key,value=params[i].split()
-        if   key == 'WSJTGeometry': root.geometry(value)
+        if   key == 'MAP65Geometry': root.geometry(value)
+        elif key == 'BMGeometry': bm_geom=value
         elif key == 'Mode':
             mode.set(value)
             if value=='FSK441':
@@ -2156,7 +2169,7 @@
             if mode.get()[:2]==&quot;CW&quot;: Audio.gcom1.trperiod=ncwtrperiod
         else: pass
 except:
-    print 'Error reading WSJT.INI, continuing with defaults.'
+    print 'Error reading MAP65.INI, continuing with defaults.'
     print key,value
 
 g.mode=mode.get()
@@ -2173,7 +2186,8 @@
 stopmon()
 first=1
 if g.Win32: root.iconbitmap(&quot;wsjt.ico&quot;)
-root.title('  WSJT 6     by K1JT')
+root.title('  MAP65     by K1JT')
+bandmap()
 import astro
 import specjt
 
@@ -2181,9 +2195,11 @@
 #root.mainloop()   #Superseded by mainloop in SpecJT
 
 # Clean up and save user options before terminating
-f=open(appdir+'/WSJT.INI',mode='a')
+f=open(appdir+'/MAP65.INI',mode='a')
 root_geom=root_geom[root_geom.index(&quot;+&quot;):]
-f.write(&quot;WSJTGeometry &quot; + root_geom + &quot;\n&quot;)
+f.write(&quot;MAP65Geometry &quot; + root_geom + &quot;\n&quot;)
+bm_geom=bm_geom[bm_geom.index(&quot;+&quot;):]
+f.write(&quot;BMGeometry &quot; + bm_geom + &quot;\n&quot;)
 f.write(&quot;Mode &quot; + g.mode + &quot;\n&quot;)
 f.write(&quot;MyCall &quot; + options.MyCall.get() + &quot;\n&quot;)
 f.write(&quot;MyGrid &quot; + options.MyGrid.get() + &quot;\n&quot;)

Deleted: branches/map65/wsjtrc
===================================================================
--- branches/map65/wsjtrc	2007-01-08 20:13:56 UTC (rev 320)
+++ branches/map65/wsjtrc	2007-01-08 20:54:34 UTC (rev 321)
@@ -1,9 +0,0 @@
-*font:			&quot;bitstream vera sans&quot; 11
-*Label*font:		&quot;bitstream vera sans&quot; 11
-*Text*font:		&quot;terminus&quot; 13
-*Canvas*font:           &quot;LucidaTypewriter&quot; 18
-*background:		gray85
-*Text*background:	white
-*Entry*background:	white
-*foreground:		black
-*Listbox*foreground:	RoyalBlue

Deleted: branches/map65/wsjtrc.win
===================================================================
--- branches/map65/wsjtrc.win	2007-01-08 20:13:56 UTC (rev 320)
+++ branches/map65/wsjtrc.win	2007-01-08 20:54:34 UTC (rev 321)
@@ -1,9 +0,0 @@
-*font:			Arial 8
-*Label*font:		Arial 8
-*Text*font:		&quot;Courier New&quot; 9
-*Canvas*font:           &quot;Lucida Console&quot; 16
-*background:		gray85
-*Text*background:	white
-*Entry*background:	white
-*foreground:		black
-*Listbox*foreground:	RoyalBlue


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000005.html">[WSJT-SVN] Directory for branches
</A></li>
	<LI>Next message: <A HREF="000007.html">[WSJT-SVN] r322 - branches/map65
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6">[ date ]</a>
              <a href="thread.html#6">[ thread ]</a>
              <a href="subject.html#6">[ subject ]</a>
              <a href="author.html#6">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
