<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r1801 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1801%20-%20trunk&In-Reply-To=%3C201002282046.o1SKkVol002684%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001492.html">
   <LINK REL="Next"  HREF="001494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r1801 - trunk</H1>
    <B>g4kla at mail.berlios.de</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1801%20-%20trunk&In-Reply-To=%3C201002282046.o1SKkVol002684%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r1801 - trunk">g4kla at mail.berlios.de
       </A><BR>
    <I>Sun Feb 28 21:46:31 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001492.html">[WSJT-SVN] r1800 - trunk
</A></li>
        <LI>Next message: <A HREF="001494.html">[WSJT-SVN] r1802 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1493">[ date ]</a>
              <a href="thread.html#1493">[ thread ]</a>
              <a href="subject.html#1493">[ subject ]</a>
              <a href="author.html#1493">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: g4kla
Date: 2010-02-28 21:46:30 +0100 (Sun, 28 Feb 2010)
New Revision: 1801

Added:
   trunk/Wsjt_Howto_MacOSX_10.6.html
Log:
Updated Howto for Mac OS X Snow Leopard

Added: trunk/Wsjt_Howto_MacOSX_10.6.html
===================================================================
--- trunk/Wsjt_Howto_MacOSX_10.6.html	2010-02-16 17:00:39 UTC (rev 1800)
+++ trunk/Wsjt_Howto_MacOSX_10.6.html	2010-02-28 20:46:30 UTC (rev 1801)
@@ -0,0 +1,88 @@
+&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Howto Install WSJT on Mac OS X Snow Leopard&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
+&lt;p&gt;&lt;div align=&quot;center&quot;&gt;Notes by John Nelson G4KLA&lt;br&gt;25 Feburary 2010&lt;br&gt;
+(with acknowledgment to Joe Large W6CQZ for breaking the ground.)&lt;/div&gt;&lt;br&gt;&lt;br&gt;
+&lt;font size=&quot;1&quot; face=&quot;Verdana&quot;&gt;
+Mac OS X 10.6 (Snow Leopard) differs significantly from Mac OS X 10.5 (Leopard) in that compilations 
+default to 64-bit operation instead of 32-bit.   A new Fortran compiler is needed and must not co-exist 
+with any previous compiler you might have installed.  In addition, some compiler options that were
+available previously have now been abandoned. You will need some experience with using Unix commands
+but if what follows is too daunting, contact me and I will try and help.   (If you want installation
+directions for an earlier version of Mac OS X such as  10.4 or 10.5 on either an PowerPC or Intel Mac, 
+please contact me - email address below.)&lt;br&gt;
+Snow Leopard has Python 2.6 installed (64-bit by default) but with old versions of other infrastructure. 
+We will come to this later.   Hint:  I suggest you ensure that your path environment parameter contains
+the current directory as &quot;.&quot;&lt;br&gt;&lt;br&gt;
+&lt;b&gt;Step 1. &lt;/b&gt;You need to install the Mac Developer Tool - Xcode.   Visit 
+&lt;a href=&quot;<A HREF="http://developer.apple.com/support/mac/tools">http://developer.apple.com/support/mac/tools</A>&quot;&gt;<A HREF="http://developer.apple.com/support/mac/tools&lt;/a">http://developer.apple.com/support/mac/tools&lt;/a</A>&gt;  and create a (free) ADC account
+then visit the Developer Tools in the downloads section and get the latest release
+of Xcode Developer Tools.  This must be the version for Snow Leopard and will  3.2.1 or later.  You will need  Fortran.&lt;br&gt;&lt;br&gt;
+&lt;b&gt;Step 2. &lt;/b&gt;There are several versions that are available but I recommend 
+&lt;a href=&quot;<A HREF="http://r.research.att.com/tools">http://r.research.att.com/tools</A>&quot;&gt;<A HREF="http://r.research.att.com/tools&lt;/a">http://r.research.att.com/tools&lt;/a</A>&gt;.   At the time of writing the latest version is
+gfortran-4.2-5646.pkg for Snow Leopard.   Download this and install.&lt;br&gt; &lt;br&gt;
+&lt;b&gt;Step 3. &lt;/b&gt;Now you have the basic Mac infrastructure.  Next you need support for
+python and WSJT code. I suggest you make an installation directory such as WSJT/Installation
+into which these various downloads will be kept. &lt;br&gt;&lt;br&gt;
+&lt;em&gt;Fast Fourier Transform library&lt;/em&gt;  Visit &lt;a href=&quot;<A HREF="http://www.fftw.org">http://www.fftw.org</A>&quot;&gt;<A HREF="http://www.fftw.org&lt;/a">http://www.fftw.org&lt;/a</A>&gt; and get the latest release which is
+currently fftw-3.2.2.tar.gz. A useful way to untar a file and  to keep the original download is: &lt;br&gt; gzip -dc fftw-3.2.2.tar.gz | tar -xvf - &lt;br&gt;
+Then: &lt;br&gt;cd  fftw-3.2.2 &lt;br&gt; configure --enable-float CC=&quot;gcc -arch i386 -arch x86_64&quot; CXX=&quot;g++ -arch -i386 -arch x86_64&quot; 
+CPP=&quot;gcc -E&quot; CXXPP=&quot;g++ -E&quot; &lt;br&gt;
+make &lt;br&gt;
+sudo make install&lt;br&gt;&lt;br&gt;
+&lt;em&gt;Numpy&lt;/em&gt;  Change back to the Installation directory and get numpy as follows.
+Visit &lt;a href=&quot;<A HREF="http://www.scipy.org/Download">http://www.scipy.org/Download</A>&quot;&gt;<A HREF="http://www.scipy.org/Download&lt;/a">http://www.scipy.org/Download&lt;/a</A>&gt; and get the official release from SourceForge. 
+This is 1.3.0 and select numpy-1.3.0.tar.gz.  Untar this and then (I use tcsh but you can translate this for bash if you must) and
+set the envirnoment parameters that are needed to specify the OS X level as well as the architechture of the libraries that will be constructed.&lt;br&gt;
+setenv MACOSX_DEPLOYMENT_TARGET 10.6 &lt;br&gt;
+setenv CFLAGS &quot;-arch i386 -arch x86-64&quot; &lt;br&gt;
+setenv FFLAGS &quot;-m32 -m64&quot; &lt;br&gt;
+setenv LDFLAGS &quot;-Wall -undefined dynamic_lookup -bundle -arch i386 -arch x86-64&quot;&lt;br&gt;
+cd numpy-1.3.0&lt;br&gt;
+python setup.py build &lt;br&gt;
+(Note: on some builds this procedure fails with a &quot;mathlib&quot; missing error. In this case add an additional parameter &lt;br&gt;
+setenv CC &quot;gcc -arch i386 -arch x86_64&quot;&lt;br&gt;
+and try the &quot;python setup.py build&quot; command again.)&lt;br&gt;
+sudo python setup.py install  &lt;br&gt;
+This will create /Library/Python/2.6/site-packages/numpy&lt;br&gt;&lt;br&gt;
+&lt;em&gt;Scipy&lt;/em&gt;  Before you install scipy, there is a fix that needs to be made to the basic Mac OS X installation.
+An older version of numpy is installed in the /System/Library and scipy cannot be built against this version. 
+Then &lt;br&gt;
+sudo cd /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python &lt;br&gt;
+sudo mv numpy numpy_old    // this renames the existing numpy directory to numpy_old) &lt;br&gt;
+sudo ln -s /Library/Python/2.6/site-packages/numpy numpy   // this links to the new version &lt;br&gt;&lt;br&gt;
+
+Now you can get scipy.  Change back to the Installation directory.
+Visit &lt;a href=&quot;<A HREF="http://www.scipy.org/Download">http://www.scipy.org/Download</A>&quot;&gt;<A HREF="http://www.scipy.org/Download&lt;/a">http://www.scipy.org/Download&lt;/a</A>&gt; and get the official release from SourceForge. 
+This is scipy-0.7.1.tar.gz.  Untar this and then: &lt;br&gt;
+cd scipy&lt;br&gt;python setup.py build&lt;br&gt;sudo python setup.py install &lt;br&gt;
+(Other advice can be found at &lt;a href=&quot;<A HREF="http://www.scipy.org/Installing_SciPy/Mac_OS_X">http://www.scipy.org/Installing_SciPy/Mac_OS_X</A>&quot;&gt;<A HREF="http://www.scipy.org/Installing_SciPy/Mac_OS_X&lt;/a">http://www.scipy.org/Installing_SciPy/Mac_OS_X&lt;/a</A>&gt;)&lt;br&gt;&lt;br&gt;
+&lt;em&gt;Imaging&lt;/em&gt; Change back to the Installation directory and visit &lt;a href=&quot;<A HREF="http://www.pythonware.com/products/pil/">http://www.pythonware.com/products/pil/</A>&quot;&gt;<A HREF="http://www.pythonware.com/products/pil/&lt;/a">http://www.pythonware.com/products/pil/&lt;/a</A>&gt; 
+and download the Imaging library (version 0.1.6) for all platforms.   Untar this file and then: &lt;br&gt;
+cd Imaging-1.1.7&lt;br&gt; python setup.py build&lt;br&gt;sudo python setup.py install &lt;br&gt;&lt;br&gt;
+&lt;em&gt;libsamplerate&lt;/em&gt; Change back to the Installation directory and visit &lt;a href=&quot;<A HREF="http://www.mega-nerd.com/SRC/download.html">http://www.mega-nerd.com/SRC/download.html</A>&quot;&gt;<A HREF="http://www.mega-nerd.com/SRC/download.html&lt;/a">http://www.mega-nerd.com/SRC/download.html&lt;/a</A>&gt;
+and download libsamplerate-0.1.7.tar.gz.  Untar this file and then remove the CC and LDFLAGS parameters: &lt;br&gt;
+unsetenv CC&lt;br&gt;
+unsetenv LDFLAGS&lt;br&gt;
+cd libsamplerate-0.1.7&lt;br&gt;configure&lt;br&gt;make&lt;br&gt;sudo make install &lt;br&gt;&lt;br&gt;
+&lt;em&gt;portaudio&lt;/em&gt; Change back to the Installation directory and visit &lt;a href=&quot;<A HREF="http://www.portaudio.com/archives/">http://www.portaudio.com/archives/</A>&quot;&gt;<A HREF="http://www.portaudio.com/archives/&lt;/a">http://www.portaudio.com/archives/&lt;/a</A>&gt; 
+and download pa_snapshot_v19.tar.gz which is the version I use.   There is another v19 issue at <A HREF="http://www.portaudio.com/download.html">http://www.portaudio.com/download.html</A> but I havn't tested this. Untar this file and then:&lt;br&gt; 
+cd portaudio&lt;br&gt;configure&lt;br&gt;make&lt;br&gt;
+sudo make install &lt;br&gt;&lt;br&gt;
+At this point you can remove the compiler flags&lt;br&gt;
+unsetenv CFLAGS&lt;br&gt;
+unsetenv FFLAGS&lt;br&gt;
+The basic infrastructure is now installed and you should not need to repeat these procedures again.&lt;br&gt;&lt;br&gt;
+&lt;b&gt;Step 4&lt;/b&gt; At this point you should ensure that Python will be in 32-bit mode.  This environment parameter should always be in place when you want to execute WSJT or WSPR&lt;br&gt;
+setenv VERSIONER_PYTHON_PREFER_32_BIT yes&lt;br&gt;
+Next step is to compile WSJT code. To get the latest version change back to the Installation directory and then (you need to have port 3690 open in your firewall).  Type:&lt;br&gt; 
+svn co <A HREF="svn://svn.berlios.de/wsjt/trunk">svn://svn.berlios.de/wsjt/trunk</A> &lt;br&gt;
+I suggest you use an editor (e.g.vi) to look at trunk/wsjt.py and find Version.  This is currently 7.05 revsion 1800 and then rename trunk:&lt;br&gt;
+mv trunk wsjt-v7.05-r1800&lt;br&gt;
+The reason for this is that you won't accidentally overwrite your changes by downloading from the respository again.  Now:&lt;br&gt;
+cd wsjt-v7.05-r1800&lt;br&gt;sudo cp gnu.py /Library/Python/2.6/site-packages/numpy/distutils/fcompiler&lt;br&gt;/configure --with-portaudio-lib-dir=/usr/local/lib --with-portaudio-include-dir=/usr/local/include&lt;br&gt;make &lt;br&gt;&lt;br&gt;
+This should generate the complete package without errors.  If you are successful, the final line will read: &lt;br&gt;
+mv Audio.so WsjtMod &lt;br&gt;
+Finally (!!!!) type    python wsjt.py and you should be in business. &lt;br&gt;
+I use the SignaLink USB interface to a TS870 (for HF) and TS790 (for 2m EME) and this works perfectly with WSJT/WSPR&lt;br&gt;&lt;br&gt;
+&lt;em&gt;Last point&lt;/em&gt; If you find errors or omissions in this document, or improvements, or need help, please let me know.   g4kla at rmnjmn dot demon dot co dot uk&lt;br&gt;
+&lt;/p&gt;
+&lt;/BODY&gt;&lt;/HTML&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001492.html">[WSJT-SVN] r1800 - trunk
</A></li>
	<LI>Next message: <A HREF="001494.html">[WSJT-SVN] r1802 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1493">[ date ]</a>
              <a href="thread.html#1493">[ thread ]</a>
              <a href="subject.html#1493">[ subject ]</a>
              <a href="author.html#1493">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
