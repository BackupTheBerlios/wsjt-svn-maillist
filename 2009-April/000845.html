<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r1151 - branches/map65
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1151%20-%20branches/map65&In-Reply-To=%3C200904231902.n3NJ2roa004827%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000841.html">
   <LINK REL="Next"  HREF="000842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r1151 - branches/map65</H1>
    <B>va3db at BerliOS</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1151%20-%20branches/map65&In-Reply-To=%3C200904231902.n3NJ2roa004827%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r1151 - branches/map65">va3db at mail.berlios.de
       </A><BR>
    <I>Thu Apr 23 21:02:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000841.html">[WSJT-SVN] r1150 - branches/wspr
</A></li>
        <LI>Next message: <A HREF="000842.html">[WSJT-SVN] r1152 - branches/map65
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#845">[ date ]</a>
              <a href="thread.html#845">[ thread ]</a>
              <a href="subject.html#845">[ subject ]</a>
              <a href="author.html#845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: va3db
Date: 2009-04-23 21:02:43 +0200 (Thu, 23 Apr 2009)
New Revision: 1151

Added:
   branches/map65/rfile3a.F90
Removed:
   branches/map65/rfile3a.f90
Modified:
   branches/map65/Makefile.in
   branches/map65/a2d.f90
   branches/map65/astro0.F90
   branches/map65/audio_init.F90
   branches/map65/azdist0.f90
   branches/map65/configure
   branches/map65/configure.ac
   branches/map65/datcom.f90
   branches/map65/decode1.F90
   branches/map65/display.F90
   branches/map65/fivehz.F90
   branches/map65/flushqqq.F90
   branches/map65/fstatqqq.f90
   branches/map65/ftn_init.F90
   branches/map65/ftn_quit.f90
   branches/map65/gcom1.f90
   branches/map65/gcom2.f90
   branches/map65/gcom3.f90
   branches/map65/gcom4.f90
   branches/map65/getdphi.f90
   branches/map65/getfile.F90
   branches/map65/getfile2.F90
   branches/map65/i1tor4.f90
   branches/map65/loc.c
   branches/map65/map65a.F90
   branches/map65/pix2d65.f90
   branches/map65/plrr.F90
   branches/map65/plrr_subs.c
   branches/map65/plrr_subs_win.c
   branches/map65/plrs.F90
   branches/map65/plrs_subs.c
   branches/map65/plrs_subs_win.c
   branches/map65/pulsar.f90
   branches/map65/recvpkt.F90
   branches/map65/rfile.f90
   branches/map65/rfile3.c
   branches/map65/runqqq.F90
   branches/map65/savetf2.F90
   branches/map65/sec_midn.F90
   branches/map65/spcom.f90
   branches/map65/spec.f90
   branches/map65/symspec.f90
   branches/map65/sysqqq.f90
   branches/map65/wsjtgen.F90
Log:
- Set prop svn:eol-style native on files.
- Remove alsa/oss from configure.ac and regenerate configure file.
- Note it is MAP65 not WSJT.
- rfile3a.f90 -&gt; rfile3a.F90 for gfortran preprocessor.
- Comment out compiler option that does not work on gfortran for now.



Modified: branches/map65/Makefile.in
===================================================================
--- branches/map65/Makefile.in	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/Makefile.in	2009-04-23 19:02:43 UTC (rev 1151)
@@ -4,17 +4,21 @@
 LIBS	= @LIBS@
 CPPFLAGS = @CPPFLAGS@
 CFLAGS	= @CFLAGS@
-# WSJT specific C flags
+# Map65 specific C flags
 CFLAGS	+= -DBIGSYM=1 -fPIC
 DEFS = @DEFS@
 CFLAGS += ${DEFS}
 CPPFLAGS += ${DEFS} -I.
 
-# WSJT specific Fortran flags
-FFLAGS += -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
+# MAP65 specific Fortran flags
+# gfortran has no -Wno-precission-loss
+FFLAGS += -Wall -fbounds-check -fno-second-underscore -fPIC#FFLAGS += -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 #FFLAGS += -Wall -fbounds-check -fno-second-underscore -ffixed-line-length-none -fPIC
 #FFLAGS += -Wall -fbounds-check -fno-second-underscore -fPIC
 #FFLAGS += -cpp -fno-second-underscore
+
+all:    Audio.so plrs plrr
+
 # The default rules
 .c.o:
 	${CC} ${CPPFLAGS} ${CFLAGS} -c -o ${&lt;:.c=.o} $&lt;
@@ -30,15 +34,15 @@
 COMPILER += @FC_LIB_PATH@
 
 LDFLAGS	+= -L${COMPILER}
-LIBS += /usr/lib/libfftw3f.a
 
 PYTHON	?= @PYTHON@
 RM	?= @RM@
 F2PY	= @F2PY@
 
 ###
-all:    Audio.so plrs plrr
 
+
+
 OBJS2C   = init_rs.o encode_rs.o decode_rs.o plrr_subs.o loc.o deep65.o
 
 F2PYONLY = ftn_init ftn_quit audio_init getfile azdist0 astro0 spec
@@ -71,19 +75,6 @@
 OBJS3C = ${SRCS3C:.c=.o}
 AUDIOSRCS = a2d.f90 jtaudio.c start_portaudio.c
 
-#Audio.so: $(OBJS2C) $(SRCS2F90) $(SRCS2F77) $(SRCS2C)
-#	python f2py.py -c \
-#	--quiet --&quot;fcompiler=compaqv&quot; \
-#	--opt=&quot;/nologo /traceback /warn:errors /fast /fpp /define:Win32 \
-#	      /define:USE_PORTAUDIO&quot; \
-#	$(OBJS2C) \
-#	-lwinmm -lpa -lfftw3single -llibsamplerate \
-#	-m Audio \
-#	only: $(F2PYONLY) : \
-#	$(SRCS2F90) $(SRCS2F77) $(SRCS2C)
-
-###
-
 deep65.o: deep65.F
 	$(FC) -c -O0 -Wall -fPIC deep65.F
 

Modified: branches/map65/a2d.f90
===================================================================
--- branches/map65/a2d.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/a2d.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,34 +1,34 @@
-!---------------------------------------------------- a2d
-subroutine a2d(iarg)
-
-! Start the PortAudio streams for audio input and output.
-  integer nchin(0:20),nchout(0:20)
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-
-! This call does not normally return, as the background portion of
-! JTaudio goes into a test-and-sleep loop.
-
-  write(*,1000)
-1000 format('Using Linrad for input, PortAudio for output.')
-  idevout=ndevout
-  call padevsub(numdevs,ndefin,ndefout,nchin,nchout)
-  
-  write(*,1002) ndefout
-1002 format(/'Default Output:',i3)
-  write(*,1004) idevout
-1004 format('Requested Output:',i3)
-  if(idevout.lt.0 .or. idevout.ge.numdevs) idevout=ndefout
-  if(idevout.eq.0) idevout=ndefout
-  idevin=0
-  ierr=jtaudio(idevin,idevout,y1,y2,NMAX,iwrite,iwave,nwave,    &amp;
-       11025,NSPB,TRPeriod,TxOK,ndebug,Transmitting,            &amp;
-       Tsec,ngo,nmode,tbuf,ibuf,ndsec)
-  if(ierr.ne.0) then
-     print*,'Error ',ierr,' in JTaudio, cannot continue.'
-  else
-     write(*,1006) 
-1006 format('Audio output stream terminated normally.')
-  endif
-  return
-end subroutine a2d
+!---------------------------------------------------- a2d
+subroutine a2d(iarg)
+
+! Start the PortAudio streams for audio input and output.
+  integer nchin(0:20),nchout(0:20)
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+
+! This call does not normally return, as the background portion of
+! JTaudio goes into a test-and-sleep loop.
+
+  write(*,1000)
+1000 format('Using Linrad for input, PortAudio for output.')
+  idevout=ndevout
+  call padevsub(numdevs,ndefin,ndefout,nchin,nchout)
+  
+  write(*,1002) ndefout
+1002 format(/'Default Output:',i3)
+  write(*,1004) idevout
+1004 format('Requested Output:',i3)
+  if(idevout.lt.0 .or. idevout.ge.numdevs) idevout=ndefout
+  if(idevout.eq.0) idevout=ndefout
+  idevin=0
+  ierr=jtaudio(idevin,idevout,y1,y2,NMAX,iwrite,iwave,nwave,    &amp;
+       11025,NSPB,TRPeriod,TxOK,ndebug,Transmitting,            &amp;
+       Tsec,ngo,nmode,tbuf,ibuf,ndsec)
+  if(ierr.ne.0) then
+     print*,'Error ',ierr,' in JTaudio, cannot continue.'
+  else
+     write(*,1006) 
+1006 format('Audio output stream terminated normally.')
+  endif
+  return
+end subroutine a2d


Property changes on: branches/map65/a2d.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/astro0.F90
===================================================================
--- branches/map65/astro0.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/astro0.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,119 +1,119 @@
-!--------------------------------------------------- astro0
-subroutine astro0(nyear,month,nday,uth8,nfreq,grid,cauxra,cauxdec,       &amp;
-     AzSun8,ElSun8,AzMoon8,ElMoon8,AzMoonB8,ElMoonB8,ntsky,ndop,ndop00,  &amp;
-     dbMoon8,RAMoon8,DecMoon8,HA8,Dgrd8,sd8,poloffset8,xnr8,dfdt,dfdt0,  &amp;
-     RaAux8,DecAux8,AzAux8,ElAux8)
-
-!f2py intent(in) nyear,month,nday,uth8,nfreq,grid,cauxra,cauxdec
-!f2py intent(out) AzSun8,ElSun8,AzMoon8,ElMoon8,AzMoonB8,ElMoonB8,ntsky,ndop,ndop00,dbMoon8,RAMoon8,DecMoon8,HA8,Dgrd8,sd8,poloffset8,xnr8,dfdt,dfdt0,RaAux8,DecAux8,AzAux8,ElAux8
-
-  character grid*6
-  character*9 cauxra,cauxdec
-  real*8 AzSun8,ElSun8,AzMoon8,ElMoon8,AzMoonB8,ElMoonB8,AzAux8,ElAux8
-  real*8 dbMoon8,RAMoon8,DecMoon8,HA8,Dgrd8,xnr8,dfdt,dfdt0
-  real*8 sd8,poloffset8
-  include 'gcom2.f90'
-  data uth8z/0.d0/,imin0/-99/
-  save
-
-  auxra=0.
-  i=index(cauxra,':')
-  if(i.eq.0) then
-     read(cauxra,*,err=1,end=1) auxra
-  else
-     read(cauxra(1:i-1),*,err=1,end=1) ih
-     read(cauxra(i+1:i+2),*,err=1,end=1) im
-     read(cauxra(i+4:i+5),*,err=1,end=1) is
-     auxra=ih + im/60.0 + is/3600.0
-  endif
-1 auxdec=0.
-  i=index(cauxdec,':')
-  if(i.eq.0) then
-     read(cauxdec,*,err=2,end=2) auxdec
-  else
-     read(cauxdec(1:i-1),*,err=2,end=2) id
-     read(cauxdec(i+1:i+2),*,err=2,end=2) im
-     read(cauxdec(i+4:i+5),*,err=2,end=2) is
-     auxdec=id + im/60.0 + is/3600.0
-  endif
-
-2 nmode=1
-  if(mode(1:4).eq.'JT65') then
-     nmode=2
-     if(mode(5:5).eq.'A') mode65=1
-     if(mode(5:5).eq.'B') mode65=2
-     if(mode(5:5).eq.'C') mode65=4
-  endif
-  if(mode.eq.'Echo') nmode=3
-  if(mode.eq.'JT6M') nmode=4
-  uth=uth8
-
-  call astro(AppDir,nyear,month,nday,uth,nfreq,hisgrid,2,nmode,1,    &amp;
-       AzSun,ElSun,AzMoon,ElMoon,ntsky,doppler00,doppler,            &amp;
-       dbMoon,RAMoon,DecMoon,HA,Dgrd,sd,poloffset,xnr,auxra,auxdec,  &amp;
-       AzAux,ElAux)
-  AzMoonB8=AzMoon
-  ElMoonB8=ElMoon
-  call astro(AppDir,nyear,month,nday,uth,nfreq,grid,1,nmode,1,       &amp;
-       AzSun,ElSun,AzMoon,ElMoon,ntsky,doppler00,doppler,            &amp;
-       dbMoon,RAMoon,DecMoon,HA,Dgrd,sd,poloffset,xnr,auxra,auxdec,  &amp;
-       AzAux,ElAux)
-
-  RaAux8=auxra
-  DecAux8=auxdec
-  AzSun8=AzSun
-  ElSun8=ElSun
-  AzMoon8=AzMoon
-  ElMoon8=ElMoon
-  dbMoon8=dbMoon
-  RAMoon8=RAMoon/15.0
-  DecMoon8=DecMoon
-  HA8=HA
-  Dgrd8=Dgrd
-  sd8=sd
-  poloffset8=poloffset
-  xnr8=xnr
-  AzAux8=AzAux
-  ElAux8=ElAux
-  ndop=nint(doppler)
-  ndop00=nint(doppler00)
-
-  if(uth8z.eq.0.d0) then
-     uth8z=uth8-1.d0/3600.d0
-     dopplerz=doppler
-     doppler00z=doppler00
-  endif
-     
-  dt=60.0*(uth8-uth8z)
-  if(dt.le.0) dt=1.d0/60.d0
-  dfdt=(doppler-dopplerz)/dt
-  dfdt0=(doppler00-doppler00z)/dt
-  uth8z=uth8
-  dopplerz=doppler
-  doppler00z=doppler00
-
-  imin=60*uth8
-  isec=3600*uth8
-
-  if(isec.ne.isec0 .and. ndecoding.eq.0) then
-     ih=uth8
-     im=mod(imin,60)
-     is=mod(isec,60)
-     rewind 14
-     write(14,1010) ih,im,is,AzMoon,ElMoon,                          &amp;
-        ih,im,is,AzSun,ElSun,                                        &amp;
-        ih,im,is,AzAux,ElAux,                                        &amp;
-        nfreq,doppler,dfdt,doppler00,dfdt0,                          &amp;
-        mousefqso,nsetftx
-1010 format(i2.2,':',i2.2,':',i2.2,',',f5.1,',',f5.1,',Moon'/        &amp;
-            i2.2,':',i2.2,':',i2.2,',',f5.1,',',f5.1,',Sun'/         &amp;
-            i2.2,':',i2.2,':',i2.2,',',f5.1,',',f5.1,',Source'/      &amp;
-            i4,',',f8.1,',',f8.2,',',f8.1,',',f8.2,',Doppler'/       &amp;
-            i4,',',i1,',fQSO')
-     call flushqqq(14)
-     nsetftx=0
-     isec0=isec
-  endif
-
-  return
-end subroutine astro0
+!--------------------------------------------------- astro0
+subroutine astro0(nyear,month,nday,uth8,nfreq,grid,cauxra,cauxdec,       &amp;
+     AzSun8,ElSun8,AzMoon8,ElMoon8,AzMoonB8,ElMoonB8,ntsky,ndop,ndop00,  &amp;
+     dbMoon8,RAMoon8,DecMoon8,HA8,Dgrd8,sd8,poloffset8,xnr8,dfdt,dfdt0,  &amp;
+     RaAux8,DecAux8,AzAux8,ElAux8)
+
+!f2py intent(in) nyear,month,nday,uth8,nfreq,grid,cauxra,cauxdec
+!f2py intent(out) AzSun8,ElSun8,AzMoon8,ElMoon8,AzMoonB8,ElMoonB8,ntsky,ndop,ndop00,dbMoon8,RAMoon8,DecMoon8,HA8,Dgrd8,sd8,poloffset8,xnr8,dfdt,dfdt0,RaAux8,DecAux8,AzAux8,ElAux8
+
+  character grid*6
+  character*9 cauxra,cauxdec
+  real*8 AzSun8,ElSun8,AzMoon8,ElMoon8,AzMoonB8,ElMoonB8,AzAux8,ElAux8
+  real*8 dbMoon8,RAMoon8,DecMoon8,HA8,Dgrd8,xnr8,dfdt,dfdt0
+  real*8 sd8,poloffset8
+  include 'gcom2.f90'
+  data uth8z/0.d0/,imin0/-99/
+  save
+
+  auxra=0.
+  i=index(cauxra,':')
+  if(i.eq.0) then
+     read(cauxra,*,err=1,end=1) auxra
+  else
+     read(cauxra(1:i-1),*,err=1,end=1) ih
+     read(cauxra(i+1:i+2),*,err=1,end=1) im
+     read(cauxra(i+4:i+5),*,err=1,end=1) is
+     auxra=ih + im/60.0 + is/3600.0
+  endif
+1 auxdec=0.
+  i=index(cauxdec,':')
+  if(i.eq.0) then
+     read(cauxdec,*,err=2,end=2) auxdec
+  else
+     read(cauxdec(1:i-1),*,err=2,end=2) id
+     read(cauxdec(i+1:i+2),*,err=2,end=2) im
+     read(cauxdec(i+4:i+5),*,err=2,end=2) is
+     auxdec=id + im/60.0 + is/3600.0
+  endif
+
+2 nmode=1
+  if(mode(1:4).eq.'JT65') then
+     nmode=2
+     if(mode(5:5).eq.'A') mode65=1
+     if(mode(5:5).eq.'B') mode65=2
+     if(mode(5:5).eq.'C') mode65=4
+  endif
+  if(mode.eq.'Echo') nmode=3
+  if(mode.eq.'JT6M') nmode=4
+  uth=uth8
+
+  call astro(AppDir,nyear,month,nday,uth,nfreq,hisgrid,2,nmode,1,    &amp;
+       AzSun,ElSun,AzMoon,ElMoon,ntsky,doppler00,doppler,            &amp;
+       dbMoon,RAMoon,DecMoon,HA,Dgrd,sd,poloffset,xnr,auxra,auxdec,  &amp;
+       AzAux,ElAux)
+  AzMoonB8=AzMoon
+  ElMoonB8=ElMoon
+  call astro(AppDir,nyear,month,nday,uth,nfreq,grid,1,nmode,1,       &amp;
+       AzSun,ElSun,AzMoon,ElMoon,ntsky,doppler00,doppler,            &amp;
+       dbMoon,RAMoon,DecMoon,HA,Dgrd,sd,poloffset,xnr,auxra,auxdec,  &amp;
+       AzAux,ElAux)
+
+  RaAux8=auxra
+  DecAux8=auxdec
+  AzSun8=AzSun
+  ElSun8=ElSun
+  AzMoon8=AzMoon
+  ElMoon8=ElMoon
+  dbMoon8=dbMoon
+  RAMoon8=RAMoon/15.0
+  DecMoon8=DecMoon
+  HA8=HA
+  Dgrd8=Dgrd
+  sd8=sd
+  poloffset8=poloffset
+  xnr8=xnr
+  AzAux8=AzAux
+  ElAux8=ElAux
+  ndop=nint(doppler)
+  ndop00=nint(doppler00)
+
+  if(uth8z.eq.0.d0) then
+     uth8z=uth8-1.d0/3600.d0
+     dopplerz=doppler
+     doppler00z=doppler00
+  endif
+     
+  dt=60.0*(uth8-uth8z)
+  if(dt.le.0) dt=1.d0/60.d0
+  dfdt=(doppler-dopplerz)/dt
+  dfdt0=(doppler00-doppler00z)/dt
+  uth8z=uth8
+  dopplerz=doppler
+  doppler00z=doppler00
+
+  imin=60*uth8
+  isec=3600*uth8
+
+  if(isec.ne.isec0 .and. ndecoding.eq.0) then
+     ih=uth8
+     im=mod(imin,60)
+     is=mod(isec,60)
+     rewind 14
+     write(14,1010) ih,im,is,AzMoon,ElMoon,                          &amp;
+        ih,im,is,AzSun,ElSun,                                        &amp;
+        ih,im,is,AzAux,ElAux,                                        &amp;
+        nfreq,doppler,dfdt,doppler00,dfdt0,                          &amp;
+        mousefqso,nsetftx
+1010 format(i2.2,':',i2.2,':',i2.2,',',f5.1,',',f5.1,',Moon'/        &amp;
+            i2.2,':',i2.2,':',i2.2,',',f5.1,',',f5.1,',Sun'/         &amp;
+            i2.2,':',i2.2,':',i2.2,',',f5.1,',',f5.1,',Source'/      &amp;
+            i4,',',f8.1,',',f8.2,',',f8.1,',',f8.2,',Doppler'/       &amp;
+            i4,',',i1,',fQSO')
+     call flushqqq(14)
+     nsetftx=0
+     isec0=isec
+  endif
+
+  return
+end subroutine astro0


Property changes on: branches/map65/astro0.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/audio_init.F90
===================================================================
--- branches/map65/audio_init.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/audio_init.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,74 +1,74 @@
-!------------------------------------------------ audio_init
-subroutine audio_init(ndin,ndout)
-
-#ifdef CVF
-  use dfmt
-  integer Thread1,Thread2,Thread3
-  external a2d,decode1,recvpkt
-#endif
-
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-
-  nmode=2
-  if(mode(5:5).eq.'A') mode65=1
-  if(mode(5:5).eq.'B') mode65=2
-  if(mode(5:5).eq.'C') mode65=4
-  ndevout=ndout
-  TxOK=0
-  Transmitting=0
-  nfsample=11025
-  nspb=1024
-  nbufs=2048
-  nmax=nbufs*nspb
-  nwave=60*nfsample
-  ngo=1
-  f0=800.0
-  do i=1,nwave
-     iwave(i)=nint(32767.0*sin(6.283185307*i*f0/nfsample))
-  enddo
-
-#ifdef CVF
-!  Priority classes (for processes):
-!     IDLE_PRIORITY_CLASS               64
-!     NORMAL_PRIORITY_CLASS             32
-!     HIGH_PRIORITY_CLASS              128
-
-!  Priority definitions (for threads):
-!     THREAD_PRIORITY_IDLE             -15
-!     THREAD_PRIORITY_LOWEST            -2
-!     THREAD_PRIORITY_BELOW_NORMAL      -1
-!     THREAD_PRIORITY_NORMAL             0
-!     THREAD_PRIORITY_ABOVE_NORMAL       1
-!     THREAD_PRIORITY_HIGHEST            2
-!     THREAD_PRIORITY_TIME_CRITICAL     15
-    
-  m0=SetPriorityClass(GetCurrentProcess(),NORMAL_PRIORITY_CLASS)
-!  m0=SetPriorityClass(GetCurrentProcess(),HIGH_PRIORITY_CLASS)
-
-! Start a thread for doing A/D and D/A with sound card.
-!  (actually, only D/A is used in MAP65)
-  Thread1=CreateThread(0,0,a2d,0,CREATE_SUSPENDED,id1)
-  m1=SetThreadPriority(Thread1,THREAD_PRIORITY_ABOVE_NORMAL)
-  m2=ResumeThread(Thread1)
-
-! Start a thread for background decoding.
-  Thread2=CreateThread(0,0,decode1,0,CREATE_SUSPENDED,id2)
-  m3=SetThreadPriority(Thread2,THREAD_PRIORITY_BELOW_NORMAL)
-  m4=ResumeThread(Thread2)
-
-! Start a thread to receive packets from Linrad
-  Thread3=CreateThread(0,0,recvpkt,0,CREATE_SUSPENDED,id3)
-  m5=SetThreadPriority(Thread3,THREAD_PRIORITY_ABOVE_NORMAL)
-  m6=ResumeThread(Thread3)
-
-#else
-!  print*,'Audio INIT called.'
-  ierr=start_threads(ndevin,ndevout,y1,y2,nmax,iwrite,iwave,nwave,    &amp;
-       11025,NSPB,TRPeriod,TxOK,ndebug,Transmitting,            &amp;
-       Tsec,ngo,nmode,tbuf,ibuf,ndsec,PttPort,devin_name,devout_name)
-
-#endif
-
-  return
-end subroutine audio_init
+!------------------------------------------------ audio_init
+subroutine audio_init(ndin,ndout)
+
+#ifdef CVF
+  use dfmt
+  integer Thread1,Thread2,Thread3
+  external a2d,decode1,recvpkt
+#endif
+
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+
+  nmode=2
+  if(mode(5:5).eq.'A') mode65=1
+  if(mode(5:5).eq.'B') mode65=2
+  if(mode(5:5).eq.'C') mode65=4
+  ndevout=ndout
+  TxOK=0
+  Transmitting=0
+  nfsample=11025
+  nspb=1024
+  nbufs=2048
+  nmax=nbufs*nspb
+  nwave=60*nfsample
+  ngo=1
+  f0=800.0
+  do i=1,nwave
+     iwave(i)=nint(32767.0*sin(6.283185307*i*f0/nfsample))
+  enddo
+
+#ifdef CVF
+!  Priority classes (for processes):
+!     IDLE_PRIORITY_CLASS               64
+!     NORMAL_PRIORITY_CLASS             32
+!     HIGH_PRIORITY_CLASS              128
+
+!  Priority definitions (for threads):
+!     THREAD_PRIORITY_IDLE             -15
+!     THREAD_PRIORITY_LOWEST            -2
+!     THREAD_PRIORITY_BELOW_NORMAL      -1
+!     THREAD_PRIORITY_NORMAL             0
+!     THREAD_PRIORITY_ABOVE_NORMAL       1
+!     THREAD_PRIORITY_HIGHEST            2
+!     THREAD_PRIORITY_TIME_CRITICAL     15
+    
+  m0=SetPriorityClass(GetCurrentProcess(),NORMAL_PRIORITY_CLASS)
+!  m0=SetPriorityClass(GetCurrentProcess(),HIGH_PRIORITY_CLASS)
+
+! Start a thread for doing A/D and D/A with sound card.
+!  (actually, only D/A is used in MAP65)
+  Thread1=CreateThread(0,0,a2d,0,CREATE_SUSPENDED,id1)
+  m1=SetThreadPriority(Thread1,THREAD_PRIORITY_ABOVE_NORMAL)
+  m2=ResumeThread(Thread1)
+
+! Start a thread for background decoding.
+  Thread2=CreateThread(0,0,decode1,0,CREATE_SUSPENDED,id2)
+  m3=SetThreadPriority(Thread2,THREAD_PRIORITY_BELOW_NORMAL)
+  m4=ResumeThread(Thread2)
+
+! Start a thread to receive packets from Linrad
+  Thread3=CreateThread(0,0,recvpkt,0,CREATE_SUSPENDED,id3)
+  m5=SetThreadPriority(Thread3,THREAD_PRIORITY_ABOVE_NORMAL)
+  m6=ResumeThread(Thread3)
+
+#else
+!  print*,'Audio INIT called.'
+  ierr=start_threads(ndevin,ndevout,y1,y2,nmax,iwrite,iwave,nwave,    &amp;
+       11025,NSPB,TRPeriod,TxOK,ndebug,Transmitting,            &amp;
+       Tsec,ngo,nmode,tbuf,ibuf,ndsec,PttPort,devin_name,devout_name)
+
+#endif
+
+  return
+end subroutine audio_init


Property changes on: branches/map65/audio_init.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/azdist0.f90
===================================================================
--- branches/map65/azdist0.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/azdist0.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,14 +1,14 @@
-
-!---------------------------------------------------- azdist0
-
-subroutine azdist0(MyGrid,HisGrid,utch,nAz,nEl,nDmiles,nDkm,nHotAz,nHotABetter)
-  character*6 MyGrid,HisGrid
-  real*8 utch
-!f2py intent(in) MyGrid,HisGrid,utch
-!f2py intent(out) nAz,nEl,nDmiles,nDkm,nHotAz,nHotABetter
-
-  if(hisgrid(5:5).eq.' ' .or. ichar(hisgrid(5:5)).eq.0) hisgrid(5:5)='m'
-  if(hisgrid(6:6).eq.' ' .or. ichar(hisgrid(6:6)).eq.0) hisgrid(6:6)='m'
-  call azdist(MyGrid,HisGrid,utch,nAz,nEl,nDmiles,nDkm,nHotAz,nHotABetter)
-  return
-end subroutine azdist0
+
+!---------------------------------------------------- azdist0
+
+subroutine azdist0(MyGrid,HisGrid,utch,nAz,nEl,nDmiles,nDkm,nHotAz,nHotABetter)
+  character*6 MyGrid,HisGrid
+  real*8 utch
+!f2py intent(in) MyGrid,HisGrid,utch
+!f2py intent(out) nAz,nEl,nDmiles,nDkm,nHotAz,nHotABetter
+
+  if(hisgrid(5:5).eq.' ' .or. ichar(hisgrid(5:5)).eq.0) hisgrid(5:5)='m'
+  if(hisgrid(6:6).eq.' ' .or. ichar(hisgrid(6:6)).eq.0) hisgrid(6:6)='m'
+  call azdist(MyGrid,HisGrid,utch,nAz,nEl,nDmiles,nDkm,nHotAz,nHotABetter)
+  return
+end subroutine azdist0


Property changes on: branches/map65/azdist0.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/configure
===================================================================
--- branches/map65/configure	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/configure	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,28 +1,85 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.59 for wsjt 5.9.6.
+# Generated by GNU Autoconf 2.62 for map65 0.9.
 #
-# $Id: configure.ac 270 2006-09-04 19:18:34Z k1jt $
+# $Id: configure.ac 312 2006-09-23 08:37:07Z va3db $
 #
-# Copyright (C) 2003 Free Software Foundation, Inc.
+# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
+# 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
 ## M4sh Initialization.  ##
 ## --------------------- ##
 
-# Be Bourne compatible
+# Be more Bourne compatible
+DUALCASE=1; export DUALCASE # for MKS sh
 if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
   emulate sh
   NULLCMD=:
-  # Zsh 3.x and 4.x performs word splitting on ${1+&quot;$@&quot;}, which
+  # Pre-4.2 versions of Zsh do word splitting on ${1+&quot;$@&quot;}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
-elif test -n &quot;${BASH_VERSION+set}&quot; &amp;&amp; (set -o posix) &gt;/dev/null 2&gt;&amp;1; then
-  set -o posix
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2&gt;/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
 fi
-DUALCASE=1; export DUALCASE # for MKS sh
 
+
+
+
+# PATH needs CR
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+as_nl='
+'
+export as_nl
+# Printing a long string crashes Solaris 7 /usr/bin/printf.
+as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
+as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
+as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
+if (test &quot;X`printf %s $as_echo`&quot; = &quot;X$as_echo&quot;) 2&gt;/dev/null; then
+  as_echo='printf %s\n'
+  as_echo_n='printf %s'
+else
+  if test &quot;X`(/usr/ucb/echo -n -n $as_echo) 2&gt;/dev/null`&quot; = &quot;X-n $as_echo&quot;; then
+    as_echo_body='eval /usr/ucb/echo -n &quot;$1$as_nl&quot;'
+    as_echo_n='/usr/ucb/echo -n'
+  else
+    as_echo_body='eval expr &quot;X$1&quot; : &quot;X\\(.*\\)&quot;'
+    as_echo_n_body='eval
+      arg=$1;
+      case $arg in
+      *&quot;$as_nl&quot;*)
+	expr &quot;X$arg&quot; : &quot;X\\(.*\\)$as_nl&quot;;
+	arg=`expr &quot;X$arg&quot; : &quot;.*$as_nl\\(.*\\)&quot;`;;
+      esac;
+      expr &quot;X$arg&quot; : &quot;X\\(.*\\)&quot; | tr -d &quot;$as_nl&quot;
+    '
+    export as_echo_n_body
+    as_echo_n='sh -c $as_echo_n_body as_echo'
+  fi
+  export as_echo_body
+  as_echo='sh -c $as_echo_body as_echo'
+fi
+
+# The user is always right.
+if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
+  PATH_SEPARATOR=:
+  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; {
+    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) &gt;/dev/null 2&gt;&amp;1 ||
+      PATH_SEPARATOR=';'
+  }
+fi
+
 # Support unset when possible.
 if ( (MAIL=60; unset MAIL) || exit) &gt;/dev/null 2&gt;&amp;1; then
   as_unset=unset
@@ -31,33 +88,60 @@
 fi
 
 
+# IFS
+# We need space, tab and new line, in precisely that order.  Quoting is
+# there to prevent editors from complaining about space-tab.
+# (If _AS_PATH_WALK were called with IFS unset, it would disable word
+# splitting by setting IFS to empty value.)
+IFS=&quot; &quot;&quot;	$as_nl&quot;
+
+# Find who we are.  Look in the path if we contain no directory separator.
+case $0 in
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
+done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test &quot;x$as_myself&quot; = x; then
+  as_myself=$0
+fi
+if test ! -f &quot;$as_myself&quot;; then
+  $as_echo &quot;$as_myself: error: cannot find myself; rerun with an absolute file name&quot; &gt;&amp;2
+  { (exit 1); exit 1; }
+fi
+
 # Work around bugs in pre-3.0 UWIN ksh.
-$as_unset ENV MAIL MAILPATH
+for as_var in ENV MAIL MAILPATH
+do ($as_unset $as_var) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; $as_unset $as_var
+done
 PS1='$ '
 PS2='&gt; '
 PS4='+ '
 
 # NLS nuisances.
-for as_var in \
-  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
-  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
-  LC_TELEPHONE LC_TIME
-do
-  if (set +x; test -z &quot;`(eval $as_var=C; export $as_var) 2&gt;&amp;1`&quot;); then
-    eval $as_var=C; export $as_var
-  else
-    $as_unset $as_var
-  fi
-done
+LC_ALL=C
+export LC_ALL
+LANGUAGE=C
+export LANGUAGE
 
 # Required to use basename.
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+   test &quot;X`expr 00001 : '.*\(...\)'`&quot; = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
+if (basename -- /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename -- / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
   as_basename=basename
 else
   as_basename=false
@@ -65,157 +149,391 @@
 
 
 # Name of the executable.
-as_me=`$as_basename &quot;$0&quot; ||
+as_me=`$as_basename -- &quot;$0&quot; ||
 $as_expr X/&quot;$0&quot; : '.*/\([^/][^/]*\)/*$' \| \
 	 X&quot;$0&quot; : 'X\(//\)$' \| \
-	 X&quot;$0&quot; : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X/&quot;$0&quot; |
-    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
-  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\/\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
+	 X&quot;$0&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
+$as_echo X/&quot;$0&quot; |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
 
+# CDPATH.
+$as_unset CDPATH
 
-# PATH needs CR, and LINENO needs CR and PATH.
-# Avoid depending upon Character Ranges.
-as_cr_letters='abcdefghijklmnopqrstuvwxyz'
-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
-as_cr_Letters=$as_cr_letters$as_cr_LETTERS
-as_cr_digits='0123456789'
-as_cr_alnum=$as_cr_Letters$as_cr_digits
 
-# The user is always right.
-if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
-  echo &quot;#! /bin/sh&quot; &gt;conf$$.sh
-  echo  &quot;exit 0&quot;   &gt;&gt;conf$$.sh
-  chmod +x conf$$.sh
-  if (PATH=&quot;/nonexistent;.&quot;; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; then
-    PATH_SEPARATOR=';'
-  else
-    PATH_SEPARATOR=:
-  fi
-  rm -f conf$$.sh
+if test &quot;x$CONFIG_SHELL&quot; = x; then
+  if (eval &quot;:&quot;) 2&gt;/dev/null; then
+  as_have_required=yes
+else
+  as_have_required=no
 fi
 
+  if test $as_have_required = yes &amp;&amp;	 (eval &quot;:
+(as_func_return () {
+  (exit \$1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
 
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
-  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot;  || {
-  # Find who we are.  Look in the path if we contain no path at all
-  # relative or not.
-  case $0 in
-    *[\\/]* ) as_myself=$0 ;;
-    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
-done
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
 
-       ;;
-  esac
-  # We did not find ourselves, most probably we were run as `sh COMMAND'
-  # in which case we are not to be found in the path.
-  if test &quot;x$as_myself&quot; = x; then
-    as_myself=$0
-  fi
-  if test ! -f &quot;$as_myself&quot;; then
-    { echo &quot;$as_me: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-  fi
-  case $CONFIG_SHELL in
-  '')
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y &amp;&amp; test x = \&quot;\$1\&quot; ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test \$exitcode = 0) || { (exit 1); exit 1; }
+
+(
+  as_lineno_1=\$LINENO
+  as_lineno_2=\$LINENO
+  test \&quot;x\$as_lineno_1\&quot; != \&quot;x\$as_lineno_2\&quot; &amp;&amp;
+  test \&quot;x\`expr \$as_lineno_1 + 1\`\&quot; = \&quot;x\$as_lineno_2\&quot;) || { (exit 1); exit 1; }
+&quot;) 2&gt; /dev/null; then
+  :
+else
+  as_candidate_shells=
     as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
 do
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for as_base in sh bash ksh sh5; do
-	 case $as_dir in
+  case $as_dir in
 	 /*)
-	   if (&quot;$as_dir/$as_base&quot; -c '
+	   for as_base in sh bash ksh sh5; do
+	     as_candidate_shells=&quot;$as_candidate_shells $as_dir/$as_base&quot;
+	   done;;
+       esac
+done
+IFS=$as_save_IFS
+
+
+      for as_shell in $as_candidate_shells $SHELL; do
+	 # Try only shells that exist, to save several forks.
+	 if { test -f &quot;$as_shell&quot; || test -f &quot;$as_shell.exe&quot;; } &amp;&amp;
+		{ (&quot;$as_shell&quot;) 2&gt; /dev/null &lt;&lt;\_ASEOF
+if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
+  emulate sh
+  NULLCMD=:
+  # Pre-4.2 versions of Zsh do word splitting on ${1+&quot;$@&quot;}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2&gt;/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
+fi
+
+
+:
+_ASEOF
+}; then
+  CONFIG_SHELL=$as_shell
+	       as_have_required=yes
+	       if { &quot;$as_shell&quot; 2&gt; /dev/null &lt;&lt;\_ASEOF
+if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
+  emulate sh
+  NULLCMD=:
+  # Pre-4.2 versions of Zsh do word splitting on ${1+&quot;$@&quot;}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2&gt;/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
+fi
+
+
+:
+(as_func_return () {
+  (exit $1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y &amp;&amp; test x = &quot;$1&quot; ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test $exitcode = 0) || { (exit 1); exit 1; }
+
+(
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
   test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot; ') 2&gt;/dev/null; then
-	     $as_unset BASH_ENV || test &quot;${BASH_ENV+set}&quot; != set || { BASH_ENV=; export BASH_ENV; }
-	     $as_unset ENV || test &quot;${ENV+set}&quot; != set || { ENV=; export ENV; }
-	     CONFIG_SHELL=$as_dir/$as_base
-	     export CONFIG_SHELL
-	     exec &quot;$CONFIG_SHELL&quot; &quot;$0&quot; ${1+&quot;$@&quot;}
-	   fi;;
-	 esac
-       done
-done
-;;
-  esac
+  test &quot;x`expr $as_lineno_1 + 1`&quot; = &quot;x$as_lineno_2&quot;) || { (exit 1); exit 1; }
 
+_ASEOF
+}; then
+  break
+fi
+
+fi
+
+      done
+
+      if test &quot;x$CONFIG_SHELL&quot; != x; then
+  for as_var in BASH_ENV ENV
+	do ($as_unset $as_var) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; $as_unset $as_var
+	done
+	export CONFIG_SHELL
+	exec &quot;$CONFIG_SHELL&quot; &quot;$as_myself&quot; ${1+&quot;$@&quot;}
+fi
+
+
+    if test $as_have_required = no; then
+  echo This script requires a shell more modern than all the
+      echo shells that I found on your system.  Please install a
+      echo modern shell, or manually run the script under such a
+      echo shell if you do have one.
+      { (exit 1); exit 1; }
+fi
+
+
+fi
+
+fi
+
+
+
+(eval &quot;as_func_return () {
+  (exit \$1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y &amp;&amp; test x = \&quot;\$1\&quot; ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test \$exitcode = 0&quot;) || {
+  echo No shell found that supports shell functions.
+  echo Please tell <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">bug-autoconf at gnu.org</A> about your system,
+  echo including any error possibly output before this message.
+  echo This can help us improve future autoconf versions.
+  echo Configuration will now proceed without shell functions.
+}
+
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
+  test &quot;x`expr $as_lineno_1 + 1`&quot; = &quot;x$as_lineno_2&quot; || {
+
   # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
   # uniformly replaced by the line number.  The first 'sed' inserts a
-  # line-number line before each line; the second 'sed' does the real
-  # work.  The second script uses 'N' to pair each line-number line
-  # with the numbered line, and appends trailing '-' during
-  # substitution so that $LINENO is not a special case at line end.
+  # line-number line after each line using $LINENO; the second 'sed'
+  # does the real work.  The second script uses 'N' to pair each
+  # line-number line with the line containing $LINENO, and appends
+  # trailing '-' during substitution so that $LINENO is not a special
+  # case at line end.
   # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
-  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
-  sed '=' &lt;$as_myself |
+  # scripts with optimization help from Paolo Bonzini.  Blame Lee
+  # E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' &lt;$as_myself |
     sed '
+      s/[$]LINENO.*/&amp;-/
+      t lineno
+      b
+      :lineno
       N
-      s,$,-,
-      : loop
-      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      :loop
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
       t loop
-      s,-$,,
-      s,^['$as_cr_digits']*\n,,
+      s/-\n.*//
     ' &gt;$as_me.lineno &amp;&amp;
-  chmod +x $as_me.lineno ||
-    { echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2
+  chmod +x &quot;$as_me.lineno&quot; ||
+    { $as_echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
 
   # Don't try to exec as it changes $[0], causing all sort of problems
   # (the dirname of $[0] is not the place where we might find the
-  # original and so on.  Autoconf is especially sensible to this).
-  . ./$as_me.lineno
+  # original and so on.  Autoconf is especially sensitive to this).
+  . &quot;./$as_me.lineno&quot;
   # Exit status is that of the last command.
   exit
 }
 
 
-case `echo &quot;testing\c&quot;; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
-  *c*,-n*) ECHO_N= ECHO_C='
-' ECHO_T='	' ;;
-  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
-  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+if (as_dir=`dirname -- /` &amp;&amp; test &quot;X$as_dir&quot; = X/) &gt;/dev/null 2&gt;&amp;1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in
+-n*)
+  case `echo 'x\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  *)   ECHO_C='\c';;
+  esac;;
+*)
+  ECHO_N='-n';;
 esac
-
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+   test &quot;X`expr 00001 : '.*\(...\)'`&quot; = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
 rm -f conf$$ conf$$.exe conf$$.file
-echo &gt;conf$$.file
-if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
-  # We could just check for DJGPP; but this test a) works b) is more generic
-  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
-  if test -f conf$$.exe; then
-    # Don't use ln at all; we don't have any links
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir 2&gt;/dev/null
+fi
+if (echo &gt;conf$$.file) 2&gt;/dev/null; then
+  if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
+    as_ln_s='ln -s'
+    # ... but there are two gotchas:
+    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+    # 2) DJGPP &lt; 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+    # In both cases, we have to default to `cp -p'.
+    ln -s conf$$.file conf$$.dir 2&gt;/dev/null &amp;&amp; test ! -f conf$$.exe ||
+      as_ln_s='cp -p'
+  elif ln conf$$.file conf$$ 2&gt;/dev/null; then
+    as_ln_s=ln
+  else
     as_ln_s='cp -p'
-  else
-    as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2&gt;/dev/null; then
-  as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
-rm -f conf$$ conf$$.exe conf$$.file
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2&gt;/dev/null
 
 if mkdir -p . 2&gt;/dev/null; then
   as_mkdir_p=:
@@ -224,7 +542,28 @@
   as_mkdir_p=false
 fi
 
-as_executable_p=&quot;test -f&quot;
+if test -x / &gt;/dev/null 2&gt;&amp;1; then
+  as_test_x='test -x'
+else
+  if ls -dL / &gt;/dev/null 2&gt;&amp;1; then
+    as_ls_L_option=L
+  else
+    as_ls_L_option=
+  fi
+  as_test_x='
+    eval sh -c '\''
+      if test -d &quot;$1&quot;; then
+	test -d &quot;$1/.&quot;;
+      else
+	case $1 in
+	-*)set &quot;./$1&quot;;;
+	esac;
+	case `ls -ld'$as_ls_L_option' &quot;$1&quot; 2&gt;/dev/null` in
+	???[sx]*):;;*)false;;esac;fi
+    '\'' sh
+  '
+fi
+as_executable_p=$as_test_x
 
 # Sed expression to map a string onto a valid CPP name.
 as_tr_cpp=&quot;eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'&quot;
@@ -233,90 +572,171 @@
 as_tr_sh=&quot;eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'&quot;
 
 
-# IFS
-# We need space, tab and new line, in precisely that order.
-as_nl='
-'
-IFS=&quot; 	$as_nl&quot;
 
-# CDPATH.
-$as_unset CDPATH
+exec 7&lt;&amp;0 &lt;/dev/null 6&gt;&amp;1
 
-
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
 ac_hostname=`(hostname || uname -n) 2&gt;/dev/null | sed 1q`
 
-exec 6&gt;&amp;1
-
 #
 # Initializations.
 #
 ac_default_prefix=/usr/local
+ac_clean_files=
 ac_config_libobj_dir=.
+LIBOBJS=
 cross_compiling=no
 subdirs=
 MFLAGS=
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
-# Maximum number of lines to put in a shell here document.
-# This variable seems obsolete.  It should probably be removed, and
-# only ac_max_sed_lines should be used.
-: ${ac_max_here_lines=38}
-
 # Identity of this package.
-PACKAGE_NAME='wsjt'
-PACKAGE_TARNAME='wsjt'
-PACKAGE_VERSION='5.9.6'
-PACKAGE_STRING='wsjt 5.9.6'
+PACKAGE_NAME='map65'
+PACKAGE_TARNAME='map65'
+PACKAGE_VERSION='0.9'
+PACKAGE_STRING='map65 0.9'
 PACKAGE_BUGREPORT=''
 
 ac_default_prefix=/usr/local/
 # Factoring default headers for most tests.
 ac_includes_default=&quot;\
 #include &lt;stdio.h&gt;
-#if HAVE_SYS_TYPES_H
+#ifdef HAVE_SYS_TYPES_H
 # include &lt;sys/types.h&gt;
 #endif
-#if HAVE_SYS_STAT_H
+#ifdef HAVE_SYS_STAT_H
 # include &lt;sys/stat.h&gt;
 #endif
-#if STDC_HEADERS
+#ifdef STDC_HEADERS
 # include &lt;stdlib.h&gt;
 # include &lt;stddef.h&gt;
 #else
-# if HAVE_STDLIB_H
+# ifdef HAVE_STDLIB_H
 #  include &lt;stdlib.h&gt;
 # endif
 #endif
-#if HAVE_STRING_H
-# if !STDC_HEADERS &amp;&amp; HAVE_MEMORY_H
+#ifdef HAVE_STRING_H
+# if !defined STDC_HEADERS &amp;&amp; defined HAVE_MEMORY_H
 #  include &lt;memory.h&gt;
 # endif
 # include &lt;string.h&gt;
 #endif
-#if HAVE_STRINGS_H
+#ifdef HAVE_STRINGS_H
 # include &lt;strings.h&gt;
 #endif
-#if HAVE_INTTYPES_H
+#ifdef HAVE_INTTYPES_H
 # include &lt;inttypes.h&gt;
-#else
-# if HAVE_STDINT_H
-#  include &lt;stdint.h&gt;
-# endif
 #endif
-#if HAVE_UNISTD_H
+#ifdef HAVE_STDINT_H
+# include &lt;stdint.h&gt;
+#endif
+#ifdef HAVE_UNISTD_H
 # include &lt;unistd.h&gt;
 #endif&quot;
 
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT F77 FFLAGS ac_ct_F77 CPP EGREP SET_MAKE INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA RM CP MV LN SED AR LD TEST PYTHON F2PY G95 GFORTRAN OS CLOBBER FC_LIB_PATH FC AUDIO NEEDPORTAUDIO LIBOBJS LTLIBOBJS'
+ac_subst_vars='SHELL
+PATH_SEPARATOR
+PACKAGE_NAME
+PACKAGE_TARNAME
+PACKAGE_VERSION
+PACKAGE_STRING
+PACKAGE_BUGREPORT
+exec_prefix
+prefix
+program_transform_name
+bindir
+sbindir
+libexecdir
+datarootdir
+datadir
+sysconfdir
+sharedstatedir
+localstatedir
+includedir
+oldincludedir
+docdir
+infodir
+htmldir
+dvidir
+pdfdir
+psdir
+libdir
+localedir
+mandir
+DEFS
+ECHO_C
+ECHO_N
+ECHO_T
+LIBS
+build_alias
+host_alias
+target_alias
+CC
+CFLAGS
+LDFLAGS
+CPPFLAGS
+ac_ct_CC
+EXEEXT
+OBJEXT
+F77
+FFLAGS
+ac_ct_F77
+CPP
+GREP
+EGREP
+SET_MAKE
+INSTALL_PROGRAM
+INSTALL_SCRIPT
+INSTALL_DATA
+RM
+CP
+MV
+LN
+SED
+AR
+LD
+TEST
+PYTHON
+F2PY
+G95
+GFORTRAN
+OS
+CLOBBER
+FC_LIB_PATH
+FC
+LIBOBJS
+LTLIBOBJS'
 ac_subst_files=''
+ac_user_opts='
+enable_option_checking
+enable_clobber
+enable_assert
+enable_g95
+enable_gfortran
+with_portaudio_include_dir
+with_portaudio_lib_dir
+'
+      ac_precious_vars='build_alias
+host_alias
+target_alias
+CC
+CFLAGS
+LDFLAGS
+LIBS
+CPPFLAGS
+F77
+FFLAGS
+CPP'
 
+
 # Initialize some variables set by options.
 ac_init_help=
 ac_init_version=false
+ac_unrecognized_opts=
+ac_unrecognized_sep=
 # The variables have the same names as the options, with
 # dashes changed to underlines.
 cache_file=/dev/null
@@ -339,34 +759,48 @@
 # and all the variables that are supposed to be based on exec_prefix
 # by default will actually change.
 # Use braces instead of parens because sh, perl, etc. also accept them.
+# (The list follows the same order as the GNU Coding Standards.)
 bindir='${exec_prefix}/bin'
 sbindir='${exec_prefix}/sbin'
 libexecdir='${exec_prefix}/libexec'
-datadir='${prefix}/share'
+datarootdir='${prefix}/share'
+datadir='${datarootdir}'
 sysconfdir='${prefix}/etc'
 sharedstatedir='${prefix}/com'
 localstatedir='${prefix}/var'
-libdir='${exec_prefix}/lib'
 includedir='${prefix}/include'
 oldincludedir='/usr/include'
-infodir='${prefix}/info'
-mandir='${prefix}/man'
+docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
+infodir='${datarootdir}/info'
+htmldir='${docdir}'
+dvidir='${docdir}'
+pdfdir='${docdir}'
+psdir='${docdir}'
+libdir='${exec_prefix}/lib'
+localedir='${datarootdir}/locale'
+mandir='${datarootdir}/man'
 
 ac_prev=
+ac_dashdash=
 for ac_option
 do
   # If the previous option needs an argument, assign it.
   if test -n &quot;$ac_prev&quot;; then
-    eval &quot;$ac_prev=\$ac_option&quot;
+    eval $ac_prev=\$ac_option
     ac_prev=
     continue
   fi
 
-  ac_optarg=`expr &quot;x$ac_option&quot; : 'x[^=]*=\(.*\)'`
+  case $ac_option in
+  *=*)	ac_optarg=`expr &quot;X$ac_option&quot; : '[^=]*=\(.*\)'` ;;
+  *)	ac_optarg=yes ;;
+  esac
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
 
-  case $ac_option in
+  case $ac_dashdash$ac_option in
+  --)
+    ac_dashdash=yes ;;
 
   -bindir | --bindir | --bindi | --bind | --bin | --bi)
     ac_prev=bindir ;;
@@ -388,33 +822,61 @@
   --config-cache | -C)
     cache_file=config.cache ;;
 
-  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
+  -datadir | --datadir | --datadi | --datad)
     ac_prev=datadir ;;
-  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
-  | --da=*)
+  -datadir=* | --datadir=* | --datadi=* | --datad=*)
     datadir=$ac_optarg ;;
 
+  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
+  | --dataroo | --dataro | --datar)
+    ac_prev=datarootdir ;;
+  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
+  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
+    datarootdir=$ac_optarg ;;
+
   -disable-* | --disable-*)
-    ac_feature=`expr &quot;x$ac_option&quot; : 'x-*disable-\(.*\)'`
+    ac_useropt=`expr &quot;x$ac_option&quot; : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_feature&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid feature name: $ac_feature&quot; &gt;&amp;2
+    expr &quot;x$ac_useropt&quot; : &quot;.*[^-+._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { $as_echo &quot;$as_me: error: invalid feature name: $ac_useropt&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
-    eval &quot;enable_$ac_feature=no&quot; ;;
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`$as_echo &quot;$ac_useropt&quot; | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *&quot;
+&quot;enable_$ac_useropt&quot;
+&quot;*) ;;
+      *) ac_unrecognized_opts=&quot;$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig&quot;
+	 ac_unrecognized_sep=', ';;
+    esac
+    eval enable_$ac_useropt=no ;;
 
+  -docdir | --docdir | --docdi | --doc | --do)
+    ac_prev=docdir ;;
+  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
+    docdir=$ac_optarg ;;
+
+  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
+    ac_prev=dvidir ;;
+  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
+    dvidir=$ac_optarg ;;
+
   -enable-* | --enable-*)
-    ac_feature=`expr &quot;x$ac_option&quot; : 'x-*enable-\([^=]*\)'`
+    ac_useropt=`expr &quot;x$ac_option&quot; : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_feature&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid feature name: $ac_feature&quot; &gt;&amp;2
+    expr &quot;x$ac_useropt&quot; : &quot;.*[^-+._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { $as_echo &quot;$as_me: error: invalid feature name: $ac_useropt&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
-    case $ac_option in
-      *=*) ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;;
-      *) ac_optarg=yes ;;
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`$as_echo &quot;$ac_useropt&quot; | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *&quot;
+&quot;enable_$ac_useropt&quot;
+&quot;*) ;;
+      *) ac_unrecognized_opts=&quot;$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig&quot;
+	 ac_unrecognized_sep=', ';;
     esac
-    eval &quot;enable_$ac_feature='$ac_optarg'&quot; ;;
+    eval enable_$ac_useropt=\$ac_optarg ;;
 
   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
@@ -441,6 +903,12 @@
   -host=* | --host=* | --hos=* | --ho=*)
     host_alias=$ac_optarg ;;
 
+  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
+    ac_prev=htmldir ;;
+  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
+  | --ht=*)
+    htmldir=$ac_optarg ;;
+
   -includedir | --includedir | --includedi | --included | --include \
   | --includ | --inclu | --incl | --inc)
     ac_prev=includedir ;;
@@ -465,13 +933,16 @@
   | --libexe=* | --libex=* | --libe=*)
     libexecdir=$ac_optarg ;;
 
+  -localedir | --localedir | --localedi | --localed | --locale)
+    ac_prev=localedir ;;
+  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
+    localedir=$ac_optarg ;;
+
   -localstatedir | --localstatedir | --localstatedi | --localstated \
-  | --localstate | --localstat | --localsta | --localst \
-  | --locals | --local | --loca | --loc | --lo)
+  | --localstate | --localstat | --localsta | --localst | --locals)
     ac_prev=localstatedir ;;
   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
-  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
-  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
+  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
     localstatedir=$ac_optarg ;;
 
   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
@@ -536,6 +1007,16 @@
   | --progr-tra=* | --program-tr=* | --program-t=*)
     program_transform_name=$ac_optarg ;;
 
+  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
+    ac_prev=pdfdir ;;
+  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
+    pdfdir=$ac_optarg ;;
+
+  -psdir | --psdir | --psdi | --psd | --ps)
+    ac_prev=psdir ;;
+  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
+    psdir=$ac_optarg ;;
+
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil)
     silent=yes ;;
@@ -586,26 +1067,38 @@
     ac_init_version=: ;;
 
   -with-* | --with-*)
-    ac_package=`expr &quot;x$ac_option&quot; : 'x-*with-\([^=]*\)'`
+    ac_useropt=`expr &quot;x$ac_option&quot; : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_package&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid package name: $ac_package&quot; &gt;&amp;2
+    expr &quot;x$ac_useropt&quot; : &quot;.*[^-+._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { $as_echo &quot;$as_me: error: invalid package name: $ac_useropt&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-    ac_package=`echo $ac_package| sed 's/-/_/g'`
-    case $ac_option in
-      *=*) ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;;
-      *) ac_optarg=yes ;;
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`$as_echo &quot;$ac_useropt&quot; | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *&quot;
+&quot;with_$ac_useropt&quot;
+&quot;*) ;;
+      *) ac_unrecognized_opts=&quot;$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig&quot;
+	 ac_unrecognized_sep=', ';;
     esac
-    eval &quot;with_$ac_package='$ac_optarg'&quot; ;;
+    eval with_$ac_useropt=\$ac_optarg ;;
 
   -without-* | --without-*)
-    ac_package=`expr &quot;x$ac_option&quot; : 'x-*without-\(.*\)'`
+    ac_useropt=`expr &quot;x$ac_option&quot; : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_package&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid package name: $ac_package&quot; &gt;&amp;2
+    expr &quot;x$ac_useropt&quot; : &quot;.*[^-+._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { $as_echo &quot;$as_me: error: invalid package name: $ac_useropt&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-    ac_package=`echo $ac_package | sed 's/-/_/g'`
-    eval &quot;with_$ac_package=no&quot; ;;
+    ac_useropt_orig=$ac_useropt
+    ac_useropt=`$as_echo &quot;$ac_useropt&quot; | sed 's/[-+.]/_/g'`
+    case $ac_user_opts in
+      *&quot;
+&quot;with_$ac_useropt&quot;
+&quot;*) ;;
+      *) ac_unrecognized_opts=&quot;$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig&quot;
+	 ac_unrecognized_sep=', ';;
+    esac
+    eval with_$ac_useropt=no ;;
 
   --x)
     # Obsolete; use --with-x.
@@ -625,7 +1118,7 @@
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
     x_libraries=$ac_optarg ;;
 
-  -*) { echo &quot;$as_me: error: unrecognized option: $ac_option
+  -*) { $as_echo &quot;$as_me: error: unrecognized option: $ac_option
 Try \`$0 --help' for more information.&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
     ;;
@@ -634,17 +1127,16 @@
     ac_envvar=`expr &quot;x$ac_option&quot; : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
     expr &quot;x$ac_envvar&quot; : &quot;.*[^_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid variable name: $ac_envvar&quot; &gt;&amp;2
+      { $as_echo &quot;$as_me: error: invalid variable name: $ac_envvar&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-    ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`
-    eval &quot;$ac_envvar='$ac_optarg'&quot;
+    eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
 
   *)
     # FIXME: should be removed in autoconf 3.0.
-    echo &quot;$as_me: WARNING: you should use --build, --host, --target&quot; &gt;&amp;2
+    $as_echo &quot;$as_me: WARNING: you should use --build, --host, --target&quot; &gt;&amp;2
     expr &quot;x$ac_option&quot; : &quot;.*[^-._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      echo &quot;$as_me: WARNING: invalid host type: $ac_option&quot; &gt;&amp;2
+      $as_echo &quot;$as_me: WARNING: invalid host type: $ac_option&quot; &gt;&amp;2
     : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
 
@@ -653,31 +1145,39 @@
 
 if test -n &quot;$ac_prev&quot;; then
   ac_option=--`echo $ac_prev | sed 's/_/-/g'`
-  { echo &quot;$as_me: error: missing argument to $ac_option&quot; &gt;&amp;2
+  { $as_echo &quot;$as_me: error: missing argument to $ac_option&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
 fi
 
-# Be sure to have absolute paths.
-for ac_var in exec_prefix prefix
-do
-  eval ac_val=$`echo $ac_var`
-  case $ac_val in
-    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
-    *)  { echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; };;
+if test -n &quot;$ac_unrecognized_opts&quot;; then
+  case $enable_option_checking in
+    no) ;;
+    fatal) { $as_echo &quot;$as_me: error: Unrecognized options: $ac_unrecognized_opts&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; } ;;
+    *)     $as_echo &quot;$as_me: WARNING: Unrecognized options: $ac_unrecognized_opts&quot; &gt;&amp;2 ;;
   esac
-done
+fi
 
-# Be sure to have absolute paths.
-for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
-	      localstatedir libdir includedir oldincludedir infodir mandir
+# Check all directory arguments for consistency.
+for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
+		datadir sysconfdir sharedstatedir localstatedir includedir \
+		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
+		libdir localedir mandir
 do
-  eval ac_val=$`echo $ac_var`
+  eval ac_val=\$$ac_var
+  # Remove trailing slashes.
   case $ac_val in
-    [\\/$]* | ?:[\\/]* ) ;;
-    *)  { echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; };;
+    */ )
+      ac_val=`expr &quot;X$ac_val&quot; : 'X\(.*[^/]\)' \| &quot;X$ac_val&quot; : 'X\(.*\)'`
+      eval $ac_var=\$ac_val;;
   esac
+  # Be sure to have absolute directory names.
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* )  continue;;
+    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
+  esac
+  { $as_echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
 done
 
 # There might be people who depend on the old broken behavior: `$host'
@@ -691,7 +1191,7 @@
 if test &quot;x$host_alias&quot; != x; then
   if test &quot;x$build_alias&quot; = x; then
     cross_compiling=maybe
-    echo &quot;$as_me: WARNING: If you wanted to set the --build type, don't use --host.
+    $as_echo &quot;$as_me: WARNING: If you wanted to set the --build type, don't use --host.
     If a cross compiler is detected then cross compile mode will be used.&quot; &gt;&amp;2
   elif test &quot;x$build_alias&quot; != &quot;x$host_alias&quot;; then
     cross_compiling=yes
@@ -704,82 +1204,76 @@
 test &quot;$silent&quot; = yes &amp;&amp; exec 6&gt;/dev/null
 
 
+ac_pwd=`pwd` &amp;&amp; test -n &quot;$ac_pwd&quot; &amp;&amp;
+ac_ls_di=`ls -di .` &amp;&amp;
+ac_pwd_ls_di=`cd &quot;$ac_pwd&quot; &amp;&amp; ls -di .` ||
+  { $as_echo &quot;$as_me: error: Working directory cannot be determined&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+test &quot;X$ac_ls_di&quot; = &quot;X$ac_pwd_ls_di&quot; ||
+  { $as_echo &quot;$as_me: error: pwd does not report name of working directory&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+
+
 # Find the source files, if location was not specified.
 if test -z &quot;$srcdir&quot;; then
   ac_srcdir_defaulted=yes
-  # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname &quot;$0&quot;) 2&gt;/dev/null ||
-$as_expr X&quot;$0&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X&quot;$0&quot; : 'X\(//\)[^/]' \| \
-	 X&quot;$0&quot; : 'X\(//\)$' \| \
-	 X&quot;$0&quot; : 'X\(/\)' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X&quot;$0&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
+  # Try the directory containing this script, then the parent directory.
+  ac_confdir=`$as_dirname -- &quot;$as_myself&quot; ||
+$as_expr X&quot;$as_myself&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$as_myself&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$as_myself&quot; : 'X\(//\)$' \| \
+	 X&quot;$as_myself&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
+$as_echo X&quot;$as_myself&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
   srcdir=$ac_confdir
-  if test ! -r $srcdir/$ac_unique_file; then
+  if test ! -r &quot;$srcdir/$ac_unique_file&quot;; then
     srcdir=..
   fi
 else
   ac_srcdir_defaulted=no
 fi
-if test ! -r $srcdir/$ac_unique_file; then
-  if test &quot;$ac_srcdir_defaulted&quot; = yes; then
-    { echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or ..&quot; &gt;&amp;2
+if test ! -r &quot;$srcdir/$ac_unique_file&quot;; then
+  test &quot;$ac_srcdir_defaulted&quot; = yes &amp;&amp; srcdir=&quot;$ac_confdir or ..&quot;
+  { $as_echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $srcdir&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-  else
-    { echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $srcdir&quot; &gt;&amp;2
+fi
+ac_msg=&quot;sources are in $srcdir, but \`cd $srcdir' does not work&quot;
+ac_abs_confdir=`(
+	cd &quot;$srcdir&quot; &amp;&amp; test -r &quot;./$ac_unique_file&quot; || { $as_echo &quot;$as_me: error: $ac_msg&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
-  fi
+	pwd)`
+# When building in place, set srcdir=.
+if test &quot;$ac_abs_confdir&quot; = &quot;$ac_pwd&quot;; then
+  srcdir=.
 fi
-(cd $srcdir &amp;&amp; test -r ./$ac_unique_file) 2&gt;/dev/null ||
-  { echo &quot;$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-srcdir=`echo &quot;$srcdir&quot; | sed 's%\([^\\/]\)[\\/]*$%\1%'`
-ac_env_build_alias_set=${build_alias+set}
-ac_env_build_alias_value=$build_alias
-ac_cv_env_build_alias_set=${build_alias+set}
-ac_cv_env_build_alias_value=$build_alias
-ac_env_host_alias_set=${host_alias+set}
-ac_env_host_alias_value=$host_alias
-ac_cv_env_host_alias_set=${host_alias+set}
-ac_cv_env_host_alias_value=$host_alias
-ac_env_target_alias_set=${target_alias+set}
-ac_env_target_alias_value=$target_alias
-ac_cv_env_target_alias_set=${target_alias+set}
-ac_cv_env_target_alias_value=$target_alias
-ac_env_CC_set=${CC+set}
-ac_env_CC_value=$CC
-ac_cv_env_CC_set=${CC+set}
-ac_cv_env_CC_value=$CC
-ac_env_CFLAGS_set=${CFLAGS+set}
-ac_env_CFLAGS_value=$CFLAGS
-ac_cv_env_CFLAGS_set=${CFLAGS+set}
-ac_cv_env_CFLAGS_value=$CFLAGS
-ac_env_LDFLAGS_set=${LDFLAGS+set}
-ac_env_LDFLAGS_value=$LDFLAGS
-ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
-ac_cv_env_LDFLAGS_value=$LDFLAGS
-ac_env_CPPFLAGS_set=${CPPFLAGS+set}
-ac_env_CPPFLAGS_value=$CPPFLAGS
-ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
-ac_cv_env_CPPFLAGS_value=$CPPFLAGS
-ac_env_F77_set=${F77+set}
-ac_env_F77_value=$F77
-ac_cv_env_F77_set=${F77+set}
-ac_cv_env_F77_value=$F77
-ac_env_FFLAGS_set=${FFLAGS+set}
-ac_env_FFLAGS_value=$FFLAGS
-ac_cv_env_FFLAGS_set=${FFLAGS+set}
-ac_cv_env_FFLAGS_value=$FFLAGS
-ac_env_CPP_set=${CPP+set}
-ac_env_CPP_value=$CPP
-ac_cv_env_CPP_set=${CPP+set}
-ac_cv_env_CPP_value=$CPP
+# Remove unnecessary trailing slashes from srcdir.
+# Double slashes in file names in object file debugging info
+# mess up M-x gdb in Emacs.
+case $srcdir in
+*/) srcdir=`expr &quot;X$srcdir&quot; : 'X\(.*[^/]\)' \| &quot;X$srcdir&quot; : 'X\(.*\)'`;;
+esac
+for ac_var in $ac_precious_vars; do
+  eval ac_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_env_${ac_var}_value=\$${ac_var}
+  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_cv_env_${ac_var}_value=\$${ac_var}
+done
 
 #
 # Report the --help message.
@@ -788,7 +1282,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat &lt;&lt;_ACEOF
-\`configure' configures wsjt 5.9.6 to adapt to many kinds of systems.
+\`configure' configures map65 0.9 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -808,14 +1302,11 @@
   -n, --no-create         do not create output files
       --srcdir=DIR        find the sources in DIR [configure dir or \`..']
 
-_ACEOF
-
-  cat &lt;&lt;_ACEOF
 Installation directories:
   --prefix=PREFIX         install architecture-independent files in PREFIX
-			  [$ac_default_prefix]
+                          [$ac_default_prefix]
   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
-			  [PREFIX]
+                          [PREFIX]
 
 By default, \`make install' will install all the files in
 \`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
@@ -825,18 +1316,25 @@
 For better control, use the options below.
 
 Fine tuning of the installation directories:
-  --bindir=DIR           user executables [EPREFIX/bin]
-  --sbindir=DIR          system admin executables [EPREFIX/sbin]
-  --libexecdir=DIR       program executables [EPREFIX/libexec]
-  --datadir=DIR          read-only architecture-independent data [PREFIX/share]
-  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
-  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
-  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
-  --libdir=DIR           object code libraries [EPREFIX/lib]
-  --includedir=DIR       C header files [PREFIX/include]
-  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
-  --infodir=DIR          info documentation [PREFIX/info]
-  --mandir=DIR           man documentation [PREFIX/man]
+  --bindir=DIR            user executables [EPREFIX/bin]
+  --sbindir=DIR           system admin executables [EPREFIX/sbin]
+  --libexecdir=DIR        program executables [EPREFIX/libexec]
+  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
+  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
+  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
+  --libdir=DIR            object code libraries [EPREFIX/lib]
+  --includedir=DIR        C header files [PREFIX/include]
+  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
+  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
+  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
+  --infodir=DIR           info documentation [DATAROOTDIR/info]
+  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
+  --mandir=DIR            man documentation [DATAROOTDIR/man]
+  --docdir=DIR            documentation root [DATAROOTDIR/doc/map65]
+  --htmldir=DIR           html documentation [DOCDIR]
+  --dvidir=DIR            dvi documentation [DOCDIR]
+  --pdfdir=DIR            pdf documentation [DOCDIR]
+  --psdir=DIR             ps documentation [DOCDIR]
 _ACEOF
 
   cat &lt;&lt;\_ACEOF
@@ -845,28 +1343,35 @@
 
 if test -n &quot;$ac_init_help&quot;; then
   case $ac_init_help in
-     short | recursive ) echo &quot;Configuration of wsjt 5.9.6:&quot;;;
+     short | recursive ) echo &quot;Configuration of map65 0.9:&quot;;;
    esac
   cat &lt;&lt;\_ACEOF
 
 Optional Features:
+  --disable-option-checking  ignore unrecognized --enable/--with options
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
   --enable-clobber        Don't preserve old binaries on make install
   --enable-assert         Enable assert().
-  --enable-alsa           Force ALSA SOUNDCARD usage.
-  --enable-oss            Force OSS SOUND usage.
-  --enable-portaudio      Force PORTAUDIO SOUND usage.
   --enable-g95            Use G95 compiler if available.
   --enable-gfortran       Use gfortran compiler if available.
 
+Optional Packages:
+  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
+  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+  --with-portaudio-include-dir=&lt;path&gt;
+                          path to portaudio include files
+  --with-portaudio-lib-dir=&lt;path&gt;
+                          path to portaudio lib files
+
 Some influential environment variables:
   CC          C compiler command
   CFLAGS      C compiler flags
   LDFLAGS     linker flags, e.g. -L&lt;lib dir&gt; if you have libraries in a
               nonstandard directory &lt;lib dir&gt;
-  CPPFLAGS    C/C++ preprocessor flags, e.g. -I&lt;include dir&gt; if you have
-              headers in a nonstandard directory &lt;include dir&gt;
+  LIBS        libraries to pass to the linker, e.g. -l&lt;library&gt;
+  CPPFLAGS    C/C++/Objective C preprocessor flags, e.g. -I&lt;include dir&gt; if
+              you have headers in a nonstandard directory &lt;include dir&gt;
   F77         Fortran 77 compiler command
   FFLAGS      Fortran 77 compiler flags
   CPP         C preprocessor
@@ -875,122 +1380,90 @@
 it to find libraries and programs with nonstandard names/locations.
 
 _ACEOF
+ac_status=$?
 fi
 
 if test &quot;$ac_init_help&quot; = &quot;recursive&quot;; then
   # If there are subdirs, report their specific --help.
-  ac_popdir=`pwd`
   for ac_dir in : $ac_subdirs_all; do test &quot;x$ac_dir&quot; = x: &amp;&amp; continue
-    test -d $ac_dir || continue
+    test -d &quot;$ac_dir&quot; ||
+      { cd &quot;$srcdir&quot; &amp;&amp; ac_pwd=`pwd` &amp;&amp; srcdir=. &amp;&amp; test -d &quot;$ac_dir&quot;; } ||
+      continue
     ac_builddir=.
 
-if test &quot;$ac_dir&quot; != .; then
-  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
-  # A &quot;../&quot; for each directory in $ac_dir_suffix.
-  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
-else
-  ac_dir_suffix= ac_top_builddir=
-fi
+case &quot;$ac_dir&quot; in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
+*)
+  ac_dir_suffix=/`$as_echo &quot;$ac_dir&quot; | sed 's|^\.[\\/]||'`
+  # A &quot;..&quot; for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`$as_echo &quot;$ac_dir_suffix&quot; | sed 's|/[^\\/]*|/..|g;s|/||'`
+  case $ac_top_builddir_sub in
+  &quot;&quot;) ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
+  esac ;;
+esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
 
 case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
+  .)  # We are building in place.
     ac_srcdir=.
-    if test -z &quot;$ac_top_builddir&quot;; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
     ac_srcdir=$srcdir$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
-  *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
 esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
 
-# Do not use `cd foo &amp;&amp; pwd` to compute absolute paths, because
-# the directories may not exist.
-case `pwd` in
-.) ac_abs_builddir=&quot;$ac_dir&quot;;;
-*)
-  case &quot;$ac_dir&quot; in
-  .) ac_abs_builddir=`pwd`;;
-  [\\/]* | ?:[\\/]* ) ac_abs_builddir=&quot;$ac_dir&quot;;;
-  *) ac_abs_builddir=`pwd`/&quot;$ac_dir&quot;;;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_builddir=${ac_top_builddir}.;;
-*)
-  case ${ac_top_builddir}. in
-  .) ac_abs_top_builddir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_srcdir=$ac_srcdir;;
-*)
-  case $ac_srcdir in
-  .) ac_abs_srcdir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
-  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_srcdir=$ac_top_srcdir;;
-*)
-  case $ac_top_srcdir in
-  .) ac_abs_top_srcdir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
-  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
-  esac;;
-esac
-
-    cd $ac_dir
-    # Check for guested configure; otherwise get Cygnus style configure.
-    if test -f $ac_srcdir/configure.gnu; then
-      echo
-      $SHELL $ac_srcdir/configure.gnu  --help=recursive
-    elif test -f $ac_srcdir/configure; then
-      echo
-      $SHELL $ac_srcdir/configure  --help=recursive
-    elif test -f $ac_srcdir/configure.ac ||
-	   test -f $ac_srcdir/configure.in; then
-      echo
-      $ac_configure --help
+    cd &quot;$ac_dir&quot; || { ac_status=$?; continue; }
+    # Check for guested configure.
+    if test -f &quot;$ac_srcdir/configure.gnu&quot;; then
+      echo &amp;&amp;
+      $SHELL &quot;$ac_srcdir/configure.gnu&quot; --help=recursive
+    elif test -f &quot;$ac_srcdir/configure&quot;; then
+      echo &amp;&amp;
+      $SHELL &quot;$ac_srcdir/configure&quot; --help=recursive
     else
-      echo &quot;$as_me: WARNING: no configuration information is in $ac_dir&quot; &gt;&amp;2
-    fi
-    cd $ac_popdir
+      $as_echo &quot;$as_me: WARNING: no configuration information is in $ac_dir&quot; &gt;&amp;2
+    fi || ac_status=$?
+    cd &quot;$ac_pwd&quot; || { ac_status=$?; break; }
   done
 fi
 
-test -n &quot;$ac_init_help&quot; &amp;&amp; exit 0
+test -n &quot;$ac_init_help&quot; &amp;&amp; exit $ac_status
 if $ac_init_version; then
   cat &lt;&lt;\_ACEOF
-wsjt configure 5.9.6
-generated by GNU Autoconf 2.59
+map65 configure 0.9
+generated by GNU Autoconf 2.62
 
-Copyright (C) 2003 Free Software Foundation, Inc.
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
+2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 
-$Id: configure.ac 270 2006-09-04 19:18:34Z k1jt $
+$Id: configure.ac 312 2006-09-23 08:37:07Z va3db $
 _ACEOF
-  exit 0
+  exit
 fi
-exec 5&gt;config.log
-cat &gt;&amp;5 &lt;&lt;_ACEOF
+cat &gt;config.log &lt;&lt;_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by wsjt $as_me 5.9.6, which was
-generated by GNU Autoconf 2.59.  Invocation command line was
+It was created by map65 $as_me 0.9, which was
+generated by GNU Autoconf 2.62.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
+exec 5&gt;&gt;config.log
 {
 cat &lt;&lt;_ASUNAME
 ## --------- ##
@@ -1009,7 +1482,7 @@
 /bin/arch              = `(/bin/arch) 2&gt;/dev/null              || echo unknown`
 /usr/bin/arch -k       = `(/usr/bin/arch -k) 2&gt;/dev/null       || echo unknown`
 /usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2&gt;/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2&gt;/dev/null               || echo unknown`
+/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2&gt;/dev/null      || echo unknown`
 /bin/machine           = `(/bin/machine) 2&gt;/dev/null           || echo unknown`
 /usr/bin/oslevel       = `(/usr/bin/oslevel) 2&gt;/dev/null       || echo unknown`
 /bin/universe          = `(/bin/universe) 2&gt;/dev/null          || echo unknown`
@@ -1021,8 +1494,9 @@
 do
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  echo &quot;PATH: $as_dir&quot;
+  $as_echo &quot;PATH: $as_dir&quot;
 done
+IFS=$as_save_IFS
 
 } &gt;&amp;5
 
@@ -1044,7 +1518,6 @@
 ac_configure_args=
 ac_configure_args0=
 ac_configure_args1=
-ac_sep=
 ac_must_keep_next=false
 for ac_pass in 1 2
 do
@@ -1055,8 +1528,8 @@
     -q | -quiet | --quiet | --quie | --qui | --qu | --q \
     | -silent | --silent | --silen | --sile | --sil)
       continue ;;
-    *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?\&quot;\']*)
-      ac_arg=`echo &quot;$ac_arg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
+    *\'*)
+      ac_arg=`$as_echo &quot;$ac_arg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
     esac
     case $ac_pass in
     1) ac_configure_args0=&quot;$ac_configure_args0 '$ac_arg'&quot; ;;
@@ -1077,9 +1550,7 @@
 	  -* ) ac_must_keep_next=true ;;
 	esac
       fi
-      ac_configure_args=&quot;$ac_configure_args$ac_sep'$ac_arg'&quot;
-      # Get rid of the leading space.
-      ac_sep=&quot; &quot;
+      ac_configure_args=&quot;$ac_configure_args '$ac_arg'&quot;
       ;;
     esac
   done
@@ -1090,8 +1561,8 @@
 # When interrupted or exit'd, cleanup temporary files, and complete
 # config.log.  We remove comments because anyway the quotes in there
 # would cause problems or look ugly.
-# WARNING: Be sure not to use single quotes in there, as some shells,
-# such as our DU 5.0 friend, will then `close' the trap.
+# WARNING: Use '\'' to represent an apostrophe within the trap.
+# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
 trap 'exit_status=$?
   # Save into config.log some information that might help in debugging.
   {
@@ -1104,20 +1575,35 @@
 _ASBOX
     echo
     # The following way of writing the cache mishandles newlines in values,
-{
+(
+  for ac_var in `(set) 2&gt;&amp;1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { $as_echo &quot;$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline.&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: Cache variable $ac_var contains a newline.&quot; &gt;&amp;2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
+      *) $as_unset $ac_var ;;
+      esac ;;
+    esac
+  done
   (set) 2&gt;&amp;1 |
-    case `(ac_space='&quot;'&quot;' '&quot;'&quot;'; set | grep ac_space) 2&gt;&amp;1` in
-    *ac_space=\ *)
+    case $as_nl`(ac_space='\'' '\''; set) 2&gt;&amp;1` in #(
+    *${as_nl}ac_space=\ *)
       sed -n \
-	&quot;s/'&quot;'&quot;'/'&quot;'&quot;'\\\\'&quot;'&quot;''&quot;'&quot;'/g;
-	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='&quot;'&quot;'\\2'&quot;'&quot;'/p&quot;
-      ;;
+	&quot;s/'\''/'\''\\\\'\'''\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p&quot;
+      ;; #(
     *)
-      sed -n \
-	&quot;s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p&quot;
+      sed -n &quot;/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p&quot;
       ;;
-    esac;
-}
+    esac |
+    sort
+)
     echo
 
     cat &lt;&lt;\_ASBOX
@@ -1128,22 +1614,28 @@
     echo
     for ac_var in $ac_subst_vars
     do
-      eval ac_val=$`echo $ac_var`
-      echo &quot;$ac_var='&quot;'&quot;'$ac_val'&quot;'&quot;'&quot;
+      eval ac_val=\$$ac_var
+      case $ac_val in
+      *\'\''*) ac_val=`$as_echo &quot;$ac_val&quot; | sed &quot;s/'\''/'\''\\\\\\\\'\'''\''/g&quot;`;;
+      esac
+      $as_echo &quot;$ac_var='\''$ac_val'\''&quot;
     done | sort
     echo
 
     if test -n &quot;$ac_subst_files&quot;; then
       cat &lt;&lt;\_ASBOX
-## ------------- ##
-## Output files. ##
-## ------------- ##
+## ------------------- ##
+## File substitutions. ##
+## ------------------- ##
 _ASBOX
       echo
       for ac_var in $ac_subst_files
       do
-	eval ac_val=$`echo $ac_var`
-	echo &quot;$ac_var='&quot;'&quot;'$ac_val'&quot;'&quot;'&quot;
+	eval ac_val=\$$ac_var
+	case $ac_val in
+	*\'\''*) ac_val=`$as_echo &quot;$ac_val&quot; | sed &quot;s/'\''/'\''\\\\\\\\'\'''\''/g&quot;`;;
+	esac
+	$as_echo &quot;$ac_var='\''$ac_val'\''&quot;
       done | sort
       echo
     fi
@@ -1155,26 +1647,24 @@
 ## ----------- ##
 _ASBOX
       echo
-      sed &quot;/^$/d&quot; confdefs.h | sort
+      cat confdefs.h
       echo
     fi
     test &quot;$ac_signal&quot; != 0 &amp;&amp;
-      echo &quot;$as_me: caught signal $ac_signal&quot;
-    echo &quot;$as_me: exit $exit_status&quot;
+      $as_echo &quot;$as_me: caught signal $ac_signal&quot;
+    $as_echo &quot;$as_me: exit $exit_status&quot;
   } &gt;&amp;5
-  rm -f core *.core &amp;&amp;
-  rm -rf conftest* confdefs* conf$$* $ac_clean_files &amp;&amp;
+  rm -f core *.core core.conftest.* &amp;&amp;
+    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &amp;&amp;
     exit $exit_status
-     ' 0
+' 0
 for ac_signal in 1 2 13 15; do
   trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
 done
 ac_signal=0
 
 # confdefs.h avoids OS command line length limits that DEFS can exceed.
-rm -rf conftest* confdefs.h
-# AIX cpp loses on an empty file, so make sure it contains at least a newline.
-echo &gt;confdefs.h
+rm -f -r conftest* confdefs.h
 
 # Predefined preprocessor variables.
 
@@ -1204,18 +1694,24 @@
 
 
 # Let the site file select an alternate cache file if it wants to.
-# Prefer explicitly selected file to automatically selected ones.
-if test -z &quot;$CONFIG_SITE&quot;; then
-  if test &quot;x$prefix&quot; != xNONE; then
-    CONFIG_SITE=&quot;$prefix/share/config.site $prefix/etc/config.site&quot;
-  else
-    CONFIG_SITE=&quot;$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site&quot;
-  fi
+# Prefer an explicitly selected file to automatically selected ones.
+ac_site_file1=NONE
+ac_site_file2=NONE
+if test -n &quot;$CONFIG_SITE&quot;; then
+  ac_site_file1=$CONFIG_SITE
+elif test &quot;x$prefix&quot; != xNONE; then
+  ac_site_file1=$prefix/share/config.site
+  ac_site_file2=$prefix/etc/config.site
+else
+  ac_site_file1=$ac_default_prefix/share/config.site
+  ac_site_file2=$ac_default_prefix/etc/config.site
 fi
-for ac_site_file in $CONFIG_SITE; do
+for ac_site_file in &quot;$ac_site_file1&quot; &quot;$ac_site_file2&quot;
+do
+  test &quot;x$ac_site_file&quot; = xNONE &amp;&amp; continue
   if test -r &quot;$ac_site_file&quot;; then
-    { echo &quot;$as_me:$LINENO: loading site script $ac_site_file&quot; &gt;&amp;5
-echo &quot;$as_me: loading site script $ac_site_file&quot; &gt;&amp;6;}
+    { $as_echo &quot;$as_me:$LINENO: loading site script $ac_site_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: loading site script $ac_site_file&quot; &gt;&amp;6;}
     sed 's/^/| /' &quot;$ac_site_file&quot; &gt;&amp;5
     . &quot;$ac_site_file&quot;
   fi
@@ -1225,54 +1721,61 @@
   # Some versions of bash will fail to source /dev/null (special
   # files actually), so we avoid doing that.
   if test -f &quot;$cache_file&quot;; then
-    { echo &quot;$as_me:$LINENO: loading cache $cache_file&quot; &gt;&amp;5
-echo &quot;$as_me: loading cache $cache_file&quot; &gt;&amp;6;}
+    { $as_echo &quot;$as_me:$LINENO: loading cache $cache_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: loading cache $cache_file&quot; &gt;&amp;6;}
     case $cache_file in
-      [\\/]* | ?:[\\/]* ) . $cache_file;;
-      *)                      . ./$cache_file;;
+      [\\/]* | ?:[\\/]* ) . &quot;$cache_file&quot;;;
+      *)                      . &quot;./$cache_file&quot;;;
     esac
   fi
 else
-  { echo &quot;$as_me:$LINENO: creating cache $cache_file&quot; &gt;&amp;5
-echo &quot;$as_me: creating cache $cache_file&quot; &gt;&amp;6;}
+  { $as_echo &quot;$as_me:$LINENO: creating cache $cache_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: creating cache $cache_file&quot; &gt;&amp;6;}
   &gt;$cache_file
 fi
 
 # Check that the precious variables saved in the cache have kept the same
 # value.
 ac_cache_corrupted=false
-for ac_var in `(set) 2&gt;&amp;1 |
-	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
+for ac_var in $ac_precious_vars; do
   eval ac_old_set=\$ac_cv_env_${ac_var}_set
   eval ac_new_set=\$ac_env_${ac_var}_set
-  eval ac_old_val=&quot;\$ac_cv_env_${ac_var}_value&quot;
-  eval ac_new_val=&quot;\$ac_env_${ac_var}_value&quot;
+  eval ac_old_val=\$ac_cv_env_${ac_var}_value
+  eval ac_new_val=\$ac_env_${ac_var}_value
   case $ac_old_set,$ac_new_set in
     set,)
-      { echo &quot;$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;5
-echo &quot;$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;2;}
+      { $as_echo &quot;$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;2;}
       ac_cache_corrupted=: ;;
     ,set)
-      { echo &quot;$as_me:$LINENO: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;5
-echo &quot;$as_me: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;2;}
+      { $as_echo &quot;$as_me:$LINENO: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;2;}
       ac_cache_corrupted=: ;;
     ,);;
     *)
       if test &quot;x$ac_old_val&quot; != &quot;x$ac_new_val&quot;; then
-	{ echo &quot;$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;5
-echo &quot;$as_me: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;2;}
-	{ echo &quot;$as_me:$LINENO:   former value:  $ac_old_val&quot; &gt;&amp;5
-echo &quot;$as_me:   former value:  $ac_old_val&quot; &gt;&amp;2;}
-	{ echo &quot;$as_me:$LINENO:   current value: $ac_new_val&quot; &gt;&amp;5
-echo &quot;$as_me:   current value: $ac_new_val&quot; &gt;&amp;2;}
-	ac_cache_corrupted=:
+	# differences in whitespace do not lead to failure.
+	ac_old_val_w=`echo x $ac_old_val`
+	ac_new_val_w=`echo x $ac_new_val`
+	if test &quot;$ac_old_val_w&quot; != &quot;$ac_new_val_w&quot;; then
+	  { $as_echo &quot;$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;2;}
+	  ac_cache_corrupted=:
+	else
+	  { $as_echo &quot;$as_me:$LINENO: warning: ignoring whitespace changes in \`$ac_var' since the previous run:&quot; &gt;&amp;5
+$as_echo &quot;$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:&quot; &gt;&amp;2;}
+	  eval $ac_var=\$ac_old_val
+	fi
+	{ $as_echo &quot;$as_me:$LINENO:   former value:  \`$ac_old_val'&quot; &gt;&amp;5
+$as_echo &quot;$as_me:   former value:  \`$ac_old_val'&quot; &gt;&amp;2;}
+	{ $as_echo &quot;$as_me:$LINENO:   current value: \`$ac_new_val'&quot; &gt;&amp;5
+$as_echo &quot;$as_me:   current value: \`$ac_new_val'&quot; &gt;&amp;2;}
       fi;;
   esac
   # Pass precious variables to config.status.
   if test &quot;$ac_new_set&quot; = set; then
     case $ac_new_val in
-    *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?\&quot;\']*)
-      ac_arg=$ac_var=`echo &quot;$ac_new_val&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
+    *\'*) ac_arg=$ac_var=`$as_echo &quot;$ac_new_val&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
     *) ac_arg=$ac_var=$ac_new_val ;;
     esac
     case &quot; $ac_configure_args &quot; in
@@ -1282,18 +1785,13 @@
   fi
 done
 if $ac_cache_corrupted; then
-  { echo &quot;$as_me:$LINENO: error: changes in the environment can compromise the build&quot; &gt;&amp;5
-echo &quot;$as_me: error: changes in the environment can compromise the build&quot; &gt;&amp;2;}
-  { { echo &quot;$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;5
-echo &quot;$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;2;}
+  { $as_echo &quot;$as_me:$LINENO: error: changes in the environment can compromise the build&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: changes in the environment can compromise the build&quot; &gt;&amp;2;}
+  { { $as_echo &quot;$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
-ac_ext=c
-ac_cpp='$CPP $CPPFLAGS'
-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
@@ -1318,12 +1816,16 @@
 
 
 
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
 
 
-
 OLD_CFLAGS=&quot;$CFLAGS&quot;
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
@@ -1333,10 +1835,10 @@
 if test -n &quot;$ac_tool_prefix&quot;; then
   # Extract the first word of &quot;${ac_tool_prefix}gcc&quot;, so it can be a program name with args.
 set dummy ${ac_tool_prefix}gcc; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$CC&quot;; then
   ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
@@ -1347,34 +1849,36 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_CC=&quot;${ac_tool_prefix}gcc&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n &quot;$CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+$as_echo &quot;$CC&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 fi
 if test -z &quot;$ac_cv_prog_CC&quot;; then
   ac_ct_CC=$CC
   # Extract the first word of &quot;gcc&quot;, so it can be a program name with args.
 set dummy gcc; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_ac_ct_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$ac_ct_CC&quot;; then
   ac_cv_prog_ac_ct_CC=&quot;$ac_ct_CC&quot; # Let the user override the test.
@@ -1385,38 +1889,53 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_ac_ct_CC=&quot;gcc&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n &quot;$ac_ct_CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_ct_CC&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
+$as_echo &quot;$ac_ct_CC&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
-  CC=$ac_ct_CC
+  if test &quot;x$ac_ct_CC&quot; = x; then
+    CC=&quot;&quot;
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ $as_echo &quot;$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">autoconf at gnu.org.</A>&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">autoconf at gnu.org.</A>&quot; &gt;&amp;2;}
+ac_tool_warned=yes ;;
+esac
+    CC=$ac_ct_CC
+  fi
 else
   CC=&quot;$ac_cv_prog_CC&quot;
 fi
 
 if test -z &quot;$CC&quot;; then
-  if test -n &quot;$ac_tool_prefix&quot;; then
-  # Extract the first word of &quot;${ac_tool_prefix}cc&quot;, so it can be a program name with args.
+          if test -n &quot;$ac_tool_prefix&quot;; then
+    # Extract the first word of &quot;${ac_tool_prefix}cc&quot;, so it can be a program name with args.
 set dummy ${ac_tool_prefix}cc; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$CC&quot;; then
   ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
@@ -1427,76 +1946,36 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_CC=&quot;${ac_tool_prefix}cc&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n &quot;$CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+$as_echo &quot;$CC&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
-fi
-if test -z &quot;$ac_cv_prog_CC&quot;; then
-  ac_ct_CC=$CC
-  # Extract the first word of &quot;cc&quot;, so it can be a program name with args.
-set dummy cc; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_prog_ac_ct_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  if test -n &quot;$ac_ct_CC&quot;; then
-  ac_cv_prog_ac_ct_CC=&quot;$ac_ct_CC&quot; # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
-    ac_cv_prog_ac_ct_CC=&quot;cc&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
+
   fi
-done
-done
-
 fi
-fi
-ac_ct_CC=$ac_cv_prog_ac_ct_CC
-if test -n &quot;$ac_ct_CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_ct_CC&quot; &gt;&amp;6
-else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
-fi
-
-  CC=$ac_ct_CC
-else
-  CC=&quot;$ac_cv_prog_CC&quot;
-fi
-
-fi
 if test -z &quot;$CC&quot;; then
   # Extract the first word of &quot;cc&quot;, so it can be a program name with args.
 set dummy cc; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$CC&quot;; then
   ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
@@ -1508,17 +1987,18 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     if test &quot;$as_dir/$ac_word$ac_exec_ext&quot; = &quot;/usr/ucb/cc&quot;; then
        ac_prog_rejected=yes
        continue
      fi
     ac_cv_prog_CC=&quot;cc&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 if test $ac_prog_rejected = yes; then
   # We found a bogon in the path, so make sure we never use it.
@@ -1536,24 +2016,25 @@
 fi
 CC=$ac_cv_prog_CC
 if test -n &quot;$CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+$as_echo &quot;$CC&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 fi
 if test -z &quot;$CC&quot;; then
   if test -n &quot;$ac_tool_prefix&quot;; then
-  for ac_prog in cl
+  for ac_prog in cl.exe
   do
     # Extract the first word of &quot;$ac_tool_prefix$ac_prog&quot;, so it can be a program name with args.
 set dummy $ac_tool_prefix$ac_prog; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$CC&quot;; then
   ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
@@ -1564,38 +2045,40 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_CC=&quot;$ac_tool_prefix$ac_prog&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n &quot;$CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+$as_echo &quot;$CC&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
     test -n &quot;$CC&quot; &amp;&amp; break
   done
 fi
 if test -z &quot;$CC&quot;; then
   ac_ct_CC=$CC
-  for ac_prog in cl
+  for ac_prog in cl.exe
 do
   # Extract the first word of &quot;$ac_prog&quot;, so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_ac_ct_CC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$ac_ct_CC&quot;; then
   ac_cv_prog_ac_ct_CC=&quot;$ac_ct_CC&quot; # Let the user override the test.
@@ -1606,58 +2089,92 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_ac_ct_CC=&quot;$ac_prog&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n &quot;$ac_ct_CC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_ct_CC&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
+$as_echo &quot;$ac_ct_CC&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
   test -n &quot;$ac_ct_CC&quot; &amp;&amp; break
 done
 
-  CC=$ac_ct_CC
+  if test &quot;x$ac_ct_CC&quot; = x; then
+    CC=&quot;&quot;
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ $as_echo &quot;$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">autoconf at gnu.org.</A>&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">autoconf at gnu.org.</A>&quot; &gt;&amp;2;}
+ac_tool_warned=yes ;;
+esac
+    CC=$ac_ct_CC
+  fi
 fi
 
 fi
 
 
-test -z &quot;$CC&quot; &amp;&amp; { { echo &quot;$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
+test -z &quot;$CC&quot; &amp;&amp; { { $as_echo &quot;$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: no acceptable C compiler found in \$PATH
+$as_echo &quot;$as_me: error: no acceptable C compiler found in \$PATH
 See \`config.log' for more details.&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 
 # Provide some information about the compiler.
-echo &quot;$as_me:$LINENO:&quot; \
-     &quot;checking for C compiler version&quot; &gt;&amp;5
-ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler --version &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compiler --version &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+$as_echo &quot;$as_me:$LINENO: checking for C compiler version&quot; &gt;&amp;5
+set X $ac_compile
+ac_compiler=$2
+{ (ac_try=&quot;$ac_compiler --version &gt;&amp;5&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compiler --version &gt;&amp;5&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }
-{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -v &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compiler -v &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+{ (ac_try=&quot;$ac_compiler -v &gt;&amp;5&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compiler -v &gt;&amp;5&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }
-{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -V &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compiler -V &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+{ (ac_try=&quot;$ac_compiler -V &gt;&amp;5&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compiler -V &gt;&amp;5&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }
 
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -1676,111 +2193,146 @@
 }
 _ACEOF
 ac_clean_files_save=$ac_clean_files
-ac_clean_files=&quot;$ac_clean_files a.out a.exe b.out&quot;
+ac_clean_files=&quot;$ac_clean_files a.out a.out.dSYM a.exe b.out&quot;
 # Try to create an executable without -o first, disregard a.out.
 # It will help us diagnose broken compilers, and finding out an intuition
 # of exeext.
-echo &quot;$as_me:$LINENO: checking for C compiler default output file name&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for C compiler default output file name... $ECHO_C&quot; &gt;&amp;6
-ac_link_default=`echo &quot;$ac_link&quot; | sed 's/ -o *conftest[^ ]*//'`
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link_default\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link_default) 2&gt;&amp;5
+{ $as_echo &quot;$as_me:$LINENO: checking for C compiler default output file name&quot; &gt;&amp;5
+$as_echo_n &quot;checking for C compiler default output file name... &quot; &gt;&amp;6; }
+ac_link_default=`$as_echo &quot;$ac_link&quot; | sed 's/ -o *conftest[^ ]*//'`
+
+# The possible output files:
+ac_files=&quot;a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*&quot;
+
+ac_rmfiles=
+for ac_file in $ac_files
+do
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
+    * ) ac_rmfiles=&quot;$ac_rmfiles $ac_file&quot;;;
+  esac
+done
+rm -f $ac_rmfiles
+
+if { (ac_try=&quot;$ac_link_default&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link_default&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; then
-  # Find the output, starting from the most likely.  This scheme is
-# not robust to junk in `.', hence go to wildcards (a.*) only as a last
-# resort.
-
-# Be careful to initialize this variable, since it used to be cached.
-# Otherwise an old cache value of `no' led to `EXEEXT = no' in a Makefile.
-ac_cv_exeext=
-# b.out is created by i960 compilers.
-for ac_file in a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out
+  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
+# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
+# in a Makefile.  We should not override ac_cv_exeext if it was cached,
+# so that the user can short-circuit this test for compilers unknown to
+# Autoconf.
+for ac_file in $ac_files ''
 do
   test -f &quot;$ac_file&quot; || continue
   case $ac_file in
-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
 	;;
-    conftest.$ac_ext )
-	# This is the source file.
-	;;
     [ab].out )
 	# We found the default executable, but exeext='' is most
 	# certainly right.
 	break;;
     *.* )
-	ac_cv_exeext=`expr &quot;$ac_file&quot; : '[^.]*\(\..*\)'`
-	# FIXME: I believe we export ac_cv_exeext for Libtool,
-	# but it would be cool to find out if it's true.  Does anybody
-	# maintain Libtool? --akim.
-	export ac_cv_exeext
+        if test &quot;${ac_cv_exeext+set}&quot; = set &amp;&amp; test &quot;$ac_cv_exeext&quot; != no;
+	then :; else
+	   ac_cv_exeext=`expr &quot;$ac_file&quot; : '[^.]*\(\..*\)'`
+	fi
+	# We set ac_cv_exeext here because the later test for it is not
+	# safe: cross compilers may not add the suffix if given an `-o'
+	# argument, so we may need to know it at that point already.
+	# Even if this section looks crufty: it has the advantage of
+	# actually working.
 	break;;
     * )
 	break;;
   esac
 done
+test &quot;$ac_cv_exeext&quot; = no &amp;&amp; ac_cv_exeext=
+
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  ac_file=''
+fi
+
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_file&quot; &gt;&amp;5
+$as_echo &quot;$ac_file&quot; &gt;&amp;6; }
+if test -z &quot;$ac_file&quot;; then
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-{ { echo &quot;$as_me:$LINENO: error: C compiler cannot create executables
+{ { $as_echo &quot;$as_me:$LINENO: error: C compiler cannot create executables
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: C compiler cannot create executables
+$as_echo &quot;$as_me: error: C compiler cannot create executables
 See \`config.log' for more details.&quot; &gt;&amp;2;}
    { (exit 77); exit 77; }; }
 fi
 
 ac_exeext=$ac_cv_exeext
-echo &quot;$as_me:$LINENO: result: $ac_file&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_file&quot; &gt;&amp;6
 
-# Check the compiler produces executables we can run.  If not, either
+# Check that the compiler produces executables we can run.  If not, either
 # the compiler is broken, or we cross compile.
-echo &quot;$as_me:$LINENO: checking whether the C compiler works&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether the C compiler works... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether the C compiler works&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether the C compiler works... &quot; &gt;&amp;6; }
 # FIXME: These cross compiler hacks should be removed for Autoconf 3.0
 # If not cross compiling, check that we can run a simple program.
 if test &quot;$cross_compiling&quot; != yes; then
   if { ac_try='./$ac_file'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  { (case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
     cross_compiling=no
   else
     if test &quot;$cross_compiling&quot; = maybe; then
 	cross_compiling=yes
     else
-	{ { echo &quot;$as_me:$LINENO: error: cannot run C compiled programs.
+	{ { $as_echo &quot;$as_me:$LINENO: error: cannot run C compiled programs.
 If you meant to cross compile, use \`--host'.
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot run C compiled programs.
+$as_echo &quot;$as_me: error: cannot run C compiled programs.
 If you meant to cross compile, use \`--host'.
 See \`config.log' for more details.&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
     fi
   fi
 fi
-echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
-echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+$as_echo &quot;yes&quot; &gt;&amp;6; }
 
-rm -f a.out a.exe conftest$ac_cv_exeext b.out
+rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
 ac_clean_files=$ac_clean_files_save
-# Check the compiler produces executables we can run.  If not, either
+# Check that the compiler produces executables we can run.  If not, either
 # the compiler is broken, or we cross compile.
-echo &quot;$as_me:$LINENO: checking whether we are cross compiling&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether we are cross compiling... $ECHO_C&quot; &gt;&amp;6
-echo &quot;$as_me:$LINENO: result: $cross_compiling&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$cross_compiling&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether we are cross compiling&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether we are cross compiling... &quot; &gt;&amp;6; }
+{ $as_echo &quot;$as_me:$LINENO: result: $cross_compiling&quot; &gt;&amp;5
+$as_echo &quot;$cross_compiling&quot; &gt;&amp;6; }
 
-echo &quot;$as_me:$LINENO: checking for suffix of executables&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for suffix of executables... $ECHO_C&quot; &gt;&amp;6
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;&amp;5
+{ $as_echo &quot;$as_me:$LINENO: checking for suffix of executables&quot; &gt;&amp;5
+$as_echo_n &quot;checking for suffix of executables... &quot; &gt;&amp;6; }
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; then
   # If both `conftest.exe' and `conftest' are `present' (well, observable)
 # catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
@@ -1789,32 +2341,31 @@
 for ac_file in conftest.exe conftest conftest.*; do
   test -f &quot;$ac_file&quot; || continue
   case $ac_file in
-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
     *.* ) ac_cv_exeext=`expr &quot;$ac_file&quot; : '[^.]*\(\..*\)'`
-	  export ac_cv_exeext
 	  break;;
     * ) break;;
   esac
 done
 else
-  { { echo &quot;$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
+  { { $as_echo &quot;$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot compute suffix of executables: cannot compile and link
+$as_echo &quot;$as_me: error: cannot compute suffix of executables: cannot compile and link
 See \`config.log' for more details.&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
 rm -f conftest$ac_cv_exeext
-echo &quot;$as_me:$LINENO: result: $ac_cv_exeext&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_exeext&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_exeext&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_exeext&quot; &gt;&amp;6; }
 
 rm -f conftest.$ac_ext
 EXEEXT=$ac_cv_exeext
 ac_exeext=$EXEEXT
-echo &quot;$as_me:$LINENO: checking for suffix of object files&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for suffix of object files... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for suffix of object files&quot; &gt;&amp;5
+$as_echo_n &quot;checking for suffix of object files... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_objext+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -1832,39 +2383,46 @@
 }
 _ACEOF
 rm -f conftest.o conftest.obj
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;&amp;5
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2&gt;/dev/null`; do
+  for ac_file in conftest.o conftest.obj conftest.*; do
+  test -f &quot;$ac_file&quot; || continue;
   case $ac_file in
-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
     *) ac_cv_objext=`expr &quot;$ac_file&quot; : '.*\.\(.*\)'`
        break;;
   esac
 done
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-{ { echo &quot;$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
+{ { $as_echo &quot;$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot compute suffix of object files: cannot compile
+$as_echo &quot;$as_me: error: cannot compute suffix of object files: cannot compile
 See \`config.log' for more details.&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
 rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_objext&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_objext&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_objext&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_objext&quot; &gt;&amp;6; }
 OBJEXT=$ac_cv_objext
 ac_objext=$OBJEXT
-echo &quot;$as_me:$LINENO: checking whether we are using the GNU C compiler&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether we are using the GNU C compiler... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether we are using the GNU C compiler&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether we are using the GNU C compiler... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_c_compiler_gnu+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -1885,50 +2443,54 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_compiler_gnu=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_compiler_gnu=no
+	ac_compiler_gnu=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_cv_c_compiler_gnu=$ac_compiler_gnu
 
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_c_compiler_gnu&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_c_compiler_gnu&quot; &gt;&amp;6
-GCC=`test $ac_compiler_gnu = yes &amp;&amp; echo yes`
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_c_compiler_gnu&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_c_compiler_gnu&quot; &gt;&amp;6; }
+if test $ac_compiler_gnu = yes; then
+  GCC=yes
+else
+  GCC=
+fi
 ac_test_CFLAGS=${CFLAGS+set}
 ac_save_CFLAGS=$CFLAGS
-CFLAGS=&quot;-g&quot;
-echo &quot;$as_me:$LINENO: checking whether $CC accepts -g&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether $CC accepts -g... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether $CC accepts -g&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether $CC accepts -g... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_cc_g+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_save_c_werror_flag=$ac_c_werror_flag
+   ac_c_werror_flag=yes
+   ac_cv_prog_cc_g=no
+   CFLAGS=&quot;-g&quot;
+   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -1944,38 +2506,121 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  ac_cv_prog_cc_g=yes
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+	CFLAGS=&quot;&quot;
+      cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+	ac_c_werror_flag=$ac_save_c_werror_flag
+	 CFLAGS=&quot;-g&quot;
+	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_cv_prog_cc_g=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_prog_cc_g=no
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cc_g&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_prog_cc_g&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+   ac_c_werror_flag=$ac_save_c_werror_flag
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cc_g&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_prog_cc_g&quot; &gt;&amp;6; }
 if test &quot;$ac_test_CFLAGS&quot; = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
@@ -1991,12 +2636,12 @@
     CFLAGS=
   fi
 fi
-echo &quot;$as_me:$LINENO: checking for $CC option to accept ANSI C&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $CC option to accept ANSI C... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_prog_cc_stdc+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $CC option to accept ISO C89&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $CC option to accept ISO C89... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_prog_cc_c89+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  ac_cv_prog_cc_stdc=no
+  ac_cv_prog_cc_c89=no
 ac_save_CC=$CC
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -2030,12 +2675,17 @@
 /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
    function prototypes and stuff, but not '\xHH' hex character constants.
    These don't provoke an error unfortunately, instead are silently treated
-   as 'x'.  The following induces an error, until -std1 is added to get
+   as 'x'.  The following induces an error, until -std is added to get
    proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
    array size at least.  It's necessary to write '\x00'==0 to get something
-   that's true only with -std1.  */
+   that's true only with -std.  */
 int osf4_cc_array ['\x00' == 0 ? 1 : -1];
 
+/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
+   inside strings and character constants.  */
+#define FOO(x) 'x'
+int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];
+
 int test (int i, double x);
 struct s1 {int (*f) (int a);};
 struct s2 {int (*f) (double a);};
@@ -2050,205 +2700,58 @@
   return 0;
 }
 _ACEOF
-# Don't try gcc -ansi; that turns off useful extensions and
-# breaks some systems' header files.
-# AIX			-qlanglvl=ansi
-# Ultrix and OSF/1	-std1
-# HP-UX 10.20 and later	-Ae
-# HP-UX older versions	-Aa -D_HPUX_SOURCE
-# SVR4			-Xc -D__EXTENSIONS__
-for ac_arg in &quot;&quot; -qlanglvl=ansi -std1 -Ae &quot;-Aa -D_HPUX_SOURCE&quot; &quot;-Xc -D__EXTENSIONS__&quot;
+for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
+	-Ae &quot;-Aa -D_HPUX_SOURCE&quot; &quot;-Xc -D__EXTENSIONS__&quot;
 do
   CC=&quot;$ac_save_CC $ac_arg&quot;
   rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_prog_cc_stdc=$ac_arg
-break
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  ac_cv_prog_cc_c89=$ac_arg
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext
+
+rm -f core conftest.err conftest.$ac_objext
+  test &quot;x$ac_cv_prog_cc_c89&quot; != &quot;xno&quot; &amp;&amp; break
 done
-rm -f conftest.$ac_ext conftest.$ac_objext
+rm -f conftest.$ac_ext
 CC=$ac_save_CC
 
 fi
-
-case &quot;x$ac_cv_prog_cc_stdc&quot; in
-  x|xno)
-    echo &quot;$as_me:$LINENO: result: none needed&quot; &gt;&amp;5
-echo &quot;${ECHO_T}none needed&quot; &gt;&amp;6 ;;
+# AC_CACHE_VAL
+case &quot;x$ac_cv_prog_cc_c89&quot; in
+  x)
+    { $as_echo &quot;$as_me:$LINENO: result: none needed&quot; &gt;&amp;5
+$as_echo &quot;none needed&quot; &gt;&amp;6; } ;;
+  xno)
+    { $as_echo &quot;$as_me:$LINENO: result: unsupported&quot; &gt;&amp;5
+$as_echo &quot;unsupported&quot; &gt;&amp;6; } ;;
   *)
-    echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cc_stdc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_prog_cc_stdc&quot; &gt;&amp;6
-    CC=&quot;$CC $ac_cv_prog_cc_stdc&quot; ;;
+    CC=&quot;$CC $ac_cv_prog_cc_c89&quot;
+    { $as_echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cc_c89&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_prog_cc_c89&quot; &gt;&amp;6; } ;;
 esac
 
-# Some people use a C++ compiler to compile C.  Since we use `exit',
-# in C++ we need to declare it.  In case someone uses the same compiler
-# for both compiling C and C++ we need to have the C++ compiler decide
-# the declaration of exit, since it's the most demanding environment.
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-#ifndef __cplusplus
-  choke me
-#endif
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  for ac_declaration in \
-   '' \
-   'extern &quot;C&quot; void std::exit (int) throw (); using std::exit;' \
-   'extern &quot;C&quot; void std::exit (int); using std::exit;' \
-   'extern &quot;C&quot; void exit (int) throw ();' \
-   'extern &quot;C&quot; void exit (int);' \
-   'void exit (int);'
-do
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_declaration
-#include &lt;stdlib.h&gt;
-int
-main ()
-{
-exit (42);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  :
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-continue
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_declaration
-int
-main ()
-{
-exit (42);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  break
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-done
-rm -f conftest*
-if test -n &quot;$ac_declaration&quot;; then
-  echo '#ifdef __cplusplus' &gt;&gt;confdefs.h
-  echo $ac_declaration      &gt;&gt;confdefs.h
-  echo '#endif'             &gt;&gt;confdefs.h
-fi
-
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
@@ -2266,14 +2769,14 @@
 ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
 ac_compiler_gnu=$ac_cv_f77_compiler_gnu
 if test -n &quot;$ac_tool_prefix&quot;; then
-  for ac_prog in g77 f77 xlf frt pgf77 fort77 fl32 af77 f90 xlf90 pgf90 epcf90 f95 fort xlf95 ifc efc pgf95 lf95 gfortran
+  for ac_prog in g77 xlf f77 frt pgf77 cf77 fort77 fl32 af77 xlf90 f90 pgf90 pghpf epcf90 gfortran g95 xlf95 f95 fort ifort ifc efc pgf95 lf95 ftn
   do
     # Extract the first word of &quot;$ac_tool_prefix$ac_prog&quot;, so it can be a program name with args.
 set dummy $ac_tool_prefix$ac_prog; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_F77+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$F77&quot;; then
   ac_cv_prog_F77=&quot;$F77&quot; # Let the user override the test.
@@ -2284,38 +2787,40 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_F77=&quot;$ac_tool_prefix$ac_prog&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 F77=$ac_cv_prog_F77
 if test -n &quot;$F77&quot;; then
-  echo &quot;$as_me:$LINENO: result: $F77&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$F77&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $F77&quot; &gt;&amp;5
+$as_echo &quot;$F77&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
     test -n &quot;$F77&quot; &amp;&amp; break
   done
 fi
 if test -z &quot;$F77&quot;; then
   ac_ct_F77=$F77
-  for ac_prog in g77 f77 xlf frt pgf77 fort77 fl32 af77 f90 xlf90 pgf90 epcf90 f95 fort xlf95 ifc efc pgf95 lf95 gfortran
+  for ac_prog in g77 xlf f77 frt pgf77 cf77 fort77 fl32 af77 xlf90 f90 pgf90 pghpf epcf90 gfortran g95 xlf95 f95 fort ifort ifc efc pgf95 lf95 ftn
 do
   # Extract the first word of &quot;$ac_prog&quot;, so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_ac_ct_F77+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   if test -n &quot;$ac_ct_F77&quot;; then
   ac_cv_prog_ac_ct_F77=&quot;$ac_ct_F77&quot; # Let the user override the test.
@@ -2326,50 +2831,84 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_prog_ac_ct_F77=&quot;$ac_prog&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 ac_ct_F77=$ac_cv_prog_ac_ct_F77
 if test -n &quot;$ac_ct_F77&quot;; then
-  echo &quot;$as_me:$LINENO: result: $ac_ct_F77&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_ct_F77&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $ac_ct_F77&quot; &gt;&amp;5
+$as_echo &quot;$ac_ct_F77&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
   test -n &quot;$ac_ct_F77&quot; &amp;&amp; break
 done
 
-  F77=$ac_ct_F77
+  if test &quot;x$ac_ct_F77&quot; = x; then
+    F77=&quot;&quot;
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ $as_echo &quot;$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">autoconf at gnu.org.</A>&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to <A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">autoconf at gnu.org.</A>&quot; &gt;&amp;2;}
+ac_tool_warned=yes ;;
+esac
+    F77=$ac_ct_F77
+  fi
 fi
 
 
 # Provide some information about the compiler.
-echo &quot;$as_me:2356:&quot; \
-     &quot;checking for Fortran 77 compiler version&quot; &gt;&amp;5
-ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler --version &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compiler --version &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+$as_echo &quot;$as_me:$LINENO: checking for Fortran 77 compiler version&quot; &gt;&amp;5
+set X $ac_compile
+ac_compiler=$2
+{ (ac_try=&quot;$ac_compiler --version &gt;&amp;5&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compiler --version &gt;&amp;5&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }
-{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -v &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compiler -v &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+{ (ac_try=&quot;$ac_compiler -v &gt;&amp;5&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compiler -v &gt;&amp;5&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }
-{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -V &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compiler -V &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+{ (ac_try=&quot;$ac_compiler -V &gt;&amp;5&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compiler -V &gt;&amp;5&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }
 rm -f a.out
 
@@ -2377,10 +2916,10 @@
 # input file.  (Note that this only needs to work for GNU compilers.)
 ac_save_ext=$ac_ext
 ac_ext=F
-echo &quot;$as_me:$LINENO: checking whether we are using the GNU Fortran 77 compiler&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether we are using the GNU Fortran 77 compiler... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether we are using the GNU Fortran 77 compiler&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether we are using the GNU Fortran 77 compiler... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_f77_compiler_gnu+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
       program main
@@ -2391,48 +2930,45 @@
       end
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_f77_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_f77_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_compiler_gnu=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_compiler_gnu=no
+	ac_compiler_gnu=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_cv_f77_compiler_gnu=$ac_compiler_gnu
 
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_f77_compiler_gnu&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_f77_compiler_gnu&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_f77_compiler_gnu&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_f77_compiler_gnu&quot; &gt;&amp;6; }
 ac_ext=$ac_save_ext
 ac_test_FFLAGS=${FFLAGS+set}
 ac_save_FFLAGS=$FFLAGS
 FFLAGS=
-echo &quot;$as_me:$LINENO: checking whether $F77 accepts -g&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether $F77 accepts -g... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether $F77 accepts -g&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether $F77 accepts -g... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_f77_g+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   FFLAGS=-g
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -2441,39 +2977,36 @@
       end
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_f77_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_f77_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_cv_prog_f77_g=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_prog_f77_g=no
+	ac_cv_prog_f77_g=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_prog_f77_g&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_prog_f77_g&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_prog_f77_g&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_prog_f77_g&quot; &gt;&amp;6; }
 if test &quot;$ac_test_FFLAGS&quot; = set; then
   FFLAGS=$ac_save_FFLAGS
 elif test $ac_cv_prog_f77_g = yes; then
@@ -2490,7 +3023,11 @@
   fi
 fi
 
-G77=`test $ac_compiler_gnu = yes &amp;&amp; echo yes`
+if test $ac_compiler_gnu = yes; then
+  G77=yes
+else
+  G77=
+fi
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
@@ -2500,21 +3037,21 @@
 
 CFLAGS=&quot;$OLD_CFLAGS&quot;
 
-CPPFLAGS=&quot;-Iportaudio-v19/include -I/usr/local/include -I/usr/include/alsa -I/usr/local/include/alsa ${CPPFLAGS}&quot;
+CPPFLAGS=&quot;-I/usr/local/include ${CPPFLAGS}&quot;
 LDFLAGS=&quot;-L/usr/local/lib ${LDFLAGS}&quot;
-LIBS=&quot; -lpthread -lportaudio ${LIBS}&quot;
+LIBS=&quot; -lpthread ${LIBS}&quot;
 
-echo &quot;$as_me:$LINENO: checking uname -s for Cygwin, Solaris or HPUX&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking uname -s for Cygwin, Solaris or HPUX... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking uname -s for Cygwin, Solaris or HPUX&quot; &gt;&amp;5
+$as_echo_n &quot;checking uname -s for Cygwin, Solaris or HPUX... &quot; &gt;&amp;6; }
 case `uname -s` in
 	CYGWIN*)
-		echo &quot;$as_me:$LINENO: result: Cygwin&quot; &gt;&amp;5
-echo &quot;${ECHO_T}Cygwin&quot; &gt;&amp;6
+		{ $as_echo &quot;$as_me:$LINENO: result: Cygwin&quot; &gt;&amp;5
+$as_echo &quot;Cygwin&quot; &gt;&amp;6; }
 		CYGWIN=yes
 	;;
 	SunOS*)
-		echo &quot;$as_me:$LINENO: result: SunOS or Solaris&quot; &gt;&amp;5
-echo &quot;${ECHO_T}SunOS or Solaris&quot; &gt;&amp;6
+		{ $as_echo &quot;$as_me:$LINENO: result: SunOS or Solaris&quot; &gt;&amp;5
+$as_echo &quot;SunOS or Solaris&quot; &gt;&amp;6; }
 
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define __EXTENSIONS__ 1
@@ -2522,14 +3059,14 @@
 
 	;;
 	*)
-		echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+		{ $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 	;;
 esac
 
 if test &quot;$ac_cv_c_compiler_gnu&quot; = yes; then
-	echo &quot;$as_me:$LINENO: checking if $CC is Apple GCC&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking if $CC is Apple GCC... $ECHO_C&quot; &gt;&amp;6
+	{ $as_echo &quot;$as_me:$LINENO: checking if $CC is Apple GCC&quot; &gt;&amp;5
+$as_echo_n &quot;checking if $CC is Apple GCC... &quot; &gt;&amp;6; }
 
 	if expr &quot;`$CC -v 2&gt;&amp;1 | tail -1`&quot; : &quot;.*Apple&quot; &gt;/dev/null; then
 		AppleGCC=yes
@@ -2537,8 +3074,8 @@
 		AppleGCC=no
 	fi
 
-	echo &quot;$as_me:$LINENO: result: $AppleGCC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$AppleGCC&quot; &gt;&amp;6
+	{ $as_echo &quot;$as_me:$LINENO: result: $AppleGCC&quot; &gt;&amp;5
+$as_echo &quot;$AppleGCC&quot; &gt;&amp;6; }
 
 	CFLAGS=&quot;$CFLAGS -Wall -O0&quot;
 fi
@@ -2553,13 +3090,12 @@
 
 
 
-echo &quot;$as_me:$LINENO: checking for library containing strerror&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for library containing strerror... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for library containing strerror&quot; &gt;&amp;5
+$as_echo_n &quot;checking for library containing strerror... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_search_strerror+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_func_search_save_LIBS=$LIBS
-ac_cv_search_strerror=no
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -2567,122 +3103,84 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern &quot;C&quot;
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char strerror ();
 int
 main ()
 {
-strerror ();
+return strerror ();
   ;
   return 0;
 }
 _ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;conftest.er1
+for ac_lib in '' cposix; do
+  if test -z &quot;$ac_lib&quot;; then
+    ac_res=&quot;none required&quot;
+  else
+    ac_res=-l$ac_lib
+    LIBS=&quot;-l$ac_lib  $ac_func_search_save_LIBS&quot;
+  fi
+  rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_search_strerror=&quot;none required&quot;
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
+  ac_cv_search_strerror=$ac_res
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test &quot;$ac_cv_search_strerror&quot; = no; then
-  for ac_lib in cposix; do
-    LIBS=&quot;-l$ac_lib  $ac_func_search_save_LIBS&quot;
-    cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern &quot;C&quot;
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char strerror ();
-int
-main ()
-{
-strerror ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_search_strerror=&quot;-l$ac_lib&quot;
-break
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext
+  if test &quot;${ac_cv_search_strerror+set}&quot; = set; then
+  break
+fi
+done
+if test &quot;${ac_cv_search_strerror+set}&quot; = set; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
+  ac_cv_search_strerror=no
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-  done
-fi
+rm conftest.$ac_ext
 LIBS=$ac_func_search_save_LIBS
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_search_strerror&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_search_strerror&quot; &gt;&amp;6
-if test &quot;$ac_cv_search_strerror&quot; != no; then
-  test &quot;$ac_cv_search_strerror&quot; = &quot;none required&quot; || LIBS=&quot;$ac_cv_search_strerror $LIBS&quot;
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_search_strerror&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_search_strerror&quot; &gt;&amp;6; }
+ac_res=$ac_cv_search_strerror
+if test &quot;$ac_res&quot; != no; then
+  test &quot;$ac_res&quot; = &quot;none required&quot; || LIBS=&quot;$ac_res $LIBS&quot;
 
 fi
 
-echo &quot;$as_me:$LINENO: checking for inline&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for inline... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for inline&quot; &gt;&amp;5
+$as_echo_n &quot;checking for inline... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_c_inline+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_cv_c_inline=no
 for ac_kw in inline __inline__ __inline; do
@@ -2700,39 +3198,38 @@
 
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_c_inline=$ac_kw; break
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  ac_cv_c_inline=$ac_kw
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+  test &quot;$ac_cv_c_inline&quot; != no &amp;&amp; break
 done
 
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_c_inline&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_c_inline&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_c_inline&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_c_inline&quot; &gt;&amp;6; }
 
 
 case $ac_cv_c_inline in
@@ -2755,15 +3252,15 @@
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
-echo &quot;$as_me:$LINENO: checking how to run the C preprocessor&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking how to run the C preprocessor... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking how to run the C preprocessor&quot; &gt;&amp;5
+$as_echo_n &quot;checking how to run the C preprocessor... &quot; &gt;&amp;6; }
 # On Suns, sometimes $CPP names a directory.
 if test -n &quot;$CPP&quot; &amp;&amp; test -d &quot;$CPP&quot;; then
   CPP=
 fi
 if test -z &quot;$CPP&quot;; then
   if test &quot;${ac_cv_prog_CPP+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
       # Double quotes because CPP needs to be expanded
     for CPP in &quot;$CC -E&quot; &quot;$CC -E -traditional-cpp&quot; &quot;/lib/cpp&quot;
@@ -2790,35 +3287,35 @@
 #endif
 		     Syntax error
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   # Broken: fails on valid input.
 continue
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
-  # OK, works on sane cases.  Now check whether non-existent headers
+  # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -2828,34 +3325,34 @@
 /* end confdefs.h.  */
 #include &lt;ac_nonexistent.h&gt;
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   # Broken: success on invalid input.
 continue
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   # Passes both tests.
 ac_preproc_ok=:
 break
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
 done
@@ -2873,8 +3370,8 @@
 else
   ac_cv_prog_CPP=$CPP
 fi
-echo &quot;$as_me:$LINENO: result: $CPP&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$CPP&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $CPP&quot; &gt;&amp;5
+$as_echo &quot;$CPP&quot; &gt;&amp;6; }
 ac_preproc_ok=false
 for ac_c_preproc_warn_flag in '' yes
 do
@@ -2897,35 +3394,35 @@
 #endif
 		     Syntax error
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   # Broken: fails on valid input.
 continue
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
-  # OK, works on sane cases.  Now check whether non-existent headers
+  # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -2935,34 +3432,34 @@
 /* end confdefs.h.  */
 #include &lt;ac_nonexistent.h&gt;
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   # Broken: success on invalid input.
 continue
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   # Passes both tests.
 ac_preproc_ok=:
 break
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
 done
@@ -2971,9 +3468,9 @@
 if $ac_preproc_ok; then
   :
 else
-  { { echo &quot;$as_me:$LINENO: error: C preprocessor \&quot;$CPP\&quot; fails sanity check
+  { { $as_echo &quot;$as_me:$LINENO: error: C preprocessor \&quot;$CPP\&quot; fails sanity check
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: C preprocessor \&quot;$CPP\&quot; fails sanity check
+$as_echo &quot;$as_me: error: C preprocessor \&quot;$CPP\&quot; fails sanity check
 See \`config.log' for more details.&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
@@ -2985,26 +3482,145 @@
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
-echo &quot;$as_me:$LINENO: checking for egrep&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for egrep... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_prog_egrep+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for grep that handles long lines and -e&quot; &gt;&amp;5
+$as_echo_n &quot;checking for grep that handles long lines and -e... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_path_GREP+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  if echo a | (grep -E '(a|b)') &gt;/dev/null 2&gt;&amp;1
-    then ac_cv_prog_egrep='grep -E'
-    else ac_cv_prog_egrep='egrep'
+  if test -z &quot;$GREP&quot;; then
+  ac_path_GREP_found=false
+  # Loop through the user's path and test for each of PROGNAME-LIST
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_prog in grep ggrep; do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      ac_path_GREP=&quot;$as_dir/$ac_prog$ac_exec_ext&quot;
+      { test -f &quot;$ac_path_GREP&quot; &amp;&amp; $as_test_x &quot;$ac_path_GREP&quot;; } || continue
+# Check for GNU ac_path_GREP and select it if it is found.
+  # Check for GNU $ac_path_GREP
+case `&quot;$ac_path_GREP&quot; --version 2&gt;&amp;1` in
+*GNU*)
+  ac_cv_path_GREP=&quot;$ac_path_GREP&quot; ac_path_GREP_found=:;;
+*)
+  ac_count=0
+  $as_echo_n 0123456789 &gt;&quot;conftest.in&quot;
+  while :
+  do
+    cat &quot;conftest.in&quot; &quot;conftest.in&quot; &gt;&quot;conftest.tmp&quot;
+    mv &quot;conftest.tmp&quot; &quot;conftest.in&quot;
+    cp &quot;conftest.in&quot; &quot;conftest.nl&quot;
+    $as_echo 'GREP' &gt;&gt; &quot;conftest.nl&quot;
+    &quot;$ac_path_GREP&quot; -e 'GREP$' -e '-(cannot match)-' &lt; &quot;conftest.nl&quot; &gt;&quot;conftest.out&quot; 2&gt;/dev/null || break
+    diff &quot;conftest.out&quot; &quot;conftest.nl&quot; &gt;/dev/null 2&gt;&amp;1 || break
+    ac_count=`expr $ac_count + 1`
+    if test $ac_count -gt ${ac_path_GREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_GREP=&quot;$ac_path_GREP&quot;
+      ac_path_GREP_max=$ac_count
     fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 &amp;&amp; break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+      $ac_path_GREP_found &amp;&amp; break 3
+    done
+  done
+done
+IFS=$as_save_IFS
+  if test -z &quot;$ac_cv_path_GREP&quot;; then
+    { { $as_echo &quot;$as_me:$LINENO: error: no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+  fi
+else
+  ac_cv_path_GREP=$GREP
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_prog_egrep&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_prog_egrep&quot; &gt;&amp;6
- EGREP=$ac_cv_prog_egrep
 
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_path_GREP&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_path_GREP&quot; &gt;&amp;6; }
+ GREP=&quot;$ac_cv_path_GREP&quot;
 
+
+{ $as_echo &quot;$as_me:$LINENO: checking for egrep&quot; &gt;&amp;5
+$as_echo_n &quot;checking for egrep... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_path_EGREP+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  if echo a | $GREP -E '(a|b)' &gt;/dev/null 2&gt;&amp;1
+   then ac_cv_path_EGREP=&quot;$GREP -E&quot;
+   else
+     if test -z &quot;$EGREP&quot;; then
+  ac_path_EGREP_found=false
+  # Loop through the user's path and test for each of PROGNAME-LIST
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_prog in egrep; do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      ac_path_EGREP=&quot;$as_dir/$ac_prog$ac_exec_ext&quot;
+      { test -f &quot;$ac_path_EGREP&quot; &amp;&amp; $as_test_x &quot;$ac_path_EGREP&quot;; } || continue
+# Check for GNU ac_path_EGREP and select it if it is found.
+  # Check for GNU $ac_path_EGREP
+case `&quot;$ac_path_EGREP&quot; --version 2&gt;&amp;1` in
+*GNU*)
+  ac_cv_path_EGREP=&quot;$ac_path_EGREP&quot; ac_path_EGREP_found=:;;
+*)
+  ac_count=0
+  $as_echo_n 0123456789 &gt;&quot;conftest.in&quot;
+  while :
+  do
+    cat &quot;conftest.in&quot; &quot;conftest.in&quot; &gt;&quot;conftest.tmp&quot;
+    mv &quot;conftest.tmp&quot; &quot;conftest.in&quot;
+    cp &quot;conftest.in&quot; &quot;conftest.nl&quot;
+    $as_echo 'EGREP' &gt;&gt; &quot;conftest.nl&quot;
+    &quot;$ac_path_EGREP&quot; 'EGREP$' &lt; &quot;conftest.nl&quot; &gt;&quot;conftest.out&quot; 2&gt;/dev/null || break
+    diff &quot;conftest.out&quot; &quot;conftest.nl&quot; &gt;/dev/null 2&gt;&amp;1 || break
+    ac_count=`expr $ac_count + 1`
+    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_EGREP=&quot;$ac_path_EGREP&quot;
+      ac_path_EGREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 &amp;&amp; break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+      $ac_path_EGREP_found &amp;&amp; break 3
+    done
+  done
+done
+IFS=$as_save_IFS
+  if test -z &quot;$ac_cv_path_EGREP&quot;; then
+    { { $as_echo &quot;$as_me:$LINENO: error: no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+  fi
+else
+  ac_cv_path_EGREP=$EGREP
+fi
+
+   fi
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_path_EGREP&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_path_EGREP&quot; &gt;&amp;6; }
+ EGREP=&quot;$ac_cv_path_EGREP&quot;
+
+
 if test $ac_cv_c_compiler_gnu = yes; then
-    echo &quot;$as_me:$LINENO: checking whether $CC needs -traditional&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether $CC needs -traditional... $ECHO_C&quot; &gt;&amp;6
+    { $as_echo &quot;$as_me:$LINENO: checking whether $CC needs -traditional&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether $CC needs -traditional... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_prog_gcc_traditional+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
     ac_pattern=&quot;Autoconf.*'x'&quot;
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -3043,67 +3659,75 @@
 
   fi
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_prog_gcc_traditional&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_prog_gcc_traditional&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_prog_gcc_traditional&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_prog_gcc_traditional&quot; &gt;&amp;6; }
   if test $ac_cv_prog_gcc_traditional = yes; then
     CC=&quot;$CC -traditional&quot;
   fi
 fi
 
-echo &quot;$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C&quot; &gt;&amp;6
-set dummy ${MAKE-make}; ac_make=`echo &quot;$2&quot; | sed 'y,:./+-,___p_,'`
-if eval &quot;test \&quot;\${ac_cv_prog_make_${ac_make}_set+set}\&quot; = set&quot;; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether ${MAKE-make} sets \$(MAKE)... &quot; &gt;&amp;6; }
+set x ${MAKE-make}
+ac_make=`$as_echo &quot;$2&quot; | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
+if { as_var=ac_cv_prog_make_${ac_make}_set; eval &quot;test \&quot;\${$as_var+set}\&quot; = set&quot;; }; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.make &lt;&lt;\_ACEOF
+SHELL = /bin/sh
 all:
-	@echo 'ac_maketemp=&quot;$(MAKE)&quot;'
+	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
 # GNU make sometimes prints &quot;make[1]: Entering...&quot;, which would confuse us.
-eval `${MAKE-make} -f conftest.make 2&gt;/dev/null | grep temp=`
-if test -n &quot;$ac_maketemp&quot;; then
-  eval ac_cv_prog_make_${ac_make}_set=yes
-else
-  eval ac_cv_prog_make_${ac_make}_set=no
-fi
+case `${MAKE-make} -f conftest.make 2&gt;/dev/null` in
+  *@@@%%%=?*=@@@%%%*)
+    eval ac_cv_prog_make_${ac_make}_set=yes;;
+  *)
+    eval ac_cv_prog_make_${ac_make}_set=no;;
+esac
 rm -f conftest.make
 fi
-if eval &quot;test \&quot;`echo '$ac_cv_prog_make_'${ac_make}_set`\&quot; = yes&quot;; then
-  echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
-echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
+  { $as_echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+$as_echo &quot;yes&quot; &gt;&amp;6; }
   SET_MAKE=
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
   SET_MAKE=&quot;MAKE=${MAKE-make}&quot;
 fi
 
 ac_aux_dir=
-for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
-  if test -f $ac_dir/install-sh; then
+for ac_dir in &quot;$srcdir&quot; &quot;$srcdir/..&quot; &quot;$srcdir/../..&quot;; do
+  if test -f &quot;$ac_dir/install-sh&quot;; then
     ac_aux_dir=$ac_dir
     ac_install_sh=&quot;$ac_aux_dir/install-sh -c&quot;
     break
-  elif test -f $ac_dir/install.sh; then
+  elif test -f &quot;$ac_dir/install.sh&quot;; then
     ac_aux_dir=$ac_dir
     ac_install_sh=&quot;$ac_aux_dir/install.sh -c&quot;
     break
-  elif test -f $ac_dir/shtool; then
+  elif test -f &quot;$ac_dir/shtool&quot;; then
     ac_aux_dir=$ac_dir
     ac_install_sh=&quot;$ac_aux_dir/shtool install -c&quot;
     break
   fi
 done
 if test -z &quot;$ac_aux_dir&quot;; then
-  { { echo &quot;$as_me:$LINENO: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..&quot; &gt;&amp;2;}
+  { { $as_echo &quot;$as_me:$LINENO: error: cannot find install-sh or install.sh in \&quot;$srcdir\&quot; \&quot;$srcdir/..\&quot; \&quot;$srcdir/../..\&quot;&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: cannot find install-sh or install.sh in \&quot;$srcdir\&quot; \&quot;$srcdir/..\&quot; \&quot;$srcdir/../..\&quot;&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
-ac_config_guess=&quot;$SHELL $ac_aux_dir/config.guess&quot;
-ac_config_sub=&quot;$SHELL $ac_aux_dir/config.sub&quot;
-ac_configure=&quot;$SHELL $ac_aux_dir/configure&quot; # This should be Cygnus configure.
 
+# These three variables are undocumented and unsupported,
+# and are intended to be withdrawn in a future Autoconf release.
+# They can cause serious problems if a builder's source tree is in a directory
+# whose full name contains unusual characters.
+ac_config_guess=&quot;$SHELL $ac_aux_dir/config.guess&quot;  # Please don't use this var.
+ac_config_sub=&quot;$SHELL $ac_aux_dir/config.sub&quot;  # Please don't use this var.
+ac_configure=&quot;$SHELL $ac_aux_dir/configure&quot;  # Please don't use this var.
+
+
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
@@ -3117,11 +3741,12 @@
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group &quot;staff&quot;
 # OS/2's system install, which has a completely different semantic
 # ./install, which can be erroneously created by make from ./install.sh.
-echo &quot;$as_me:$LINENO: checking for a BSD-compatible install&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for a BSD-compatible install... $ECHO_C&quot; &gt;&amp;6
+# Reject install programs that cannot install multiple files.
+{ $as_echo &quot;$as_me:$LINENO: checking for a BSD-compatible install&quot; &gt;&amp;5
+$as_echo_n &quot;checking for a BSD-compatible install... &quot; &gt;&amp;6; }
 if test -z &quot;$INSTALL&quot;; then
 if test &quot;${ac_cv_path_install+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH
@@ -3140,7 +3765,7 @@
     # by default.
     for ac_prog in ginstall scoinst install; do
       for ac_exec_ext in '' $ac_executable_extensions; do
-	if $as_executable_p &quot;$as_dir/$ac_prog$ac_exec_ext&quot;; then
+	if { test -f &quot;$as_dir/$ac_prog$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_prog$ac_exec_ext&quot;; }; then
 	  if test $ac_prog = install &amp;&amp;
 	    grep dspmsg &quot;$as_dir/$ac_prog$ac_exec_ext&quot; &gt;/dev/null 2&gt;&amp;1; then
 	    # AIX install.  It has an incompatible calling convention.
@@ -3150,30 +3775,43 @@
 	    # program-specific install script used by HP pwplus--don't use.
 	    :
 	  else
-	    ac_cv_path_install=&quot;$as_dir/$ac_prog$ac_exec_ext -c&quot;
-	    break 3
+	    rm -rf conftest.one conftest.two conftest.dir
+	    echo one &gt; conftest.one
+	    echo two &gt; conftest.two
+	    mkdir conftest.dir
+	    if &quot;$as_dir/$ac_prog$ac_exec_ext&quot; -c conftest.one conftest.two &quot;`pwd`/conftest.dir&quot; &amp;&amp;
+	      test -s conftest.one &amp;&amp; test -s conftest.two &amp;&amp;
+	      test -s conftest.dir/conftest.one &amp;&amp;
+	      test -s conftest.dir/conftest.two
+	    then
+	      ac_cv_path_install=&quot;$as_dir/$ac_prog$ac_exec_ext -c&quot;
+	      break 3
+	    fi
 	  fi
 	fi
       done
     done
     ;;
 esac
+
 done
+IFS=$as_save_IFS
 
+rm -rf conftest.one conftest.two conftest.dir
 
 fi
   if test &quot;${ac_cv_path_install+set}&quot; = set; then
     INSTALL=$ac_cv_path_install
   else
-    # As a last resort, use the slow shell script.  We don't cache a
-    # path for INSTALL within a source directory, because that will
+    # As a last resort, use the slow shell script.  Don't cache a
+    # value for INSTALL within a source directory, because that will
     # break other packages using the cache if that directory is
-    # removed, or if the path is relative.
+    # removed, or if the value is a relative name.
     INSTALL=$ac_install_sh
   fi
 fi
-echo &quot;$as_me:$LINENO: result: $INSTALL&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$INSTALL&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $INSTALL&quot; &gt;&amp;5
+$as_echo &quot;$INSTALL&quot; &gt;&amp;6; }
 
 # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
 # It thinks the first close brace ends the variable substitution.
@@ -3185,10 +3823,10 @@
 
 # Extract the first word of &quot;rm&quot;, so it can be a program name with args.
 set dummy rm; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_RM+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $RM in
   [\\/]* | ?:[\\/]*)
@@ -3201,33 +3839,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_RM=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 RM=$ac_cv_path_RM
-
 if test -n &quot;$RM&quot;; then
-  echo &quot;$as_me:$LINENO: result: $RM&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$RM&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $RM&quot; &gt;&amp;5
+$as_echo &quot;$RM&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;cp&quot;, so it can be a program name with args.
 set dummy cp; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_CP+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $CP in
   [\\/]* | ?:[\\/]*)
@@ -3240,33 +3879,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_CP=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 CP=$ac_cv_path_CP
-
 if test -n &quot;$CP&quot;; then
-  echo &quot;$as_me:$LINENO: result: $CP&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$CP&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $CP&quot; &gt;&amp;5
+$as_echo &quot;$CP&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;mv&quot;, so it can be a program name with args.
 set dummy mv; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_MV+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $MV in
   [\\/]* | ?:[\\/]*)
@@ -3279,33 +3919,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_MV=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 MV=$ac_cv_path_MV
-
 if test -n &quot;$MV&quot;; then
-  echo &quot;$as_me:$LINENO: result: $MV&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$MV&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $MV&quot; &gt;&amp;5
+$as_echo &quot;$MV&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;ln&quot;, so it can be a program name with args.
 set dummy ln; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_LN+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $LN in
   [\\/]* | ?:[\\/]*)
@@ -3318,33 +3959,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_LN=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 LN=$ac_cv_path_LN
-
 if test -n &quot;$LN&quot;; then
-  echo &quot;$as_me:$LINENO: result: $LN&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$LN&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $LN&quot; &gt;&amp;5
+$as_echo &quot;$LN&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;sed&quot;, so it can be a program name with args.
 set dummy sed; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_SED+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $SED in
   [\\/]* | ?:[\\/]*)
@@ -3357,33 +3999,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_SED=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 SED=$ac_cv_path_SED
-
 if test -n &quot;$SED&quot;; then
-  echo &quot;$as_me:$LINENO: result: $SED&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$SED&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $SED&quot; &gt;&amp;5
+$as_echo &quot;$SED&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;ar&quot;, so it can be a program name with args.
 set dummy ar; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_AR+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $AR in
   [\\/]* | ?:[\\/]*)
@@ -3396,33 +4039,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_AR=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 AR=$ac_cv_path_AR
-
 if test -n &quot;$AR&quot;; then
-  echo &quot;$as_me:$LINENO: result: $AR&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$AR&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $AR&quot; &gt;&amp;5
+$as_echo &quot;$AR&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;ld&quot;, so it can be a program name with args.
 set dummy ld; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_LD+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $LD in
   [\\/]* | ?:[\\/]*)
@@ -3435,33 +4079,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_LD=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 LD=$ac_cv_path_LD
-
 if test -n &quot;$LD&quot;; then
-  echo &quot;$as_me:$LINENO: result: $LD&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$LD&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $LD&quot; &gt;&amp;5
+$as_echo &quot;$LD&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;test&quot;, so it can be a program name with args.
 set dummy test; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_TEST+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $TEST in
   [\\/]* | ?:[\\/]*)
@@ -3474,34 +4119,35 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_TEST=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   test -z &quot;$ac_cv_path_TEST&quot; &amp;&amp; ac_cv_path_TEST=&quot;test&quot;
   ;;
 esac
 fi
 TEST=$ac_cv_path_TEST
-
 if test -n &quot;$TEST&quot;; then
-  echo &quot;$as_me:$LINENO: result: $TEST&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$TEST&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $TEST&quot; &gt;&amp;5
+$as_echo &quot;$TEST&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;python&quot;, so it can be a program name with args.
 set dummy python; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_PYTHON+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $PYTHON in
   [\\/]* | ?:[\\/]*)
@@ -3514,33 +4160,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_PYTHON=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 PYTHON=$ac_cv_path_PYTHON
-
 if test -n &quot;$PYTHON&quot;; then
-  echo &quot;$as_me:$LINENO: result: $PYTHON&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$PYTHON&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $PYTHON&quot; &gt;&amp;5
+$as_echo &quot;$PYTHON&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;f2py&quot;, so it can be a program name with args.
 set dummy f2py; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_F2PY+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $F2PY in
   [\\/]* | ?:[\\/]*)
@@ -3553,33 +4200,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_F2PY=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 F2PY=$ac_cv_path_F2PY
-
 if test -n &quot;$F2PY&quot;; then
-  echo &quot;$as_me:$LINENO: result: $F2PY&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$F2PY&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $F2PY&quot; &gt;&amp;5
+$as_echo &quot;$F2PY&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
+
 # Extract the first word of &quot;g95&quot;, so it can be a program name with args.
 set dummy g95; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_G95+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $G95 in
   [\\/]* | ?:[\\/]*)
@@ -3592,38 +4240,39 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_G95=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 G95=$ac_cv_path_G95
-
 if test -n &quot;$G95&quot;; then
-  echo &quot;$as_me:$LINENO: result: $G95&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$G95&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $G95&quot; &gt;&amp;5
+$as_echo &quot;$G95&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
-echo &quot;$as_me:$LINENO: checking g95 lib path&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking g95 lib path... $ECHO_C&quot; &gt;&amp;6
+
+{ $as_echo &quot;$as_me:$LINENO: checking g95 lib path&quot; &gt;&amp;5
+$as_echo_n &quot;checking g95 lib path... &quot; &gt;&amp;6; }
 G95_LIB_PATH=`${G95} -print-file-name=`
-echo &quot;$as_me:$LINENO: result: ${G95_LIB_PATH}&quot; &gt;&amp;5
-echo &quot;${ECHO_T}${G95_LIB_PATH}&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: ${G95_LIB_PATH}&quot; &gt;&amp;5
+$as_echo &quot;${G95_LIB_PATH}&quot; &gt;&amp;6; }
 # Extract the first word of &quot;gfortran&quot;, so it can be a program name with args.
 set dummy gfortran; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_GFORTRAN+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $GFORTRAN in
   [\\/]* | ?:[\\/]*)
@@ -3636,33 +4285,34 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_GFORTRAN=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 GFORTRAN=$ac_cv_path_GFORTRAN
-
 if test -n &quot;$GFORTRAN&quot;; then
-  echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$GFORTRAN&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
+$as_echo &quot;$GFORTRAN&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
-# Extract the first word of &quot;gfortran41&quot;, so it can be a program name with args.
-set dummy gfortran41; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+
+# Extract the first word of &quot;gfortran43&quot;, so it can be a program name with args.
+set dummy gfortran43; ac_word=$2
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_GFORTRAN+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   case $GFORTRAN in
   [\\/]* | ?:[\\/]*)
@@ -3675,43 +4325,44 @@
   IFS=$as_save_IFS
   test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
     ac_cv_path_GFORTRAN=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 GFORTRAN=$ac_cv_path_GFORTRAN
-
 if test -n &quot;$GFORTRAN&quot;; then
-  echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$GFORTRAN&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
+$as_echo &quot;$GFORTRAN&quot; &gt;&amp;6; }
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
 fi
 
-echo &quot;$as_me:$LINENO: checking gfortran lib path&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking gfortran lib path... $ECHO_C&quot; &gt;&amp;6
+
+{ $as_echo &quot;$as_me:$LINENO: checking gfortran lib path&quot; &gt;&amp;5
+$as_echo_n &quot;checking gfortran lib path... &quot; &gt;&amp;6; }
 GFORTRAN_LIB_PATH=`${GFORTRAN} -print-file-name=`
-echo &quot;$as_me:$LINENO: result: ${GFORTRAN_LIB_PATH}&quot; &gt;&amp;5
-echo &quot;${ECHO_T}${GFORTRAN_LIB_PATH}&quot; &gt;&amp;6
-echo &quot;$as_me:$LINENO: checking OS&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking OS... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: ${GFORTRAN_LIB_PATH}&quot; &gt;&amp;5
+$as_echo &quot;${GFORTRAN_LIB_PATH}&quot; &gt;&amp;6; }
+{ $as_echo &quot;$as_me:$LINENO: checking OS&quot; &gt;&amp;5
+$as_echo_n &quot;checking OS... &quot; &gt;&amp;6; }
 OS=`uname`
 OS=&quot;${OS}&quot;
 
 
 
-echo &quot;$as_me:$LINENO: checking for ANSI C header files&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for ANSI C header files... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for ANSI C header files&quot; &gt;&amp;5
+$as_echo_n &quot;checking for ANSI C header files... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_header_stdc+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -3733,36 +4384,33 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_cv_header_stdc=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_header_stdc=no
+	ac_cv_header_stdc=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+
 if test $ac_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -3817,6 +4465,7 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 #include &lt;ctype.h&gt;
+#include &lt;stdlib.h&gt;
 #if ((' ' &amp; 0x0FF) == 0x020)
 # define ISLOWER(c) ('a' &lt;= (c) &amp;&amp; (c) &lt;= 'z')
 # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
@@ -3836,36 +4485,50 @@
   for (i = 0; i &lt; 256; i++)
     if (XOR (islower (i), ISLOWER (i))
 	|| toupper (i) != TOUPPER (i))
-      exit(2);
-  exit (0);
+      return 2;
+  return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;&amp;5
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  { (case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
   :
 else
-  echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
+$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
 ( exit $ac_status )
 ac_cv_header_stdc=no
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -rf conftest.dSYM
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
 fi
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_stdc&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdc&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_stdc&quot; &gt;&amp;6; }
 if test $ac_cv_header_stdc = yes; then
 
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
@@ -3888,11 +4551,11 @@
 for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
 		  inttypes.h stdint.h unistd.h
 do
-as_ac_Header=`echo &quot;ac_cv_header_$ac_header&quot; | $as_tr_sh`
-echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_header... $ECHO_C&quot; &gt;&amp;6
-if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+as_ac_Header=`$as_echo &quot;ac_cv_header_$ac_header&quot; | $as_tr_sh`
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_header... &quot; &gt;&amp;6; }
+if { as_var=$as_ac_Header; eval &quot;test \&quot;\${$as_var+set}\&quot; = set&quot;; }; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -3905,41 +4568,41 @@
 #include &lt;$ac_header&gt;
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   eval &quot;$as_ac_Header=yes&quot;
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-eval &quot;$as_ac_Header=no&quot;
+	eval &quot;$as_ac_Header=no&quot;
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;5
-echo &quot;${ECHO_T}`eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;6
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
+ac_res=`eval 'as_val=${'$as_ac_Header'}
+		 $as_echo &quot;$as_val&quot;'`
+	       { $as_echo &quot;$as_me:$LINENO: result: $ac_res&quot; &gt;&amp;5
+$as_echo &quot;$ac_res&quot; &gt;&amp;6; }
+if test `eval 'as_val=${'$as_ac_Header'}
+		 $as_echo &quot;$as_val&quot;'` = yes; then
   cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define `echo &quot;HAVE_$ac_header&quot; | $as_tr_cpp` 1
+#define `$as_echo &quot;HAVE_$ac_header&quot; | $as_tr_cpp` 1
 _ACEOF
 
 fi
@@ -3969,19 +4632,21 @@
 sys/syslog.h stddef.h libgen.h sys/wait.h wait.h stdio.h termios.h \
 sys/resource.h linux/ppdev.h dev/ppbus/ppi.h sys/stat.h fcntl.h sys/ioctl.h
 do
-as_ac_Header=`echo &quot;ac_cv_header_$ac_header&quot; | $as_tr_sh`
-if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
-  echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_header... $ECHO_C&quot; &gt;&amp;6
-if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+as_ac_Header=`$as_echo &quot;ac_cv_header_$ac_header&quot; | $as_tr_sh`
+if { as_var=$as_ac_Header; eval &quot;test \&quot;\${$as_var+set}\&quot; = set&quot;; }; then
+  { $as_echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_header... &quot; &gt;&amp;6; }
+if { as_var=$as_ac_Header; eval &quot;test \&quot;\${$as_var+set}\&quot; = set&quot;; }; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 fi
-echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;5
-echo &quot;${ECHO_T}`eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;6
+ac_res=`eval 'as_val=${'$as_ac_Header'}
+		 $as_echo &quot;$as_val&quot;'`
+	       { $as_echo &quot;$as_me:$LINENO: result: $ac_res&quot; &gt;&amp;5
+$as_echo &quot;$ac_res&quot; &gt;&amp;6; }
 else
   # Is the header compilable?
-echo &quot;$as_me:$LINENO: checking $ac_header usability&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking $ac_header usability... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking $ac_header usability&quot; &gt;&amp;5
+$as_echo_n &quot;checking $ac_header usability... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -3992,41 +4657,38 @@
 #include &lt;$ac_header&gt;
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_header_compiler=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_header_compiler=no
+	ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
+$as_echo &quot;$ac_header_compiler&quot; &gt;&amp;6; }
+
 # Is the header present?
-echo &quot;$as_me:$LINENO: checking $ac_header presence&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking $ac_header presence... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking $ac_header presence&quot; &gt;&amp;5
+$as_echo_n &quot;checking $ac_header presence... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4035,81 +4697,77 @@
 /* end confdefs.h.  */
 #include &lt;$ac_header&gt;
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   ac_header_preproc=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
+$as_echo &quot;$ac_header_preproc&quot; &gt;&amp;6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
   yes:no: )
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header: proceeding with the compiler's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header: proceeding with the compiler's result&quot; &gt;&amp;2;}
     ac_header_preproc=yes
     ;;
   no:yes:* )
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header: present but cannot be compiled&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: $ac_header: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
-    (
-      cat &lt;&lt;\_ASBOX
-## ------------------------------- ##
-## Report this to the wsjt lists.  ##
-## ------------------------------- ##
-_ASBOX
-    ) |
-      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header: present but cannot be compiled&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header: see the Autoconf documentation&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_header: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
+
     ;;
 esac
-echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_header... $ECHO_C&quot; &gt;&amp;6
-if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_header... &quot; &gt;&amp;6; }
+if { as_var=$as_ac_Header; eval &quot;test \&quot;\${$as_var+set}\&quot; = set&quot;; }; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   eval &quot;$as_ac_Header=\$ac_header_preproc&quot;
 fi
-echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;5
-echo &quot;${ECHO_T}`eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;6
+ac_res=`eval 'as_val=${'$as_ac_Header'}
+		 $as_echo &quot;$as_val&quot;'`
+	       { $as_echo &quot;$as_me:$LINENO: result: $ac_res&quot; &gt;&amp;5
+$as_echo &quot;$ac_res&quot; &gt;&amp;6; }
 
 fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
+if test `eval 'as_val=${'$as_ac_Header'}
+		 $as_echo &quot;$as_val&quot;'` = yes; then
   cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define `echo &quot;HAVE_$ac_header&quot; | $as_tr_cpp` 1
+#define `$as_echo &quot;HAVE_$ac_header&quot; | $as_tr_cpp` 1
 _ACEOF
 
 fi
@@ -4117,10 +4775,10 @@
 done
 
 
-echo &quot;$as_me:$LINENO: checking whether time.h and sys/time.h may both be included&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether time.h and sys/time.h may both be included... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking whether time.h and sys/time.h may both be included&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether time.h and sys/time.h may both be included... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_header_time+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -4142,38 +4800,35 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_cv_header_time=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_header_time=no
+	ac_cv_header_time=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_time&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_time&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_time&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_time&quot; &gt;&amp;6; }
 if test $ac_cv_header_time = yes; then
 
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
@@ -4183,457 +4838,18 @@
 fi
 
 
-if test &quot;${ac_cv_header_sys_soundcard_h+set}&quot; = set; then
-  echo &quot;$as_me:$LINENO: checking for sys/soundcard.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for sys/soundcard.h... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_header_sys_soundcard_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_sys_soundcard_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_sys_soundcard_h&quot; &gt;&amp;6
-else
-  # Is the header compilable?
-echo &quot;$as_me:$LINENO: checking sys/soundcard.h usability&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking sys/soundcard.h usability... $ECHO_C&quot; &gt;&amp;6
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include &lt;sys/soundcard.h&gt;
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_header_compiler=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-ac_header_compiler=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
-
-# Is the header present?
-echo &quot;$as_me:$LINENO: checking sys/soundcard.h presence&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking sys/soundcard.h presence... $ECHO_C&quot; &gt;&amp;6
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;sys/soundcard.h&gt;
-_ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
-  ac_header_preproc=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-  ac_header_preproc=no
-fi
-rm -f conftest.err conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h: proceeding with the compiler's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h: present but cannot be compiled&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h: present but cannot be compiled&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h: see the Autoconf documentation&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: sys/soundcard.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: sys/soundcard.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
-    (
-      cat &lt;&lt;\_ASBOX
-## ------------------------------- ##
-## Report this to the wsjt lists.  ##
-## ------------------------------- ##
-_ASBOX
-    ) |
-      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
-    ;;
-esac
-echo &quot;$as_me:$LINENO: checking for sys/soundcard.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for sys/soundcard.h... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_header_sys_soundcard_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  ac_cv_header_sys_soundcard_h=$ac_header_preproc
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_sys_soundcard_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_sys_soundcard_h&quot; &gt;&amp;6
-
-fi
-if test $ac_cv_header_sys_soundcard_h = yes; then
-  HAS_SOUNDCARD_H=1
-else
-  HAS_SOUNDCARD_H=0
-fi
-
-
-if test &quot;${ac_cv_header_alsa_asoundlib_h+set}&quot; = set; then
-  echo &quot;$as_me:$LINENO: checking for alsa/asoundlib.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for alsa/asoundlib.h... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_header_alsa_asoundlib_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_alsa_asoundlib_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_alsa_asoundlib_h&quot; &gt;&amp;6
-else
-  # Is the header compilable?
-echo &quot;$as_me:$LINENO: checking alsa/asoundlib.h usability&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking alsa/asoundlib.h usability... $ECHO_C&quot; &gt;&amp;6
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include &lt;alsa/asoundlib.h&gt;
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_header_compiler=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-ac_header_compiler=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
-
-# Is the header present?
-echo &quot;$as_me:$LINENO: checking alsa/asoundlib.h presence&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking alsa/asoundlib.h presence... $ECHO_C&quot; &gt;&amp;6
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;alsa/asoundlib.h&gt;
-_ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
-  ac_header_preproc=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-  ac_header_preproc=no
-fi
-rm -f conftest.err conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h: proceeding with the compiler's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h: present but cannot be compiled&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h: present but cannot be compiled&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h: see the Autoconf documentation&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: alsa/asoundlib.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: alsa/asoundlib.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
-    (
-      cat &lt;&lt;\_ASBOX
-## ------------------------------- ##
-## Report this to the wsjt lists.  ##
-## ------------------------------- ##
-_ASBOX
-    ) |
-      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
-    ;;
-esac
-echo &quot;$as_me:$LINENO: checking for alsa/asoundlib.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for alsa/asoundlib.h... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_header_alsa_asoundlib_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  ac_cv_header_alsa_asoundlib_h=$ac_header_preproc
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_alsa_asoundlib_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_alsa_asoundlib_h&quot; &gt;&amp;6
-
-fi
-if test $ac_cv_header_alsa_asoundlib_h = yes; then
-  HAS_ASOUNDLIB_H=1
-else
-  HAS_ASOUNDLIB_H=0
-fi
-
-
-if test &quot;${ac_cv_header_jack_jack_h+set}&quot; = set; then
-  echo &quot;$as_me:$LINENO: checking for jack/jack.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for jack/jack.h... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_header_jack_jack_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_jack_jack_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_jack_jack_h&quot; &gt;&amp;6
-else
-  # Is the header compilable?
-echo &quot;$as_me:$LINENO: checking jack/jack.h usability&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking jack/jack.h usability... $ECHO_C&quot; &gt;&amp;6
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include &lt;jack/jack.h&gt;
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_header_compiler=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-ac_header_compiler=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
-
-# Is the header present?
-echo &quot;$as_me:$LINENO: checking jack/jack.h presence&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking jack/jack.h presence... $ECHO_C&quot; &gt;&amp;6
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;jack/jack.h&gt;
-_ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
-  ac_header_preproc=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-  ac_header_preproc=no
-fi
-rm -f conftest.err conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h: proceeding with the compiler's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h: present but cannot be compiled&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h: present but cannot be compiled&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h: see the Autoconf documentation&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: jack/jack.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: jack/jack.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
-    (
-      cat &lt;&lt;\_ASBOX
-## ------------------------------- ##
-## Report this to the wsjt lists.  ##
-## ------------------------------- ##
-_ASBOX
-    ) |
-      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
-    ;;
-esac
-echo &quot;$as_me:$LINENO: checking for jack/jack.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for jack/jack.h... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_header_jack_jack_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  ac_cv_header_jack_jack_h=$ac_header_preproc
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_jack_jack_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_jack_jack_h&quot; &gt;&amp;6
-
-fi
-if test $ac_cv_header_jack_jack_h = yes; then
-  HAS_JACK_H=1
-else
-  HAS_JACK_H=0
-fi
-
-
-if test -e &quot;portaudio-v19/include/portaudio.h&quot; ; then
-	echo &quot;Checking for portaudio...yes&quot;
-	HAS_PORTAUDIO_H=1
-else
-	echo &quot;Checking for portaudio...no&quot;
-	HAS_PORTAUDIO_H=0
-fi
 if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
-  echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for samplerate.h... $ECHO_C&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
+$as_echo_n &quot;checking for samplerate.h... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_samplerate_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_samplerate_h&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_samplerate_h&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_samplerate_h&quot; &gt;&amp;6; }
 else
   # Is the header compilable?
-echo &quot;$as_me:$LINENO: checking samplerate.h usability&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking samplerate.h usability... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking samplerate.h usability&quot; &gt;&amp;5
+$as_echo_n &quot;checking samplerate.h usability... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4644,41 +4860,38 @@
 #include &lt;samplerate.h&gt;
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_header_compiler=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_header_compiler=no
+	ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
+$as_echo &quot;$ac_header_compiler&quot; &gt;&amp;6; }
+
 # Is the header present?
-echo &quot;$as_me:$LINENO: checking samplerate.h presence&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking samplerate.h presence... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking samplerate.h presence&quot; &gt;&amp;5
+$as_echo_n &quot;checking samplerate.h presence... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4687,76 +4900,69 @@
 /* end confdefs.h.  */
 #include &lt;samplerate.h&gt;
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   ac_header_preproc=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
+$as_echo &quot;$ac_header_preproc&quot; &gt;&amp;6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
   yes:no: )
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h: proceeding with the compiler's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: proceeding with the compiler's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
     ac_header_preproc=yes
     ;;
   no:yes:* )
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h: present but cannot be compiled&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h: present but cannot be compiled&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h: see the Autoconf documentation&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: samplerate.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: samplerate.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
-    (
-      cat &lt;&lt;\_ASBOX
-## ------------------------------- ##
-## Report this to the wsjt lists.  ##
-## ------------------------------- ##
-_ASBOX
-    ) |
-      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: present but cannot be compiled&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h: present but cannot be compiled&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: see the Autoconf documentation&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h: see the Autoconf documentation&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: samplerate.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
+
     ;;
 esac
-echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for samplerate.h... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
+$as_echo_n &quot;checking for samplerate.h... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_cv_header_samplerate_h=$ac_header_preproc
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_samplerate_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_samplerate_h&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_samplerate_h&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_samplerate_h&quot; &gt;&amp;6; }
 
 fi
 if test $ac_cv_header_samplerate_h = yes; then
@@ -4767,10 +4973,14 @@
 
 
 
-echo &quot;$as_me:$LINENO: checking whether string.h and strings.h may both be included&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether string.h and strings.h may both be included... $ECHO_C&quot; &gt;&amp;6
+HAS_PORTAUDIO_H=0
+HAS_PORTAUDIO_LIB=0
+HAS_PORTAUDIO=0
+
+{ $as_echo &quot;$as_me:$LINENO: checking whether string.h and strings.h may both be included&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether string.h and strings.h may both be included... &quot; &gt;&amp;6; }
 if test &quot;${gcc_cv_header_string+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
 
 	cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -4778,39 +4988,36 @@
 	#include &lt;strings.h&gt;
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   gcc_cv_header_string=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-gcc_cv_header_string=no
+	gcc_cv_header_string=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+
 fi
-echo &quot;$as_me:$LINENO: result: $gcc_cv_header_string&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$gcc_cv_header_string&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $gcc_cv_header_string&quot; &gt;&amp;5
+$as_echo &quot;$gcc_cv_header_string&quot; &gt;&amp;6; }
 
 if test &quot;$gcc_cv_header_string&quot; = &quot;yes&quot;; then
 
@@ -4820,10 +5027,10 @@
 
 fi
 
-echo &quot;$as_me:$LINENO: checking for clock_gettime in -lrt&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for clock_gettime in -lrt... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for clock_gettime in -lrt&quot; &gt;&amp;5
+$as_echo_n &quot;checking for clock_gettime in -lrt... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_lib_rt_clock_gettime+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_check_lib_save_LIBS=$LIBS
 LIBS=&quot;-lrt  $LIBS&quot;
@@ -4834,66 +5041,67 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern &quot;C&quot;
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char clock_gettime ();
 int
 main ()
 {
-clock_gettime ();
+return clock_gettime ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
   ac_cv_lib_rt_clock_gettime=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_lib_rt_clock_gettime=no
+	ac_cv_lib_rt_clock_gettime=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_lib_rt_clock_gettime&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_lib_rt_clock_gettime&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_rt_clock_gettime&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_rt_clock_gettime&quot; &gt;&amp;6; }
 if test $ac_cv_lib_rt_clock_gettime = yes; then
   RTLIBS=&quot;-lrt&quot;
 else
   RTLIBS=&quot;&quot;
 fi
 
-echo &quot;$as_me:$LINENO: checking for snd_pcm_open in -lasound&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for snd_pcm_open in -lasound... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for snd_pcm_open in -lasound&quot; &gt;&amp;5
+$as_echo_n &quot;checking for snd_pcm_open in -lasound... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_lib_asound_snd_pcm_open+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_check_lib_save_LIBS=$LIBS
 LIBS=&quot;-lasound  $LIBS&quot;
@@ -4904,56 +5112,57 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern &quot;C&quot;
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char snd_pcm_open ();
 int
 main ()
 {
-snd_pcm_open ();
+return snd_pcm_open ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
   ac_cv_lib_asound_snd_pcm_open=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_lib_asound_snd_pcm_open=no
+	ac_cv_lib_asound_snd_pcm_open=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_lib_asound_snd_pcm_open&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_lib_asound_snd_pcm_open&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_asound_snd_pcm_open&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_asound_snd_pcm_open&quot; &gt;&amp;6; }
 if test $ac_cv_lib_asound_snd_pcm_open = yes; then
   ASOUNDLIBS=&quot;-lasound&quot;
 else
@@ -4961,73 +5170,15 @@
 fi
 
 
-echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for int64_t... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_type_int64_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if ((int64_t *) 0)
-  return 0;
-if (sizeof (int64_t))
-  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_int64_t=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-ac_cv_type_int64_t=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_int64_t&quot; &gt;&amp;6
-
-echo &quot;$as_me:$LINENO: checking size of int64_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking size of int64_t... $ECHO_C&quot; &gt;&amp;6
+# The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) &gt;= 0]];'.
+# This bug is HP SR number 8606223364.
+{ $as_echo &quot;$as_me:$LINENO: checking size of int64_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking size of int64_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_sizeof_int64_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  if test &quot;$ac_cv_type_int64_t&quot; = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
-  # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
-  # declarations like `int a3[[(sizeof (unsigned char)) &gt;= 0]];'.
-  # This bug is HP SR number 8606223364.
   if test &quot;$cross_compiling&quot; = yes; then
   # Depending upon the size, compute the lo and hi bounds.
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -5040,7 +5191,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int64_t))) &gt;= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &gt;= 0)];
 test_array [0] = 0
 
   ;
@@ -5048,27 +5199,23 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_lo=0 ac_mid=0
   while :; do
     cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -5081,7 +5228,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int64_t))) &lt;= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &lt;= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -5089,46 +5236,43 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_hi=$ac_mid; break
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_lo=`expr $ac_mid + 1`
-		    if test $ac_lo -le $ac_mid; then
-		      ac_lo= ac_hi=
-		      break
-		    fi
-		    ac_mid=`expr 2 '*' $ac_mid + 1`
+	ac_lo=`expr $ac_mid + 1`
+			if test $ac_lo -le $ac_mid; then
+			  ac_lo= ac_hi=
+			  break
+			fi
+			ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+	cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -5138,7 +5282,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int64_t))) &lt; 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &lt; 0)];
 test_array [0] = 0
 
   ;
@@ -5146,27 +5290,23 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_hi=-1 ac_mid=-1
   while :; do
     cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -5179,7 +5319,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int64_t))) &gt;= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &gt;= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -5187,50 +5327,49 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_lo=$ac_mid; break
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_hi=`expr '(' $ac_mid ')' - 1`
-		       if test $ac_mid -le $ac_hi; then
-			 ac_lo= ac_hi=
-			 break
-		       fi
-		       ac_mid=`expr 2 '*' $ac_mid`
+	ac_hi=`expr '(' $ac_mid ')' - 1`
+			if test $ac_mid -le $ac_hi; then
+			  ac_lo= ac_hi=
+			  break
+			fi
+			ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_lo= ac_hi=
+	ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test &quot;x$ac_lo&quot; != &quot;x$ac_hi&quot;; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -5244,7 +5383,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int64_t))) &lt;= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &lt;= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -5252,52 +5391,46 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_hi=$ac_mid
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_lo=`expr '(' $ac_mid ')' + 1`
+	ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_int64_t=$ac_lo;;
-'') { { echo &quot;$as_me:$LINENO: error: cannot compute sizeof (int64_t), 77
+'') if test &quot;$ac_cv_type_int64_t&quot; = yes; then
+     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (int64_t)
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot compute sizeof (int64_t), 77
+$as_echo &quot;$as_me: error: cannot compute sizeof (int64_t)
 See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; }
+   else
+     ac_cv_sizeof_int64_t=0
+   fi ;;
 esac
 else
-  if test &quot;$cross_compiling&quot; = yes; then
-  { { echo &quot;$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -5305,8 +5438,8 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (int64_t)); }
-unsigned long ulongval () { return (long) (sizeof (int64_t)); }
+static long int longval () { return (long int) (sizeof (int64_t)); }
+static unsigned long int ulongval () { return (long int) (sizeof (int64_t)); }
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 int
@@ -5315,133 +5448,92 @@
 
   FILE *f = fopen (&quot;conftest.val&quot;, &quot;w&quot;);
   if (! f)
-    exit (1);
-  if (((long) (sizeof (int64_t))) &lt; 0)
+    return 1;
+  if (((long int) (sizeof (int64_t))) &lt; 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (int64_t))))
-	exit (1);
-      fprintf (f, &quot;%ld\n&quot;, i);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (int64_t))))
+	return 1;
+      fprintf (f, &quot;%ld&quot;, i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (int64_t))))
-	exit (1);
-      fprintf (f, &quot;%lu\n&quot;, i);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (int64_t))))
+	return 1;
+      fprintf (f, &quot;%lu&quot;, i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  /* Do not output a trailing newline, as this causes \r\n confusion
+     on some platforms.  */
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;&amp;5
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  { (case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
   ac_cv_sizeof_int64_t=`cat conftest.val`
 else
-  echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
+$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
 ( exit $ac_status )
-{ { echo &quot;$as_me:$LINENO: error: cannot compute sizeof (int64_t), 77
+if test &quot;$ac_cv_type_int64_t&quot; = yes; then
+     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (int64_t)
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot compute sizeof (int64_t), 77
+$as_echo &quot;$as_me: error: cannot compute sizeof (int64_t)
 See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
+   { (exit 77); exit 77; }; }
+   else
+     ac_cv_sizeof_int64_t=0
+   fi
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -rf conftest.dSYM
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
-fi
 rm -f conftest.val
-else
-  ac_cv_sizeof_int64_t=0
 fi
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_sizeof_int64_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_sizeof_int64_t&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_sizeof_int64_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_sizeof_int64_t&quot; &gt;&amp;6; }
+
+
+
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
 #define SIZEOF_INT64_T $ac_cv_sizeof_int64_t
 _ACEOF
 
 
-echo &quot;$as_me:$LINENO: checking for long long&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for long long... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_type_long_long+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if ((long long *) 0)
-  return 0;
-if (sizeof (long long))
-  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_long_long=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-ac_cv_type_long_long=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_long_long&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_long_long&quot; &gt;&amp;6
-
-echo &quot;$as_me:$LINENO: checking size of long long&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking size of long long... $ECHO_C&quot; &gt;&amp;6
+# The cast to long int works around a bug in the HP C Compiler
+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
+# declarations like `int a3[[(sizeof (unsigned char)) &gt;= 0]];'.
+# This bug is HP SR number 8606223364.
+{ $as_echo &quot;$as_me:$LINENO: checking size of long long&quot; &gt;&amp;5
+$as_echo_n &quot;checking size of long long... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_sizeof_long_long+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  if test &quot;$ac_cv_type_long_long&quot; = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
-  # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
-  # declarations like `int a3[[(sizeof (unsigned char)) &gt;= 0]];'.
-  # This bug is HP SR number 8606223364.
   if test &quot;$cross_compiling&quot; = yes; then
   # Depending upon the size, compute the lo and hi bounds.
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -5454,7 +5546,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) &gt;= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &gt;= 0)];
 test_array [0] = 0
 
   ;
@@ -5462,27 +5554,23 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_lo=0 ac_mid=0
   while :; do
     cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -5495,7 +5583,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) &lt;= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &lt;= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -5503,46 +5591,43 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_hi=$ac_mid; break
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_lo=`expr $ac_mid + 1`
-		    if test $ac_lo -le $ac_mid; then
-		      ac_lo= ac_hi=
-		      break
-		    fi
-		    ac_mid=`expr 2 '*' $ac_mid + 1`
+	ac_lo=`expr $ac_mid + 1`
+			if test $ac_lo -le $ac_mid; then
+			  ac_lo= ac_hi=
+			  break
+			fi
+			ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+	cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -5552,7 +5637,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) &lt; 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &lt; 0)];
 test_array [0] = 0
 
   ;
@@ -5560,27 +5645,23 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_hi=-1 ac_mid=-1
   while :; do
     cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -5593,7 +5674,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) &gt;= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &gt;= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -5601,50 +5682,49 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_lo=$ac_mid; break
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_hi=`expr '(' $ac_mid ')' - 1`
-		       if test $ac_mid -le $ac_hi; then
-			 ac_lo= ac_hi=
-			 break
-		       fi
-		       ac_mid=`expr 2 '*' $ac_mid`
+	ac_hi=`expr '(' $ac_mid ')' - 1`
+			if test $ac_mid -le $ac_hi; then
+			  ac_lo= ac_hi=
+			  break
+			fi
+			ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_lo= ac_hi=
+	ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test &quot;x$ac_lo&quot; != &quot;x$ac_hi&quot;; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -5658,7 +5738,7 @@
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) &lt;= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &lt;= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -5666,52 +5746,46 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_hi=$ac_mid
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_lo=`expr '(' $ac_mid ')' + 1`
+	ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_long_long=$ac_lo;;
-'') { { echo &quot;$as_me:$LINENO: error: cannot compute sizeof (long long), 77
+'') if test &quot;$ac_cv_type_long_long&quot; = yes; then
+     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (long long)
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot compute sizeof (long long), 77
+$as_echo &quot;$as_me: error: cannot compute sizeof (long long)
 See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; }
+   else
+     ac_cv_sizeof_long_long=0
+   fi ;;
 esac
 else
-  if test &quot;$cross_compiling&quot; = yes; then
-  { { echo &quot;$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -5719,8 +5793,8 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (long long)); }
-unsigned long ulongval () { return (long) (sizeof (long long)); }
+static long int longval () { return (long int) (sizeof (long long)); }
+static unsigned long int ulongval () { return (long int) (sizeof (long long)); }
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 int
@@ -5729,61 +5803,78 @@
 
   FILE *f = fopen (&quot;conftest.val&quot;, &quot;w&quot;);
   if (! f)
-    exit (1);
-  if (((long) (sizeof (long long))) &lt; 0)
+    return 1;
+  if (((long int) (sizeof (long long))) &lt; 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (long long))))
-	exit (1);
-      fprintf (f, &quot;%ld\n&quot;, i);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (long long))))
+	return 1;
+      fprintf (f, &quot;%ld&quot;, i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (long long))))
-	exit (1);
-      fprintf (f, &quot;%lu\n&quot;, i);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (long long))))
+	return 1;
+      fprintf (f, &quot;%lu&quot;, i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  /* Do not output a trailing newline, as this causes \r\n confusion
+     on some platforms.  */
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;&amp;5
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  { (case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
   ac_cv_sizeof_long_long=`cat conftest.val`
 else
-  echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
+$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
 ( exit $ac_status )
-{ { echo &quot;$as_me:$LINENO: error: cannot compute sizeof (long long), 77
+if test &quot;$ac_cv_type_long_long&quot; = yes; then
+     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (long long)
 See \`config.log' for more details.&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot compute sizeof (long long), 77
+$as_echo &quot;$as_me: error: cannot compute sizeof (long long)
 See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
+   { (exit 77); exit 77; }; }
+   else
+     ac_cv_sizeof_long_long=0
+   fi
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -rf conftest.dSYM
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
-fi
 rm -f conftest.val
-else
-  ac_cv_sizeof_long_long=0
 fi
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_sizeof_long_long&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_sizeof_long_long&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_sizeof_long_long&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_sizeof_long_long&quot; &gt;&amp;6; }
+
+
+
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
 #define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long
 _ACEOF
@@ -5791,12 +5882,13 @@
 
 
 if test &quot;$ac_cv_sizeof_int64_t&quot; = 8; then
-  echo &quot;$as_me:$LINENO: checking for uint64_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for uint64_t... $ECHO_C&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: checking for uint64_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for uint64_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_uint64_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_uint64_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -5806,54 +5898,92 @@
 int
 main ()
 {
-if ((uint64_t *) 0)
-  return 0;
 if (sizeof (uint64_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((uint64_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_uint64_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_uint64_t=no
+	ac_cv_type_uint64_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint64_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_uint64_t&quot; &gt;&amp;6
 
-  echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for int64_t... $ECHO_C&quot; &gt;&amp;6
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint64_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_uint64_t&quot; &gt;&amp;6; }
+
+  { $as_echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for int64_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_int64_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_int64_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -5863,55 +5993,93 @@
 int
 main ()
 {
-if ((int64_t *) 0)
-  return 0;
 if (sizeof (int64_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((int64_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_int64_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_int64_t=no
+	ac_cv_type_int64_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_int64_t&quot; &gt;&amp;6
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_int64_t&quot; &gt;&amp;6; }
+
 elif test &quot;$ac_cv_sizeof_long_long&quot; = 8; then
-  echo &quot;$as_me:$LINENO: checking for uint64_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for uint64_t... $ECHO_C&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: checking for uint64_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for uint64_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_uint64_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_uint64_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -5921,47 +6089,84 @@
 int
 main ()
 {
-if ((uint64_t *) 0)
-  return 0;
 if (sizeof (uint64_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((uint64_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_uint64_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_uint64_t=no
+	ac_cv_type_uint64_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint64_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_uint64_t&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint64_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_uint64_t&quot; &gt;&amp;6; }
 if test $ac_cv_type_uint64_t = yes; then
   :
 else
@@ -5972,12 +6177,13 @@
 
 fi
 
-  echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for int64_t... $ECHO_C&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for int64_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_int64_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_int64_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -5987,47 +6193,84 @@
 int
 main ()
 {
-if ((int64_t *) 0)
-  return 0;
 if (sizeof (int64_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((int64_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_int64_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_int64_t=no
+	ac_cv_type_int64_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_int64_t&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_int64_t&quot; &gt;&amp;6; }
 if test $ac_cv_type_int64_t = yes; then
   :
 else
@@ -6040,12 +6283,13 @@
 
 fi
 
-echo &quot;$as_me:$LINENO: checking for u_int32_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for u_int32_t... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for u_int32_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for u_int32_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_u_int32_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_u_int32_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -6055,57 +6299,95 @@
 int
 main ()
 {
-if ((u_int32_t *) 0)
-  return 0;
 if (sizeof (u_int32_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((u_int32_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_u_int32_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_u_int32_t=no
+	ac_cv_type_u_int32_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_u_int32_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_u_int32_t&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_u_int32_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_u_int32_t&quot; &gt;&amp;6; }
 if test $ac_cv_type_u_int32_t = yes; then
   :
 else
 
-	echo &quot;$as_me:$LINENO: checking for uint32_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for uint32_t... $ECHO_C&quot; &gt;&amp;6
+	{ $as_echo &quot;$as_me:$LINENO: checking for uint32_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for uint32_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_uint32_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_uint32_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -6115,47 +6397,84 @@
 int
 main ()
 {
-if ((uint32_t *) 0)
-  return 0;
 if (sizeof (uint32_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((uint32_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_uint32_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_uint32_t=no
+	ac_cv_type_uint32_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint32_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_uint32_t&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint32_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_uint32_t&quot; &gt;&amp;6; }
 if test $ac_cv_type_uint32_t = yes; then
 
 
@@ -6166,8 +6485,8 @@
 
 else
 
-		{ echo &quot;$as_me:$LINENO: WARNING: system has no u_int32_t or uint32_t, default to unsigned long int&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: system has no u_int32_t or uint32_t, default to unsigned long int&quot; &gt;&amp;2;}
+		{ $as_echo &quot;$as_me:$LINENO: WARNING: system has no u_int32_t or uint32_t, default to unsigned long int&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: system has no u_int32_t or uint32_t, default to unsigned long int&quot; &gt;&amp;2;}
 
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define u_int32_t unsigned long int
@@ -6180,12 +6499,13 @@
 fi
 
 
-echo &quot;$as_me:$LINENO: checking for u_int16_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for u_int16_t... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for u_int16_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for u_int16_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_u_int16_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_u_int16_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -6195,57 +6515,95 @@
 int
 main ()
 {
-if ((u_int16_t *) 0)
-  return 0;
 if (sizeof (u_int16_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((u_int16_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_u_int16_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_u_int16_t=no
+	ac_cv_type_u_int16_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_u_int16_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_u_int16_t&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_u_int16_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_u_int16_t&quot; &gt;&amp;6; }
 if test $ac_cv_type_u_int16_t = yes; then
   :
 else
 
-	echo &quot;$as_me:$LINENO: checking for uint16_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for uint16_t... $ECHO_C&quot; &gt;&amp;6
+	{ $as_echo &quot;$as_me:$LINENO: checking for uint16_t&quot; &gt;&amp;5
+$as_echo_n &quot;checking for uint16_t... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_type_uint16_t+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_type_uint16_t=no
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
@@ -6255,47 +6613,84 @@
 int
 main ()
 {
-if ((uint16_t *) 0)
-  return 0;
 if (sizeof (uint16_t))
+       return 0;
+  ;
   return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+if (sizeof ((uint16_t)))
+	  return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_type_uint16_t=yes
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  :
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_type_uint16_t=no
+	ac_cv_type_uint16_t=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint16_t&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_type_uint16_t&quot; &gt;&amp;6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint16_t&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_type_uint16_t&quot; &gt;&amp;6; }
 if test $ac_cv_type_uint16_t = yes; then
 
 
@@ -6306,8 +6701,8 @@
 
 else
 
-		{ echo &quot;$as_me:$LINENO: WARNING: system has no u_int16_t or uint16_t, default to unsigned short int&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: system has no u_int16_t or uint16_t, default to unsigned short int&quot; &gt;&amp;2;}
+		{ $as_echo &quot;$as_me:$LINENO: WARNING: system has no u_int16_t or uint16_t, default to unsigned short int&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: system has no u_int16_t or uint16_t, default to unsigned short int&quot; &gt;&amp;2;}
 
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define u_int16_t unsigned short int
@@ -6320,172 +6715,279 @@
 fi
 
 
-echo &quot;$as_me:$LINENO: checking whether byte ordering is bigendian&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether byte ordering is bigendian... $ECHO_C&quot; &gt;&amp;6
+
+ { $as_echo &quot;$as_me:$LINENO: checking whether byte ordering is bigendian&quot; &gt;&amp;5
+$as_echo_n &quot;checking whether byte ordering is bigendian... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_c_bigendian+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  # See if sys/param.h defines the BYTE_ORDER macro.
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+  ac_cv_c_bigendian=unknown
+
+    if test $ac_cv_c_bigendian = unknown; then
+      # See if sys/param.h defines the BYTE_ORDER macro.
+      cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 #include &lt;sys/types.h&gt;
-#include &lt;sys/param.h&gt;
+	     #include &lt;sys/param.h&gt;
 
 int
 main ()
 {
-#if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN
- bogus endian macros
-#endif
+#if ! (defined BYTE_ORDER &amp;&amp; defined BIG_ENDIAN \
+		     &amp;&amp; defined LITTLE_ENDIAN &amp;&amp; BYTE_ORDER &amp;&amp; BIG_ENDIAN \
+		     &amp;&amp; LITTLE_ENDIAN)
+	      bogus endian macros
+	     #endif
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   # It does; now see whether it defined to BIG_ENDIAN or not.
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 #include &lt;sys/types.h&gt;
-#include &lt;sys/param.h&gt;
+		#include &lt;sys/param.h&gt;
 
 int
 main ()
 {
 #if BYTE_ORDER != BIG_ENDIAN
- not big endian
-#endif
+		 not big endian
+		#endif
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_cv_c_bigendian=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_cv_c_bigendian=no
+	ac_cv_c_bigendian=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-# It does not; compile a test program.
-if test &quot;$cross_compiling&quot; = yes; then
-  # try to guess the endianness by grepping values into an object file
-  ac_cv_c_bigendian=unknown
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+    fi
+    if test $ac_cv_c_bigendian = unknown; then
+      # See if &lt;limits.h&gt; defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).
+      cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
-short ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
-void _ascii () { char *s = (char *) ascii_mm; s = (char *) ascii_ii; }
-short ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
-short ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
-void _ebcdic () { char *s = (char *) ebcdic_mm; s = (char *) ebcdic_ii; }
+#include &lt;limits.h&gt;
+
 int
 main ()
 {
- _ascii (); _ebcdic ();
+#if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)
+	      bogus endian macros
+	     #endif
+
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  # It does; now see whether it defined to _BIG_ENDIAN or not.
+	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;limits.h&gt;
+
+int
+main ()
+{
+#ifndef _BIG_ENDIAN
+		 not big endian
+		#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  if grep BIGenDianSyS conftest.$ac_objext &gt;/dev/null ; then
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_cv_c_bigendian=yes
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+	ac_cv_c_bigendian=no
 fi
-if grep LiTTleEnDian conftest.$ac_objext &gt;/dev/null ; then
-  if test &quot;$ac_cv_c_bigendian&quot; = unknown; then
-    ac_cv_c_bigendian=no
-  else
-    # finding both strings is unlikely to happen, but who knows?
-    ac_cv_c_bigendian=unknown
-  fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+
 fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+    fi
+    if test $ac_cv_c_bigendian = unknown; then
+      # Compile a test program.
+      if test &quot;$cross_compiling&quot; = yes; then
+  # Try to guess by grepping values from an object file.
+	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+short int ascii_mm[] =
+		  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
+		short int ascii_ii[] =
+		  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
+		int use_ascii (int i) {
+		  return ascii_mm[i] + ascii_ii[i];
+		}
+		short int ebcdic_ii[] =
+		  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
+		short int ebcdic_mm[] =
+		  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
+		int use_ebcdic (int i) {
+		  return ebcdic_mm[i] + ebcdic_ii[i];
+		}
+		extern int foo;
+
+int
+main ()
+{
+return use_ascii (foo) == use_ebcdic (foo);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
+  if grep BIGenDianSyS conftest.$ac_objext &gt;/dev/null; then
+	      ac_cv_c_bigendian=yes
+	    fi
+	    if grep LiTTleEnDian conftest.$ac_objext &gt;/dev/null ; then
+	      if test &quot;$ac_cv_c_bigendian&quot; = unknown; then
+		ac_cv_c_bigendian=no
+	      else
+		# finding both strings is unlikely to happen, but who knows?
+		ac_cv_c_bigendian=unknown
+	      fi
+	    fi
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
@@ -6493,76 +6995,95 @@
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
+$ac_includes_default
 int
 main ()
 {
-  /* Are we little or big endian?  From Harbison&amp;Steele.  */
-  union
-  {
-    long l;
-    char c[sizeof (long)];
-  } u;
-  u.l = 1;
-  exit (u.c[sizeof (long) - 1] == 1);
+
+	     /* Are we little or big endian?  From Harbison&amp;Steele.  */
+	     union
+	     {
+	       long int l;
+	       char c[sizeof (long int)];
+	     } u;
+	     u.l = 1;
+	     return u.c[sizeof (long int) - 1] == 1;
+
+  ;
+  return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
-  (eval $ac_link) 2&gt;&amp;5
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
+  { (case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
   ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
   ac_cv_c_bigendian=no
 else
-  echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
+$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
 ( exit $ac_status )
 ac_cv_c_bigendian=yes
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -rf conftest.dSYM
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
+    fi
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_c_bigendian&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_c_bigendian&quot; &gt;&amp;6
-case $ac_cv_c_bigendian in
-  yes)
-
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_c_bigendian&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_c_bigendian&quot; &gt;&amp;6; }
+ case $ac_cv_c_bigendian in #(
+   yes)
+     cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define WORDS_BIGENDIAN 1
 _ACEOF
- ;;
-  no)
-     ;;
-  *)
-    { { echo &quot;$as_me:$LINENO: error: unknown endianness
-presetting ac_cv_c_bigendian=no (or yes) will help&quot; &gt;&amp;5
-echo &quot;$as_me: error: unknown endianness
-presetting ac_cv_c_bigendian=no (or yes) will help&quot; &gt;&amp;2;}
+;; #(
+   no)
+      ;; #(
+   universal)
+      ;; #(
+   *)
+     { { $as_echo &quot;$as_me:$LINENO: error: unknown endianness
+ presetting ac_cv_c_bigendian=no (or yes) will help&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: unknown endianness
+ presetting ac_cv_c_bigendian=no (or yes) will help&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; } ;;
-esac
+ esac
 
 
 if test &quot;${ac_cv_header_stdarg_h+set}&quot; = set; then
-  echo &quot;$as_me:$LINENO: checking for stdarg.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for stdarg.h... $ECHO_C&quot; &gt;&amp;6
+  { $as_echo &quot;$as_me:$LINENO: checking for stdarg.h&quot; &gt;&amp;5
+$as_echo_n &quot;checking for stdarg.h... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_header_stdarg_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdarg_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_stdarg_h&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdarg_h&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_stdarg_h&quot; &gt;&amp;6; }
 else
   # Is the header compilable?
-echo &quot;$as_me:$LINENO: checking stdarg.h usability&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking stdarg.h usability... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking stdarg.h usability&quot; &gt;&amp;5
+$as_echo_n &quot;checking stdarg.h usability... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -6573,41 +7094,38 @@
 #include &lt;stdarg.h&gt;
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_compile&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest.$ac_objext; then
   ac_header_compiler=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-ac_header_compiler=no
+	ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
+$as_echo &quot;$ac_header_compiler&quot; &gt;&amp;6; }
+
 # Is the header present?
-echo &quot;$as_me:$LINENO: checking stdarg.h presence&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking stdarg.h presence... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking stdarg.h presence&quot; &gt;&amp;5
+$as_echo_n &quot;checking stdarg.h presence... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -6616,110 +7134,103 @@
 /* end confdefs.h.  */
 #include &lt;stdarg.h&gt;
 _ACEOF
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
-  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 &gt;conftest.err
   rm -f conftest.er1
   cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &gt;/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z &quot;$ac_cpp_err&quot;; then
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null &amp;&amp; {
+	 test -z &quot;$ac_c_preproc_warn_flag$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       }; then
   ac_header_preproc=yes
 else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
+$as_echo &quot;$ac_header_preproc&quot; &gt;&amp;6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
   yes:no: )
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h: proceeding with the compiler's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h: proceeding with the compiler's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
     ac_header_preproc=yes
     ;;
   no:yes:* )
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h: present but cannot be compiled&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h: present but cannot be compiled&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h: see the Autoconf documentation&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { echo &quot;$as_me:$LINENO: WARNING: stdarg.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: stdarg.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
-    (
-      cat &lt;&lt;\_ASBOX
-## ------------------------------- ##
-## Report this to the wsjt lists.  ##
-## ------------------------------- ##
-_ASBOX
-    ) |
-      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h: present but cannot be compiled&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h: present but cannot be compiled&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h: see the Autoconf documentation&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h: see the Autoconf documentation&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: stdarg.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: stdarg.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
+
     ;;
 esac
-echo &quot;$as_me:$LINENO: checking for stdarg.h&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for stdarg.h... $ECHO_C&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: checking for stdarg.h&quot; &gt;&amp;5
+$as_echo_n &quot;checking for stdarg.h... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_header_stdarg_h+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_cv_header_stdarg_h=$ac_header_preproc
 fi
-echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdarg_h&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$ac_cv_header_stdarg_h&quot; &gt;&amp;6
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdarg_h&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_stdarg_h&quot; &gt;&amp;6; }
 
 fi
 if test $ac_cv_header_stdarg_h = yes; then
   :
 else
-  { { echo &quot;$as_me:$LINENO: error: ** stdarg.h could not be found - wsjt will not compile without it **&quot; &gt;&amp;5
-echo &quot;$as_me: error: ** stdarg.h could not be found - wsjt will not compile without it **&quot; &gt;&amp;2;}
+  { { $as_echo &quot;$as_me:$LINENO: error: ** stdarg.h could not be found - wsjt will not compile without it **&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: ** stdarg.h could not be found - wsjt will not compile without it **&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
 
 
 
-# Check whether --enable-clobber or --disable-clobber was given.
+# Check whether --enable-clobber was given.
 if test &quot;${enable_clobber+set}&quot; = set; then
-  enableval=&quot;$enable_clobber&quot;
-  clobber=$enableval
+  enableval=$enable_clobber; clobber=$enableval
 else
   clobber=no
-fi;
+fi
 
+
 if test &quot;$clobber&quot; = yes; then
 	CLOBBER=yes
 
 fi
 
-# Check whether --enable-assert or --disable-assert was given.
+# Check whether --enable-assert was given.
 if test &quot;${enable_assert+set}&quot; = set; then
-  enableval=&quot;$enable_assert&quot;
-  assert=$enableval
+  enableval=$enable_assert; assert=$enableval
 else
   assert=no
-fi;
+fi
 
+
 if test &quot;$assert&quot; = no; then
 
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
@@ -6748,54 +7259,27 @@
 
 fi
 
-          ac_config_files=&quot;$ac_config_files Makefile&quot;
+ac_config_files=&quot;$ac_config_files Makefile&quot;
 
 
 
-# Check whether --enable-alsa or --disable-alsa was given.
-if test &quot;${enable_alsa+set}&quot; = set; then
-  enableval=&quot;$enable_alsa&quot;
-  alsa=$enableval
-else
-  alsa=no
-fi;
-
-
-# Check whether --enable-oss or --disable-oss was given.
-if test &quot;${enable_oss+set}&quot; = set; then
-  enableval=&quot;$enable_oss&quot;
-  oss=$enableval
-else
-  oss=no
-fi;
-
-
-# Check whether --enable-portaudio or --disable-portaudio was given.
-if test &quot;${enable_portaudio+set}&quot; = set; then
-  enableval=&quot;$enable_portaudio&quot;
-  portaudio=$enableval
-else
-  portaudio=no
-fi;
-
-
-# Check whether --enable-g95 or --disable-g95 was given.
+# Check whether --enable-g95 was given.
 if test &quot;${enable_g95+set}&quot; = set; then
-  enableval=&quot;$enable_g95&quot;
-  g95=$enableval
+  enableval=$enable_g95; g95=$enableval
 else
   g95=no
-fi;
+fi
 
-# Check whether --enable-gfortran or --disable-gfortran was given.
+
+# Check whether --enable-gfortran was given.
 if test &quot;${enable_gfortran+set}&quot; = set; then
-  enableval=&quot;$enable_gfortran&quot;
-  gfortran=$enableval
+  enableval=$enable_gfortran; gfortran=$enableval
 else
   gfortran=no
-fi;
+fi
 
 
+
 if test &quot;$g95&quot; = yes; then
         FC_LIB_PATH=${G95_LIB_PATH}
 	FC=${G95}
@@ -6819,8 +7303,8 @@
 fi
 
 if test -z $FC ; then
-		{ { echo &quot;$as_me:$LINENO: error: You need g95 or gfortran&quot; &gt;&amp;5
-echo &quot;$as_me: error: You need g95 or gfortran&quot; &gt;&amp;2;}
+		{ { $as_echo &quot;$as_me:$LINENO: error: You need g95 or gfortran&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: You need g95 or gfortran&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
@@ -6842,124 +7326,250 @@
 
 
 
-if test &quot;$alsa&quot; != yes -a &quot;$oss&quot; != yes -a \
-	&quot;$portaudio&quot; != yes; then
-        if test $HAS_PORTAUDIO_H -eq 1; then
-		portaudio=yes;
-	elif test $HAS_ASOUNDLIB_H -eq 1; then
-		alsa=yes;
-	elif test $HAS_SOUNDCARD_H -eq 1; then
-		oss=yes;
-	fi
-fi
+{ $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio &quot; &gt;&amp;5
+$as_echo_n &quot;checking for a v19 portaudio ... &quot; &gt;&amp;6; }
 
-if test &quot;$alsa&quot; = yes; then
+portaudio_lib_dir=&quot;/usr/lib&quot;
+portaudio_include_dir=&quot;/usr/include&quot;
 
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define USE_ALSA 1
-_ACEOF
 
-	AUDIO=&quot;start_alsa.c&quot;
-
-	LIBS=&quot;${LIBS} -lasound&quot;
+# Check whether --with-portaudio-include-dir was given.
+if test &quot;${with_portaudio_include_dir+set}&quot; = set; then
+  withval=$with_portaudio_include_dir; portaudio_include_dir=$with_portaudio_include_dir
 fi
 
-if test &quot;$oss&quot; = yes; then
 
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define USE_OSS 1
-_ACEOF
 
-	AUDIO=&quot;start_oss.c&quot;
+# Check whether --with-portaudio-lib-dir was given.
+if test &quot;${with_portaudio_lib_dir+set}&quot; = set; then
+  withval=$with_portaudio_lib_dir; portaudio_lib_dir=$with_portaudio_lib_dir
+fi
 
+
+if test -e ${portaudio_include_dir}/portaudio.h; then
+	HAS_PORTAUDIO_H=1
 fi
 
-if test &quot;$portaudio&quot; = yes; then
+if test -e ${portaudio_lib_dir}/libportaudio.so \
+    -o -e ${portaudio_lib_dir}/libportaudio.a;then
+	HAS_PORTAUDIO_LIB=1
+fi
 
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define USE_PORTAUDIO 1
+if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
+	LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
+	LIBS=&quot;${LIBS} -lportaudio&quot;
+	CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
+	{ $as_echo &quot;$as_me:$LINENO: checking for Pa_GetVersion in -lportaudio&quot; &gt;&amp;5
+$as_echo_n &quot;checking for Pa_GetVersion in -lportaudio... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_lib_portaudio_Pa_GetVersion+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lportaudio  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
 _ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
 
-	AUDIO=&quot;a2d.f90 jtaudio.c resample.c start_portaudio.c&quot;
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+char Pa_GetVersion ();
+int
+main ()
+{
+return Pa_GetVersion ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
+  ac_cv_lib_portaudio_Pa_GetVersion=yes
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-	NEEDPORTAUDIO=&quot;portaudio-v19/lib/.libs/libportaudio.a&quot;
+	ac_cv_lib_portaudio_Pa_GetVersion=no
+fi
 
-	LIBS=&quot;${LIBS} ${RTLIBS} -lsamplerate ./portaudio-v19/lib/.libs/libportaudio.a&quot;
-	LIBS=&quot;${LIBS} ${ASOUNDLIBS}&quot;
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;6; }
+if test $ac_cv_lib_portaudio_Pa_GetVersion = yes; then
+  \
+		HAS_PORTAUDIO_VERSION=1
 else
-	NEEDPORTAUDIO=&quot;&quot;
-
+  HAS_PORTAUDIO_VERSION=0
 fi
 
+	if test $HAS_PORTAUDIO_VERSION -eq 0; then
+		{ $as_echo &quot;$as_me:$LINENO: result: This is likely portaudio v18; you need portaudio v19&quot; &gt;&amp;5
+$as_echo &quot;This is likely portaudio v18; you need portaudio v19&quot; &gt;&amp;6; }
+	else
+		HAS_PORTAUDIO=1
+	fi
+else
+	{ $as_echo &quot;$as_me:$LINENO: result: portaudio not found trying FreeBSD paths &quot; &gt;&amp;5
+$as_echo &quot;portaudio not found trying FreeBSD paths &quot; &gt;&amp;6; }
+	portaudio_lib_dir=&quot;/usr/local/lib/portaudio2&quot;
+	portaudio_include_dir=&quot;/usr/local/include/portaudio2&quot;
+	{ $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio in FreeBSD paths.&quot; &gt;&amp;5
+$as_echo_n &quot;checking for a v19 portaudio in FreeBSD paths.... &quot; &gt;&amp;6; }
+	HAS_PORTAUDIO_H=0
+	HAS_PORTAUDIO_LIB=0
 
-if test $HAS_ASOUNDLIB_H -eq 1; then
-	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define HAS_ASOUNDLIB_H 1
+	if test -e ${portaudio_include_dir}/portaudio.h; then
+		HAS_PORTAUDIO_H=1
+	fi
+
+	if test -e ${portaudio_lib_dir}/libportaudio.so \
+	    -o -e ${portaudio_lib_dir}/libportaudio.a;then
+		HAS_PORTAUDIO_LIB=1
+	fi
+
+	if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
+		{ $as_echo &quot;$as_me:$LINENO: result: found portaudio in FreeBSD paths, double checking it is v19 &quot; &gt;&amp;5
+$as_echo &quot;found portaudio in FreeBSD paths, double checking it is v19 &quot; &gt;&amp;6; }
+		LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
+		LIBS=&quot;${LIBS} -lportaudio&quot;
+		CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
+		{ $as_echo &quot;$as_me:$LINENO: checking for Pa_GetVersion in -lportaudio&quot; &gt;&amp;5
+$as_echo_n &quot;checking for Pa_GetVersion in -lportaudio... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_lib_portaudio_Pa_GetVersion+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lportaudio  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
 _ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
 
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+char Pa_GetVersion ();
+int
+main ()
+{
+return Pa_GetVersion ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
+  ac_cv_lib_portaudio_Pa_GetVersion=yes
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+	ac_cv_lib_portaudio_Pa_GetVersion=no
 fi
 
-if test $HAS_SOUNDCARD_H -eq 1; then
-	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define HAS_SOUNDCARD_H 1
-_ACEOF
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;6; }
+if test $ac_cv_lib_portaudio_Pa_GetVersion = yes; then
+  \
+			HAS_PORTAUDIO_VERSION=1
+else
+  HAS_PORTAUDIO_VERSION=0
+fi
 
+		if test $HAS_PORTAUDIO_VERSION -eq 0; then
+			{ $as_echo &quot;$as_me:$LINENO: result: How did you end up with a portaudio v18 here?&quot; &gt;&amp;5
+$as_echo &quot;How did you end up with a portaudio v18 here?&quot; &gt;&amp;6; }
+		else
+			{ $as_echo &quot;$as_me:$LINENO: result: found v19&quot; &gt;&amp;5
+$as_echo &quot;found v19&quot; &gt;&amp;6; }
+			HAS_PORTAUDIO=1
+			HAS_PORTAUDIO_H=1
+		fi
+	fi
 fi
 
-if test $HAS_JACK_H -eq 1; then
+
+if test $HAS_PORTAUDIO -eq 1; then
 	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define HAS_JACK_H 1
+#define HAS_PORTAUDIO 1
 _ACEOF
 
-fi
-
-if test $HAS_PORTAUDIO_H -eq 1; then
 	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define HAS_PORTAUDIO_H 1
 _ACEOF
 
-fi
-
-if test $HAS_SAMPLERATE_H -eq 1; then
-        cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define HAS_SAMPLERATE_H 1
+	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define HAS_PORTAUDIO_LIB 1
 _ACEOF
 
+else
+	fail=1
+	echo &quot;This program needs portaudio v19 to compile.&quot;
+	echo &quot;Please use --with-portaudio-include-dir= and&quot;
+	echo &quot; --with-portaudio-lib-dir= to set the paths.&quot;
 fi
 
-
-if test &quot;$alsa&quot; = yes; then
-	if test $HAS_ASOUNDLIB_H -eq 0; then
-		{ { echo &quot;$as_me:$LINENO: error: You need asoundlib.h to use --enable-alsa&quot; &gt;&amp;5
-echo &quot;$as_me: error: You need asoundlib.h to use --enable-alsa&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-	fi
-fi
-
-if test &quot;$oss&quot; = yes; then
-	if test $HAS_SOUNDCARD_H -eq 0; then
-		{ { echo &quot;$as_me:$LINENO: error: You need soundcard.h to use --enable-oss&quot; &gt;&amp;5
-echo &quot;$as_me: error: You need soundcard.h to use --enable-oss&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-	fi
-fi
-
-if test &quot;$portaudio&quot; = yes; then
-	if test $HAS_PORTAUDIO_H -eq 0; then
-		{ { echo &quot;$as_me:$LINENO: error: You need portaudio.h to use --enable-portaudio&quot; &gt;&amp;5
-echo &quot;$as_me: error: You need portaudio.h to use --enable-portaudio&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-	fi
-	if test $HAS_SAMPLERATE_H -eq 0; then
-		{ { echo &quot;$as_me:$LINENO: error: You need samplerate.h to use --enable-portaudio&quot; &gt;&amp;5
-echo &quot;$as_me: error: You need samplerate.h to use --enable-portaudio&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-	fi
-fi
-
 if test &quot;$F2PY&quot; = &quot;&quot;; then
-	{ { echo &quot;$as_me:$LINENO: error: You are missing f2py&quot; &gt;&amp;5
-echo &quot;$as_me: error: You are missing f2py&quot; &gt;&amp;2;}
+	{ { $as_echo &quot;$as_me:$LINENO: error: You are missing f2py&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: You are missing f2py&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
@@ -6989,39 +7599,59 @@
 
 # The following way of writing the cache mishandles newlines in values,
 # but we know of no workaround that is simple, portable, and efficient.
-# So, don't put newlines in cache variables' values.
+# So, we kill variables containing newlines.
 # Ultrix sh set writes to stderr and can't be redirected directly,
 # and sets the high bit in the cache file unless we assign to the vars.
-{
+(
+  for ac_var in `(set) 2&gt;&amp;1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { $as_echo &quot;$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline.&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: Cache variable $ac_var contains a newline.&quot; &gt;&amp;2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
+      *) $as_unset $ac_var ;;
+      esac ;;
+    esac
+  done
+
   (set) 2&gt;&amp;1 |
-    case `(ac_space=' '; set | grep ac_space) 2&gt;&amp;1` in
-    *ac_space=\ *)
+    case $as_nl`(ac_space=' '; set) 2&gt;&amp;1` in #(
+    *${as_nl}ac_space=\ *)
       # `set' does not quote correctly, so add quotes (double-quote
       # substitution turns \\\\ into \\, and sed turns \\ into \).
       sed -n \
 	&quot;s/'/'\\\\''/g;
 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p&quot;
-      ;;
+      ;; #(
     *)
       # `set' quotes correctly as required by POSIX, so do not add quotes.
-      sed -n \
-	&quot;s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p&quot;
+      sed -n &quot;/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p&quot;
       ;;
-    esac;
-} |
+    esac |
+    sort
+) |
   sed '
+     /^ac_cv_env_/b end
      t clear
-     : clear
+     :clear
      s/^\([^=]*\)=\(.*[{}].*\)$/test &quot;${\1+set}&quot; = set || &amp;/
      t end
-     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
-     : end' &gt;&gt;confcache
-if diff $cache_file confcache &gt;/dev/null 2&gt;&amp;1; then :; else
-  if test -w $cache_file; then
-    test &quot;x$cache_file&quot; != &quot;x/dev/null&quot; &amp;&amp; echo &quot;updating cache $cache_file&quot;
+     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
+     :end' &gt;&gt;confcache
+if diff &quot;$cache_file&quot; confcache &gt;/dev/null 2&gt;&amp;1; then :; else
+  if test -w &quot;$cache_file&quot;; then
+    test &quot;x$cache_file&quot; != &quot;x/dev/null&quot; &amp;&amp;
+      { $as_echo &quot;$as_me:$LINENO: updating cache $cache_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: updating cache $cache_file&quot; &gt;&amp;6;}
     cat confcache &gt;$cache_file
   else
-    echo &quot;not updating unwritable cache $cache_file&quot;
+    { $as_echo &quot;$as_me:$LINENO: not updating unwritable cache $cache_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: not updating unwritable cache $cache_file&quot; &gt;&amp;6;}
   fi
 fi
 rm -f confcache
@@ -7030,63 +7660,54 @@
 # Let make expand exec_prefix.
 test &quot;x$exec_prefix&quot; = xNONE &amp;&amp; exec_prefix='${prefix}'
 
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is &quot;.&quot;, strip leading and
-# trailing colons and then remove the whole line if VPATH becomes empty
-# (actually we leave an empty line to preserve line numbers).
-if test &quot;x$srcdir&quot; = x.; then
-  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
-s/:*\$(srcdir):*/:/;
-s/:*\${srcdir}:*/:/;
-s/:*@srcdir@:*/:/;
-s/^\([^=]*=[	 ]*\):*/\1/;
-s/:*$//;
-s/^[^=]*=[	 ]*$//;
-}'
-fi
-
 # Transform confdefs.h into DEFS.
 # Protect against shell expansion while executing Makefile rules.
 # Protect against Makefile macro expansion.
 #
 # If the first sed substitution is executed (which looks for macros that
-# take arguments), then we branch to the quote section.  Otherwise,
+# take arguments), then branch to the quote section.  Otherwise,
 # look for a macro that doesn't take arguments.
-cat &gt;confdef2opt.sed &lt;&lt;\_ACEOF
+ac_script='
+:mline
+/\\$/{
+ N
+ s,\\\n,,
+ b mline
+}
 t clear
-: clear
-s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*([^)]*)\)[	 ]*\(.*\),-D\1=\2,g
+:clear
+s/^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*([^)]*)\)[	 ]*\(.*\)/-D\1=\2/g
 t quote
-s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\),-D\1=\2,g
+s/^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)/-D\1=\2/g
 t quote
-d
-: quote
-s,[	 `~#$^&amp;*(){}\\|;'&quot;&lt;&gt;?],\\&amp;,g
-s,\[,\\&amp;,g
-s,\],\\&amp;,g
-s,\$,$$,g
-p
-_ACEOF
-# We use echo to avoid assuming a particular line-breaking character.
-# The extra dot is to prevent the shell from consuming trailing
-# line-breaks from the sub-command output.  A line-break within
-# single-quotes doesn't work because, if this script is created in a
-# platform that uses two characters for line-breaks (e.g., DOS), tr
-# would break.
-ac_LF_and_DOT=`echo; echo .`
-DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr &quot;$ac_LF_and_DOT&quot; ' .'`
-rm -f confdef2opt.sed
+b any
+:quote
+s/[	 `~#$^&amp;*(){}\\|;'\''&quot;&lt;&gt;?]/\\&amp;/g
+s/\[/\\&amp;/g
+s/\]/\\&amp;/g
+s/\$/$$/g
+H
+:any
+${
+	g
+	s/^\n//
+	s/\n/ /g
+	p
+}
+'
+DEFS=`sed -n &quot;$ac_script&quot; confdefs.h`
 
 
 ac_libobjs=
 ac_ltlibobjs=
 for ac_i in : $LIBOBJS; do test &quot;x$ac_i&quot; = x: &amp;&amp; continue
   # 1. Remove the extension, and $U if already installed.
-  ac_i=`echo &quot;$ac_i&quot; |
-	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
-  # 2. Add them.
-  ac_libobjs=&quot;$ac_libobjs $ac_i\$U.$ac_objext&quot;
-  ac_ltlibobjs=&quot;$ac_ltlibobjs $ac_i&quot;'$U.lo'
+  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
+  ac_i=`$as_echo &quot;$ac_i&quot; | sed &quot;$ac_script&quot;`
+  # 2. Prepend LIBOBJDIR.  When used with automake&gt;=1.10 LIBOBJDIR
+  #    will be set to the directory where LIBOBJS objects are built.
+  ac_libobjs=&quot;$ac_libobjs \${LIBOBJDIR}$ac_i\$U.$ac_objext&quot;
+  ac_ltlibobjs=&quot;$ac_ltlibobjs \${LIBOBJDIR}$ac_i&quot;'$U.lo'
 done
 LIBOBJS=$ac_libobjs
 
@@ -7095,11 +7716,12 @@
 
 
 : ${CONFIG_STATUS=./config.status}
+ac_write_fail=0
 ac_clean_files_save=$ac_clean_files
 ac_clean_files=&quot;$ac_clean_files $CONFIG_STATUS&quot;
-{ echo &quot;$as_me:$LINENO: creating $CONFIG_STATUS&quot; &gt;&amp;5
-echo &quot;$as_me: creating $CONFIG_STATUS&quot; &gt;&amp;6;}
-cat &gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+{ $as_echo &quot;$as_me:$LINENO: creating $CONFIG_STATUS&quot; &gt;&amp;5
+$as_echo &quot;$as_me: creating $CONFIG_STATUS&quot; &gt;&amp;6;}
+cat &gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
 #! $SHELL
 # Generated by $as_me.
 # Run this file to recreate the current configuration.
@@ -7112,23 +7734,79 @@
 SHELL=\${CONFIG_SHELL-$SHELL}
 _ACEOF
 
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
 ## --------------------- ##
 ## M4sh Initialization.  ##
 ## --------------------- ##
 
-# Be Bourne compatible
+# Be more Bourne compatible
+DUALCASE=1; export DUALCASE # for MKS sh
 if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
   emulate sh
   NULLCMD=:
-  # Zsh 3.x and 4.x performs word splitting on ${1+&quot;$@&quot;}, which
+  # Pre-4.2 versions of Zsh do word splitting on ${1+&quot;$@&quot;}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
-elif test -n &quot;${BASH_VERSION+set}&quot; &amp;&amp; (set -o posix) &gt;/dev/null 2&gt;&amp;1; then
-  set -o posix
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2&gt;/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
 fi
-DUALCASE=1; export DUALCASE # for MKS sh
 
+
+
+
+# PATH needs CR
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+as_nl='
+'
+export as_nl
+# Printing a long string crashes Solaris 7 /usr/bin/printf.
+as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
+as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
+as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
+if (test &quot;X`printf %s $as_echo`&quot; = &quot;X$as_echo&quot;) 2&gt;/dev/null; then
+  as_echo='printf %s\n'
+  as_echo_n='printf %s'
+else
+  if test &quot;X`(/usr/ucb/echo -n -n $as_echo) 2&gt;/dev/null`&quot; = &quot;X-n $as_echo&quot;; then
+    as_echo_body='eval /usr/ucb/echo -n &quot;$1$as_nl&quot;'
+    as_echo_n='/usr/ucb/echo -n'
+  else
+    as_echo_body='eval expr &quot;X$1&quot; : &quot;X\\(.*\\)&quot;'
+    as_echo_n_body='eval
+      arg=$1;
+      case $arg in
+      *&quot;$as_nl&quot;*)
+	expr &quot;X$arg&quot; : &quot;X\\(.*\\)$as_nl&quot;;
+	arg=`expr &quot;X$arg&quot; : &quot;.*$as_nl\\(.*\\)&quot;`;;
+      esac;
+      expr &quot;X$arg&quot; : &quot;X\\(.*\\)&quot; | tr -d &quot;$as_nl&quot;
+    '
+    export as_echo_n_body
+    as_echo_n='sh -c $as_echo_n_body as_echo'
+  fi
+  export as_echo_body
+  as_echo='sh -c $as_echo_body as_echo'
+fi
+
+# The user is always right.
+if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
+  PATH_SEPARATOR=:
+  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; {
+    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) &gt;/dev/null 2&gt;&amp;1 ||
+      PATH_SEPARATOR=';'
+  }
+fi
+
 # Support unset when possible.
 if ( (MAIL=60; unset MAIL) || exit) &gt;/dev/null 2&gt;&amp;1; then
   as_unset=unset
@@ -7137,33 +7815,60 @@
 fi
 
 
+# IFS
+# We need space, tab and new line, in precisely that order.  Quoting is
+# there to prevent editors from complaining about space-tab.
+# (If _AS_PATH_WALK were called with IFS unset, it would disable word
+# splitting by setting IFS to empty value.)
+IFS=&quot; &quot;&quot;	$as_nl&quot;
+
+# Find who we are.  Look in the path if we contain no directory separator.
+case $0 in
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
+done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test &quot;x$as_myself&quot; = x; then
+  as_myself=$0
+fi
+if test ! -f &quot;$as_myself&quot;; then
+  $as_echo &quot;$as_myself: error: cannot find myself; rerun with an absolute file name&quot; &gt;&amp;2
+  { (exit 1); exit 1; }
+fi
+
 # Work around bugs in pre-3.0 UWIN ksh.
-$as_unset ENV MAIL MAILPATH
+for as_var in ENV MAIL MAILPATH
+do ($as_unset $as_var) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; $as_unset $as_var
+done
 PS1='$ '
 PS2='&gt; '
 PS4='+ '
 
 # NLS nuisances.
-for as_var in \
-  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
-  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
-  LC_TELEPHONE LC_TIME
-do
-  if (set +x; test -z &quot;`(eval $as_var=C; export $as_var) 2&gt;&amp;1`&quot;); then
-    eval $as_var=C; export $as_var
-  else
-    $as_unset $as_var
-  fi
-done
+LC_ALL=C
+export LC_ALL
+LANGUAGE=C
+export LANGUAGE
 
 # Required to use basename.
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+   test &quot;X`expr 00001 : '.*\(...\)'`&quot; = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
+if (basename -- /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename -- / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
   as_basename=basename
 else
   as_basename=false
@@ -7171,159 +7876,122 @@
 
 
 # Name of the executable.
-as_me=`$as_basename &quot;$0&quot; ||
+as_me=`$as_basename -- &quot;$0&quot; ||
 $as_expr X/&quot;$0&quot; : '.*/\([^/][^/]*\)/*$' \| \
 	 X&quot;$0&quot; : 'X\(//\)$' \| \
-	 X&quot;$0&quot; : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X/&quot;$0&quot; |
-    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
-  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\/\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
+	 X&quot;$0&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
+$as_echo X/&quot;$0&quot; |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
 
+# CDPATH.
+$as_unset CDPATH
 
-# PATH needs CR, and LINENO needs CR and PATH.
-# Avoid depending upon Character Ranges.
-as_cr_letters='abcdefghijklmnopqrstuvwxyz'
-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
-as_cr_Letters=$as_cr_letters$as_cr_LETTERS
-as_cr_digits='0123456789'
-as_cr_alnum=$as_cr_Letters$as_cr_digits
 
-# The user is always right.
-if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
-  echo &quot;#! /bin/sh&quot; &gt;conf$$.sh
-  echo  &quot;exit 0&quot;   &gt;&gt;conf$$.sh
-  chmod +x conf$$.sh
-  if (PATH=&quot;/nonexistent;.&quot;; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; then
-    PATH_SEPARATOR=';'
-  else
-    PATH_SEPARATOR=:
-  fi
-  rm -f conf$$.sh
-fi
 
-
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
   test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot;  || {
-  # Find who we are.  Look in the path if we contain no path at all
-  # relative or not.
-  case $0 in
-    *[\\/]* ) as_myself=$0 ;;
-    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
-done
+  test &quot;x`expr $as_lineno_1 + 1`&quot; = &quot;x$as_lineno_2&quot; || {
 
-       ;;
-  esac
-  # We did not find ourselves, most probably we were run as `sh COMMAND'
-  # in which case we are not to be found in the path.
-  if test &quot;x$as_myself&quot; = x; then
-    as_myself=$0
-  fi
-  if test ! -f &quot;$as_myself&quot;; then
-    { { echo &quot;$as_me:$LINENO: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-  fi
-  case $CONFIG_SHELL in
-  '')
-    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for as_base in sh bash ksh sh5; do
-	 case $as_dir in
-	 /*)
-	   if (&quot;$as_dir/$as_base&quot; -c '
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
-  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot; ') 2&gt;/dev/null; then
-	     $as_unset BASH_ENV || test &quot;${BASH_ENV+set}&quot; != set || { BASH_ENV=; export BASH_ENV; }
-	     $as_unset ENV || test &quot;${ENV+set}&quot; != set || { ENV=; export ENV; }
-	     CONFIG_SHELL=$as_dir/$as_base
-	     export CONFIG_SHELL
-	     exec &quot;$CONFIG_SHELL&quot; &quot;$0&quot; ${1+&quot;$@&quot;}
-	   fi;;
-	 esac
-       done
-done
-;;
-  esac
-
   # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
   # uniformly replaced by the line number.  The first 'sed' inserts a
-  # line-number line before each line; the second 'sed' does the real
-  # work.  The second script uses 'N' to pair each line-number line
-  # with the numbered line, and appends trailing '-' during
-  # substitution so that $LINENO is not a special case at line end.
+  # line-number line after each line using $LINENO; the second 'sed'
+  # does the real work.  The second script uses 'N' to pair each
+  # line-number line with the line containing $LINENO, and appends
+  # trailing '-' during substitution so that $LINENO is not a special
+  # case at line end.
   # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
-  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
-  sed '=' &lt;$as_myself |
+  # scripts with optimization help from Paolo Bonzini.  Blame Lee
+  # E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' &lt;$as_myself |
     sed '
+      s/[$]LINENO.*/&amp;-/
+      t lineno
+      b
+      :lineno
       N
-      s,$,-,
-      : loop
-      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      :loop
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
       t loop
-      s,-$,,
-      s,^['$as_cr_digits']*\n,,
+      s/-\n.*//
     ' &gt;$as_me.lineno &amp;&amp;
-  chmod +x $as_me.lineno ||
-    { { echo &quot;$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2;}
+  chmod +x &quot;$as_me.lineno&quot; ||
+    { $as_echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2
    { (exit 1); exit 1; }; }
 
   # Don't try to exec as it changes $[0], causing all sort of problems
   # (the dirname of $[0] is not the place where we might find the
-  # original and so on.  Autoconf is especially sensible to this).
-  . ./$as_me.lineno
+  # original and so on.  Autoconf is especially sensitive to this).
+  . &quot;./$as_me.lineno&quot;
   # Exit status is that of the last command.
   exit
 }
 
 
-case `echo &quot;testing\c&quot;; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
-  *c*,-n*) ECHO_N= ECHO_C='
-' ECHO_T='	' ;;
-  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
-  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+if (as_dir=`dirname -- /` &amp;&amp; test &quot;X$as_dir&quot; = X/) &gt;/dev/null 2&gt;&amp;1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in
+-n*)
+  case `echo 'x\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  *)   ECHO_C='\c';;
+  esac;;
+*)
+  ECHO_N='-n';;
 esac
-
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+   test &quot;X`expr 00001 : '.*\(...\)'`&quot; = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
 rm -f conf$$ conf$$.exe conf$$.file
-echo &gt;conf$$.file
-if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
-  # We could just check for DJGPP; but this test a) works b) is more generic
-  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
-  if test -f conf$$.exe; then
-    # Don't use ln at all; we don't have any links
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir 2&gt;/dev/null
+fi
+if (echo &gt;conf$$.file) 2&gt;/dev/null; then
+  if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
+    as_ln_s='ln -s'
+    # ... but there are two gotchas:
+    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+    # 2) DJGPP &lt; 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+    # In both cases, we have to default to `cp -p'.
+    ln -s conf$$.file conf$$.dir 2&gt;/dev/null &amp;&amp; test ! -f conf$$.exe ||
+      as_ln_s='cp -p'
+  elif ln conf$$.file conf$$ 2&gt;/dev/null; then
+    as_ln_s=ln
+  else
     as_ln_s='cp -p'
-  else
-    as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2&gt;/dev/null; then
-  as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
-rm -f conf$$ conf$$.exe conf$$.file
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2&gt;/dev/null
 
 if mkdir -p . 2&gt;/dev/null; then
   as_mkdir_p=:
@@ -7332,7 +8000,28 @@
   as_mkdir_p=false
 fi
 
-as_executable_p=&quot;test -f&quot;
+if test -x / &gt;/dev/null 2&gt;&amp;1; then
+  as_test_x='test -x'
+else
+  if ls -dL / &gt;/dev/null 2&gt;&amp;1; then
+    as_ls_L_option=L
+  else
+    as_ls_L_option=
+  fi
+  as_test_x='
+    eval sh -c '\''
+      if test -d &quot;$1&quot;; then
+	test -d &quot;$1/.&quot;;
+      else
+	case $1 in
+	-*)set &quot;./$1&quot;;;
+	esac;
+	case `ls -ld'$as_ls_L_option' &quot;$1&quot; 2&gt;/dev/null` in
+	???[sx]*):;;*)false;;esac;fi
+    '\'' sh
+  '
+fi
+as_executable_p=$as_test_x
 
 # Sed expression to map a string onto a valid CPP name.
 as_tr_cpp=&quot;eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'&quot;
@@ -7341,62 +8030,33 @@
 as_tr_sh=&quot;eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'&quot;
 
 
-# IFS
-# We need space, tab and new line, in precisely that order.
-as_nl='
-'
-IFS=&quot; 	$as_nl&quot;
-
-# CDPATH.
-$as_unset CDPATH
-
 exec 6&gt;&amp;1
 
-# Open the log real soon, to keep \$[0] and so on meaningful, and to
+# Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
-# values after options handling.  Logging --version etc. is OK.
-exec 5&gt;&gt;config.log
-{
-  echo
-  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' &lt;&lt;_ASBOX
-## Running $as_me. ##
-_ASBOX
-} &gt;&amp;5
-cat &gt;&amp;5 &lt;&lt;_CSEOF
+# values after options handling.
+ac_log=&quot;
+This file was extended by map65 $as_me 0.9, which was
+generated by GNU Autoconf 2.62.  Invocation command line was
 
-This file was extended by wsjt $as_me 5.9.6, which was
-generated by GNU Autoconf 2.59.  Invocation command line was
-
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
   $ $0 $@
 
-_CSEOF
-echo &quot;on `(hostname || uname -n) 2&gt;/dev/null | sed 1q`&quot; &gt;&amp;5
-echo &gt;&amp;5
+on `(hostname || uname -n) 2&gt;/dev/null | sed 1q`
+&quot;
+
 _ACEOF
 
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
 # Files that config.status was made for.
-if test -n &quot;$ac_config_files&quot;; then
-  echo &quot;config_files=\&quot;$ac_config_files\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
+config_files=&quot;$ac_config_files&quot;
 
-if test -n &quot;$ac_config_headers&quot;; then
-  echo &quot;config_headers=\&quot;$ac_config_headers\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
+_ACEOF
 
-if test -n &quot;$ac_config_links&quot;; then
-  echo &quot;config_links=\&quot;$ac_config_links\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
-
-if test -n &quot;$ac_config_commands&quot;; then
-  echo &quot;config_commands=\&quot;$ac_config_commands\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
 ac_cs_usage=&quot;\
 \`$as_me' instantiates files from templates according to the
 current configuration.
@@ -7404,94 +8064,81 @@
 Usage: $0 [OPTIONS] [FILE]...
 
   -h, --help       print this help, then exit
-  -V, --version    print version number, then exit
+  -V, --version    print version number and configuration settings, then exit
   -q, --quiet      do not print progress messages
   -d, --debug      don't remove temporary files
       --recheck    update $as_me by reconfiguring in the same conditions
   --file=FILE[:TEMPLATE]
-		   instantiate the configuration file FILE
+                   instantiate the configuration file FILE
 
 Configuration files:
 $config_files
 
 Report bugs to &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">bug-autoconf at gnu.org</A>&gt;.&quot;
+
 _ACEOF
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
 ac_cs_version=&quot;\\
-wsjt config.status 5.9.6
-configured by $0, generated by GNU Autoconf 2.59,
-  with options \\&quot;`echo &quot;$ac_configure_args&quot; | sed 's/[\\&quot;&quot;\`\$]/\\\\&amp;/g'`\\&quot;
+map65 config.status 0.9
+configured by $0, generated by GNU Autoconf 2.62,
+  with options \\&quot;`$as_echo &quot;$ac_configure_args&quot; | sed 's/^ //; s/[\\&quot;&quot;\`\$]/\\\\&amp;/g'`\\&quot;
 
-Copyright (C) 2003 Free Software Foundation, Inc.
+Copyright (C) 2008 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.&quot;
-srcdir=$srcdir
-INSTALL=&quot;$INSTALL&quot;
+
+ac_pwd='$ac_pwd'
+srcdir='$srcdir'
+INSTALL='$INSTALL'
+test -n &quot;\$AWK&quot; || AWK=awk
 _ACEOF
 
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-# If no file are specified by the user, then we need to provide default
-# value.  By we need to know if files were specified by the user.
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
+# The default lists apply if the user does not specify any file.
 ac_need_defaults=:
 while test $# != 0
 do
   case $1 in
   --*=*)
-    ac_option=`expr &quot;x$1&quot; : 'x\([^=]*\)='`
-    ac_optarg=`expr &quot;x$1&quot; : 'x[^=]*=\(.*\)'`
+    ac_option=`expr &quot;X$1&quot; : 'X\([^=]*\)='`
+    ac_optarg=`expr &quot;X$1&quot; : 'X[^=]*=\(.*\)'`
     ac_shift=:
     ;;
-  -*)
+  *)
     ac_option=$1
     ac_optarg=$2
     ac_shift=shift
     ;;
-  *) # This is not an option, so the user has probably given explicit
-     # arguments.
-     ac_option=$1
-     ac_need_defaults=false;;
   esac
 
   case $ac_option in
   # Handling of the options.
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
     ac_cs_recheck=: ;;
-  --version | --vers* | -V )
-    echo &quot;$ac_cs_version&quot;; exit 0 ;;
-  --he | --h)
-    # Conflict between --help and --header
-    { { echo &quot;$as_me:$LINENO: error: ambiguous option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;5
-echo &quot;$as_me: error: ambiguous option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; };;
-  --help | --hel | -h )
-    echo &quot;$ac_cs_usage&quot;; exit 0 ;;
-  --debug | --d* | -d )
+  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
+    $as_echo &quot;$ac_cs_version&quot;; exit ;;
+  --debug | --debu | --deb | --de | --d | -d )
     debug=: ;;
   --file | --fil | --fi | --f )
     $ac_shift
-    CONFIG_FILES=&quot;$CONFIG_FILES $ac_optarg&quot;
+    case $ac_optarg in
+    *\'*) ac_optarg=`$as_echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
+    esac
+    CONFIG_FILES=&quot;$CONFIG_FILES '$ac_optarg'&quot;
     ac_need_defaults=false;;
-  --header | --heade | --head | --hea )
-    $ac_shift
-    CONFIG_HEADERS=&quot;$CONFIG_HEADERS $ac_optarg&quot;
-    ac_need_defaults=false;;
+  --he | --h |  --help | --hel | -h )
+    $as_echo &quot;$ac_cs_usage&quot;; exit ;;
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil | --si | --s)
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) { { echo &quot;$as_me:$LINENO: error: unrecognized option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;5
-echo &quot;$as_me: error: unrecognized option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;2;}
+  -*) { $as_echo &quot;$as_me: error: unrecognized option: $1
+Try \`$0 --help' for more information.&quot; &gt;&amp;2
    { (exit 1); exit 1; }; } ;;
 
-  *) ac_config_targets=&quot;$ac_config_targets $1&quot; ;;
+  *) ac_config_targets=&quot;$ac_config_targets $1&quot;
+     ac_need_defaults=false ;;
 
   esac
   shift
@@ -7505,30 +8152,46 @@
 fi
 
 _ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
 if \$ac_cs_recheck; then
-  echo &quot;running $SHELL $0 &quot; $ac_configure_args \$ac_configure_extra_args &quot; --no-create --no-recursion&quot; &gt;&amp;6
-  exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+  set X '$SHELL' '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+  shift
+  \$as_echo &quot;running CONFIG_SHELL=$SHELL \$*&quot; &gt;&amp;6
+  CONFIG_SHELL='$SHELL'
+  export CONFIG_SHELL
+  exec &quot;\$@&quot;
 fi
 
 _ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
+exec 5&gt;&gt;config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' &lt;&lt;_ASBOX
+## Running $as_me. ##
+_ASBOX
+  $as_echo &quot;$ac_log&quot;
+} &gt;&amp;5
 
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
+_ACEOF
 
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
 
-
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+# Handling of arguments.
 for ac_config_target in $ac_config_targets
 do
-  case &quot;$ac_config_target&quot; in
-  # Handling of arguments.
-  &quot;Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES Makefile&quot; ;;
-  *) { { echo &quot;$as_me:$LINENO: error: invalid argument: $ac_config_target&quot; &gt;&amp;5
-echo &quot;$as_me: error: invalid argument: $ac_config_target&quot; &gt;&amp;2;}
+  case $ac_config_target in
+    &quot;Makefile&quot;) CONFIG_FILES=&quot;$CONFIG_FILES Makefile&quot; ;;
+
+  *) { { $as_echo &quot;$as_me:$LINENO: error: invalid argument: $ac_config_target&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: invalid argument: $ac_config_target&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; };;
   esac
 done
 
+
 # If the user did not use the arguments to specify the items to instantiate,
 # then the envvar interface is used.  Set only those that are not.
 # We use the long form for the default assignment because of an extremely
@@ -7538,357 +8201,469 @@
 fi
 
 # Have a temporary directory for convenience.  Make it in the build tree
-# simply because there is no reason to put it here, and in addition,
+# simply because there is no reason against having it here, and in addition,
 # creating and moving files from /tmp can sometimes cause problems.
-# Create a temporary directory, and hook for its removal unless debugging.
+# Hook for its removal unless debugging.
+# Note that there is a small window in which the directory will not be cleaned:
+# after its creation but before its name has been assigned to `$tmp'.
 $debug ||
 {
-  trap 'exit_status=$?; rm -rf $tmp &amp;&amp; exit $exit_status' 0
+  tmp=
+  trap 'exit_status=$?
+  { test -z &quot;$tmp&quot; || test ! -d &quot;$tmp&quot; || rm -fr &quot;$tmp&quot;; } &amp;&amp; exit $exit_status
+' 0
   trap '{ (exit 1); exit 1; }' 1 2 13 15
 }
-
 # Create a (secure) tmp directory for tmp files.
 
 {
-  tmp=`(umask 077 &amp;&amp; mktemp -d -q &quot;./confstatXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
+  tmp=`(umask 077 &amp;&amp; mktemp -d &quot;./confXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
   test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot;
 }  ||
 {
-  tmp=./confstat$$-$RANDOM
-  (umask 077 &amp;&amp; mkdir $tmp)
+  tmp=./conf$$-$RANDOM
+  (umask 077 &amp;&amp; mkdir &quot;$tmp&quot;)
 } ||
 {
-   echo &quot;$me: cannot create a temporary directory in .&quot; &gt;&amp;2
+   $as_echo &quot;$as_me: cannot create a temporary directory in .&quot; &gt;&amp;2
    { (exit 1); exit 1; }
 }
 
+# Set up the scripts for CONFIG_FILES section.
+# No need to generate them if there are no CONFIG_FILES.
+# This happens for instance with `./config.status config.h'.
+if test -n &quot;$CONFIG_FILES&quot;; then
+
+
+ac_cr='
'
+ac_cs_awk_cr=`$AWK 'BEGIN { print &quot;a\rb&quot; }' &lt;/dev/null 2&gt;/dev/null`
+if test &quot;$ac_cs_awk_cr&quot; = &quot;a${ac_cr}b&quot;; then
+  ac_cs_awk_cr='\\r'
+else
+  ac_cs_awk_cr=$ac_cr
+fi
+
+echo 'BEGIN {' &gt;&quot;$tmp/subs1.awk&quot; &amp;&amp;
 _ACEOF
 
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
 
-#
-# CONFIG_FILES section.
-#
+{
+  echo &quot;cat &gt;conf$$subs.awk &lt;&lt;_ACEOF&quot; &amp;&amp;
+  echo &quot;$ac_subst_vars&quot; | sed 's/.*/&amp;!$&amp;$ac_delim/' &amp;&amp;
+  echo &quot;_ACEOF&quot;
+} &gt;conf$$subs.sh ||
+  { { $as_echo &quot;$as_me:$LINENO: error: could not make $CONFIG_STATUS&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not make $CONFIG_STATUS&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+ac_delim_num=`echo &quot;$ac_subst_vars&quot; | grep -c '$'`
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  . ./conf$$subs.sh ||
+    { { $as_echo &quot;$as_me:$LINENO: error: could not make $CONFIG_STATUS&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not make $CONFIG_STATUS&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
 
-# No need to generate the scripts if there are no CONFIG_FILES.
-# This happens for instance when ./config.status config.h
-if test -n &quot;\$CONFIG_FILES&quot;; then
-  # Protect against being on the right side of a sed subst in config.status.
-  sed 's/,@/@@/; s/@,/@@/; s/,;t t\$/@;t t/; /@;t t\$/s/[\\\\&amp;,]/\\\\&amp;/g;
-   s/@@/,@/; s/@@/@,/; s/@;t t\$/,;t t/' &gt;\$tmp/subs.sed &lt;&lt;\\CEOF
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at SHELL</A>@,$SHELL,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PATH_SEPARATOR</A>@,$PATH_SEPARATOR,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PACKAGE_NAME</A>@,$PACKAGE_NAME,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PACKAGE_TARNAME</A>@,$PACKAGE_TARNAME,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PACKAGE_VERSION</A>@,$PACKAGE_VERSION,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PACKAGE_STRING</A>@,$PACKAGE_STRING,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PACKAGE_BUGREPORT</A>@,$PACKAGE_BUGREPORT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at exec_prefix</A>@,$exec_prefix,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at prefix</A>@,$prefix,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at program_transform_name</A>@,$program_transform_name,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at bindir</A>@,$bindir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at sbindir</A>@,$sbindir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at libexecdir</A>@,$libexecdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at datadir</A>@,$datadir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at sysconfdir</A>@,$sysconfdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at sharedstatedir</A>@,$sharedstatedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at localstatedir</A>@,$localstatedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at libdir</A>@,$libdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at includedir</A>@,$includedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at oldincludedir</A>@,$oldincludedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at infodir</A>@,$infodir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at mandir</A>@,$mandir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at build_alias</A>@,$build_alias,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at host_alias</A>@,$host_alias,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at target_alias</A>@,$target_alias,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at DEFS</A>@,$DEFS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at ECHO_C</A>@,$ECHO_C,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at ECHO_N</A>@,$ECHO_N,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at ECHO_T</A>@,$ECHO_T,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at LIBS</A>@,$LIBS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at CC</A>@,$CC,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at CFLAGS</A>@,$CFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at LDFLAGS</A>@,$LDFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at CPPFLAGS</A>@,$CPPFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at ac_ct_CC</A>@,$ac_ct_CC,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at EXEEXT</A>@,$EXEEXT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at OBJEXT</A>@,$OBJEXT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at F77</A>@,$F77,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at FFLAGS</A>@,$FFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at ac_ct_F77</A>@,$ac_ct_F77,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at CPP</A>@,$CPP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at EGREP</A>@,$EGREP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at SET_MAKE</A>@,$SET_MAKE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at INSTALL_PROGRAM</A>@,$INSTALL_PROGRAM,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at INSTALL_SCRIPT</A>@,$INSTALL_SCRIPT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at INSTALL_DATA</A>@,$INSTALL_DATA,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at RM</A>@,$RM,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at CP</A>@,$CP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at MV</A>@,$MV,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at LN</A>@,$LN,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at SED</A>@,$SED,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at AR</A>@,$AR,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at LD</A>@,$LD,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at TEST</A>@,$TEST,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at PYTHON</A>@,$PYTHON,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at F2PY</A>@,$F2PY,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at G95</A>@,$G95,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at GFORTRAN</A>@,$GFORTRAN,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at OS</A>@,$OS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at CLOBBER</A>@,$CLOBBER,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at FC_LIB_PATH</A>@,$FC_LIB_PATH,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at FC</A>@,$FC,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at AUDIO</A>@,$AUDIO,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at NEEDPORTAUDIO</A>@,$NEEDPORTAUDIO,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at LIBOBJS</A>@,$LIBOBJS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at LTLIBOBJS</A>@,$LTLIBOBJS,;t t
-CEOF
+  if test `sed -n &quot;s/.*$ac_delim\$/X/p&quot; conf$$subs.awk | grep -c X` = $ac_delim_num; then
+    break
+  elif $ac_last_try; then
+    { { $as_echo &quot;$as_me:$LINENO: error: could not make $CONFIG_STATUS&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not make $CONFIG_STATUS&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim=&quot;$ac_delim!$ac_delim _$ac_delim!! &quot;
+  fi
+done
+rm -f conf$$subs.sh
 
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
+cat &gt;&gt;&quot;\$tmp/subs1.awk&quot; &lt;&lt;\\_ACAWK &amp;&amp;
 _ACEOF
+sed -n '
+h
+s/^/S[&quot;/; s/!.*/&quot;]=/
+p
+g
+s/^[^!]*!//
+:repl
+t repl
+s/'&quot;$ac_delim&quot;'$//
+t delim
+:nl
+h
+s/\(.\{148\}\).*/\1/
+t more1
+s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/\\n&quot;\\/
+p
+n
+b repl
+:more1
+s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/&quot;\\/
+p
+g
+s/.\{148\}//
+t nl
+:delim
+h
+s/\(.\{148\}\).*/\1/
+t more2
+s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/&quot;/
+p
+b
+:more2
+s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/&quot;\\/
+p
+g
+s/.\{148\}//
+t delim
+' &lt;conf$$subs.awk | sed '
+/^[^&quot;&quot;]/{
+  N
+  s/\n//
+}
+' &gt;&gt;$CONFIG_STATUS || ac_write_fail=1
+rm -f conf$$subs.awk
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
+_ACAWK
+cat &gt;&gt;&quot;\$tmp/subs1.awk&quot; &lt;&lt;_ACAWK &amp;&amp;
+  for (key in S) S_is_set[key] = 1
+  FS = &quot;&quot;
 
-  cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-  # Split the substitutions into bite-sized pieces for seds with
-  # small command number limits, like on Digital OSF/1 and HP-UX.
-  ac_max_sed_lines=48
-  ac_sed_frag=1 # Number of current file.
-  ac_beg=1 # First line for current file.
-  ac_end=$ac_max_sed_lines # Line after last line for current file.
-  ac_more_lines=:
-  ac_sed_cmds=
-  while $ac_more_lines; do
-    if test $ac_beg -gt 1; then
-      sed &quot;1,${ac_beg}d; ${ac_end}q&quot; $tmp/subs.sed &gt;$tmp/subs.frag
-    else
-      sed &quot;${ac_end}q&quot; $tmp/subs.sed &gt;$tmp/subs.frag
-    fi
-    if test ! -s $tmp/subs.frag; then
-      ac_more_lines=false
-    else
-      # The purpose of the label and of the branching condition is to
-      # speed up the sed processing (if there are no `@' at all, there
-      # is no need to browse any of the substitutions).
-      # These are the two extra sed commands mentioned above.
-      (echo ':t
-  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' &amp;&amp; cat $tmp/subs.frag) &gt;$tmp/subs-$ac_sed_frag.sed
-      if test -z &quot;$ac_sed_cmds&quot;; then
-	ac_sed_cmds=&quot;sed -f $tmp/subs-$ac_sed_frag.sed&quot;
-      else
-	ac_sed_cmds=&quot;$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed&quot;
-      fi
-      ac_sed_frag=`expr $ac_sed_frag + 1`
-      ac_beg=$ac_end
-      ac_end=`expr $ac_end + $ac_max_sed_lines`
-    fi
-  done
-  if test -z &quot;$ac_sed_cmds&quot;; then
-    ac_sed_cmds=cat
-  fi
+}
+{
+  line = $ 0
+  nfields = split(line, field, &quot;@&quot;)
+  substed = 0
+  len = length(field[1])
+  for (i = 2; i &lt; nfields; i++) {
+    key = field[i]
+    keylen = length(key)
+    if (S_is_set[key]) {
+      value = S[key]
+      line = substr(line, 1, len) &quot;&quot; value &quot;&quot; substr(line, len + keylen + 3)
+      len += length(value) + length(field[++i])
+      substed = 1
+    } else
+      len += 1 + keylen
+  }
+
+  print line
+}
+
+_ACAWK
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
+if sed &quot;s/$ac_cr//&quot; &lt; /dev/null &gt; /dev/null 2&gt;&amp;1; then
+  sed &quot;s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g&quot;
+else
+  cat
+fi &lt; &quot;$tmp/subs1.awk&quot; &gt; &quot;$tmp/subs.awk&quot; \
+  || { { $as_echo &quot;$as_me:$LINENO: error: could not setup config files machinery&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not setup config files machinery&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+_ACEOF
+
+# VPATH may cause trouble with some makes, so we remove $(srcdir),
+# ${srcdir} and @srcdir@ from VPATH if srcdir is &quot;.&quot;, strip leading and
+# trailing colons and then remove the whole line if VPATH becomes empty
+# (actually we leave an empty line to preserve line numbers).
+if test &quot;x$srcdir&quot; = x.; then
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
+s/:*\$(srcdir):*/:/
+s/:*\${srcdir}:*/:/
+s/:*@srcdir@:*/:/
+s/^\([^=]*=[	 ]*\):*/\1/
+s/:*$//
+s/^[^=]*=[	 ]*$//
+}'
+fi
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
 fi # test -n &quot;$CONFIG_FILES&quot;
 
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-for ac_file in : $CONFIG_FILES; do test &quot;x$ac_file&quot; = x: &amp;&amp; continue
-  # Support &quot;outfile[:infile[:infile...]]&quot;, defaulting infile=&quot;outfile.in&quot;.
-  case $ac_file in
-  - | *:- | *:-:* ) # input from stdin
-	cat &gt;$tmp/stdin
-	ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
-	ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
-  *:* ) ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
-	ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
-  * )   ac_file_in=$ac_file.in ;;
+
+eval set X &quot;  :F $CONFIG_FILES      &quot;
+shift
+for ac_tag
+do
+  case $ac_tag in
+  :[FHLC]) ac_mode=$ac_tag; continue;;
   esac
+  case $ac_mode$ac_tag in
+  :[FHL]*:*);;
+  :L* | :C*:*) { { $as_echo &quot;$as_me:$LINENO: error: Invalid tag $ac_tag.&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: Invalid tag $ac_tag.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; };;
+  :[FH]-) ac_tag=-:-;;
+  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
+  esac
+  ac_save_IFS=$IFS
+  IFS=:
+  set x $ac_tag
+  IFS=$ac_save_IFS
+  shift
+  ac_file=$1
+  shift
 
-  # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname &quot;$ac_file&quot;) 2&gt;/dev/null ||
+  case $ac_mode in
+  :L) ac_source=$1;;
+  :[FH])
+    ac_file_inputs=
+    for ac_f
+    do
+      case $ac_f in
+      -) ac_f=&quot;$tmp/stdin&quot;;;
+      *) # Look for the file first in the build tree, then in the source tree
+	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
+	 # because $ac_f cannot contain `:'.
+	 test -f &quot;$ac_f&quot; ||
+	   case $ac_f in
+	   [\\/$]*) false;;
+	   *) test -f &quot;$srcdir/$ac_f&quot; &amp;&amp; ac_f=&quot;$srcdir/$ac_f&quot;;;
+	   esac ||
+	   { { $as_echo &quot;$as_me:$LINENO: error: cannot find input file: $ac_f&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: cannot find input file: $ac_f&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; };;
+      esac
+      case $ac_f in *\'*) ac_f=`$as_echo &quot;$ac_f&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;; esac
+      ac_file_inputs=&quot;$ac_file_inputs '$ac_f'&quot;
+    done
+
+    # Let's still pretend it is `configure' which instantiates (i.e., don't
+    # use $as_me), people would be surprised to read:
+    #    /* config.h.  Generated by config.status.  */
+    configure_input='Generated from '`
+	  $as_echo &quot;$*&quot; | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
+	`' by configure.'
+    if test x&quot;$ac_file&quot; != x-; then
+      configure_input=&quot;$ac_file.  $configure_input&quot;
+      { $as_echo &quot;$as_me:$LINENO: creating $ac_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: creating $ac_file&quot; &gt;&amp;6;}
+    fi
+    # Neutralize special characters interpreted by sed in replacement strings.
+    case $configure_input in #(
+    *\&amp;* | *\|* | *\\* )
+       ac_sed_conf_input=`$as_echo &quot;$configure_input&quot; |
+       sed 's/[\\\\&amp;|]/\\\\&amp;/g'`;; #(
+    *) ac_sed_conf_input=$configure_input;;
+    esac
+
+    case $ac_tag in
+    *:-:* | *:-) cat &gt;&quot;$tmp/stdin&quot; \
+      || { { $as_echo &quot;$as_me:$LINENO: error: could not create $ac_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not create $ac_file&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; } ;;
+    esac
+    ;;
+  esac
+
+  ac_dir=`$as_dirname -- &quot;$ac_file&quot; ||
 $as_expr X&quot;$ac_file&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X&quot;$ac_file&quot; : 'X\(//\)[^/]' \| \
 	 X&quot;$ac_file&quot; : 'X\(//\)$' \| \
-	 X&quot;$ac_file&quot; : 'X\(/\)' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X&quot;$ac_file&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-  { if $as_mkdir_p; then
-    mkdir -p &quot;$ac_dir&quot;
-  else
-    as_dir=&quot;$ac_dir&quot;
+	 X&quot;$ac_file&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
+$as_echo X&quot;$ac_file&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+  { as_dir=&quot;$ac_dir&quot;
+  case $as_dir in #(
+  -*) as_dir=./$as_dir;;
+  esac
+  test -d &quot;$as_dir&quot; || { $as_mkdir_p &amp;&amp; mkdir -p &quot;$as_dir&quot;; } || {
     as_dirs=
-    while test ! -d &quot;$as_dir&quot;; do
-      as_dirs=&quot;$as_dir $as_dirs&quot;
-      as_dir=`(dirname &quot;$as_dir&quot;) 2&gt;/dev/null ||
+    while :; do
+      case $as_dir in #(
+      *\'*) as_qdir=`$as_echo &quot;$as_dir&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;; #'(
+      *) as_qdir=$as_dir;;
+      esac
+      as_dirs=&quot;'$as_qdir' $as_dirs&quot;
+      as_dir=`$as_dirname -- &quot;$as_dir&quot; ||
 $as_expr X&quot;$as_dir&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X&quot;$as_dir&quot; : 'X\(//\)[^/]' \| \
 	 X&quot;$as_dir&quot; : 'X\(//\)$' \| \
-	 X&quot;$as_dir&quot; : 'X\(/\)' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X&quot;$as_dir&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
+	 X&quot;$as_dir&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
+$as_echo X&quot;$as_dir&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+      test -d &quot;$as_dir&quot; &amp;&amp; break
     done
-    test ! -n &quot;$as_dirs&quot; || mkdir $as_dirs
-  fi || { { echo &quot;$as_me:$LINENO: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;2;}
+    test -z &quot;$as_dirs&quot; || eval &quot;mkdir $as_dirs&quot;
+  } || test -d &quot;$as_dir&quot; || { { $as_echo &quot;$as_me:$LINENO: error: cannot create directory $as_dir&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: cannot create directory $as_dir&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }; }
-
   ac_builddir=.
 
-if test &quot;$ac_dir&quot; != .; then
-  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
-  # A &quot;../&quot; for each directory in $ac_dir_suffix.
-  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
-else
-  ac_dir_suffix= ac_top_builddir=
-fi
+case &quot;$ac_dir&quot; in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
+*)
+  ac_dir_suffix=/`$as_echo &quot;$ac_dir&quot; | sed 's|^\.[\\/]||'`
+  # A &quot;..&quot; for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`$as_echo &quot;$ac_dir_suffix&quot; | sed 's|/[^\\/]*|/..|g;s|/||'`
+  case $ac_top_builddir_sub in
+  &quot;&quot;) ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
+  esac ;;
+esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
 
 case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
+  .)  # We are building in place.
     ac_srcdir=.
-    if test -z &quot;$ac_top_builddir&quot;; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
     ac_srcdir=$srcdir$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
-  *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
 esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
 
-# Do not use `cd foo &amp;&amp; pwd` to compute absolute paths, because
-# the directories may not exist.
-case `pwd` in
-.) ac_abs_builddir=&quot;$ac_dir&quot;;;
-*)
-  case &quot;$ac_dir&quot; in
-  .) ac_abs_builddir=`pwd`;;
-  [\\/]* | ?:[\\/]* ) ac_abs_builddir=&quot;$ac_dir&quot;;;
-  *) ac_abs_builddir=`pwd`/&quot;$ac_dir&quot;;;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_builddir=${ac_top_builddir}.;;
-*)
-  case ${ac_top_builddir}. in
-  .) ac_abs_top_builddir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_srcdir=$ac_srcdir;;
-*)
-  case $ac_srcdir in
-  .) ac_abs_srcdir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
-  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_srcdir=$ac_top_srcdir;;
-*)
-  case $ac_top_srcdir in
-  .) ac_abs_top_srcdir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
-  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
-  esac;;
-esac
 
+  case $ac_mode in
+  :F)
+  #
+  # CONFIG_FILE
+  #
 
   case $INSTALL in
   [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
-  *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
+  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
   esac
+_ACEOF
 
-  if test x&quot;$ac_file&quot; != x-; then
-    { echo &quot;$as_me:$LINENO: creating $ac_file&quot; &gt;&amp;5
-echo &quot;$as_me: creating $ac_file&quot; &gt;&amp;6;}
-    rm -f &quot;$ac_file&quot;
-  fi
-  # Let's still pretend it is `configure' which instantiates (i.e., don't
-  # use $as_me), people would be surprised to read:
-  #    /* config.h.  Generated by config.status.  */
-  if test x&quot;$ac_file&quot; = x-; then
-    configure_input=
-  else
-    configure_input=&quot;$ac_file.  &quot;
-  fi
-  configure_input=$configure_input&quot;Generated from `echo $ac_file_in |
-				     sed 's,.*/,,'` by configure.&quot;
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
+# If the template does not know about datarootdir, expand it.
+# FIXME: This hack should be removed a few years after 2.60.
+ac_datarootdir_hack=; ac_datarootdir_seen=
 
-  # First look for the input files in the build tree, otherwise in the
-  # src tree.
-  ac_file_inputs=`IFS=:
-    for f in $ac_file_in; do
-      case $f in
-      -) echo $tmp/stdin ;;
-      [\\/$]*)
-	 # Absolute (can't be DOS-style, as IFS=:)
-	 test -f &quot;$f&quot; || { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-	 echo &quot;$f&quot;;;
-      *) # Relative
-	 if test -f &quot;$f&quot;; then
-	   # Build tree
-	   echo &quot;$f&quot;
-	 elif test -f &quot;$srcdir/$f&quot;; then
-	   # Source tree
-	   echo &quot;$srcdir/$f&quot;
-	 else
-	   # /dev/null tree
-	   { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-	 fi;;
-      esac
-    done` || { (exit 1); exit 1; }
+ac_sed_dataroot='
+/datarootdir/ {
+  p
+  q
+}
+/@datadir@/p
+/@docdir@/p
+/@infodir@/p
+/@localedir@/p
+/@mandir@/p
+'
+case `eval &quot;sed -n \&quot;\$ac_sed_dataroot\&quot; $ac_file_inputs&quot;` in
+*datarootdir*) ac_datarootdir_seen=yes;;
+*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
+  { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting&quot; &gt;&amp;2;}
 _ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
-  sed &quot;$ac_vpsub
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
+  ac_datarootdir_hack='
+  s&amp;@datadir@&amp;$datadir&amp;g
+  s&amp;@docdir@&amp;$docdir&amp;g
+  s&amp;@infodir@&amp;$infodir&amp;g
+  s&amp;@localedir@&amp;$localedir&amp;g
+  s&amp;@mandir@&amp;$mandir&amp;g
+    s&amp;\\\${datarootdir}&amp;$datarootdir&amp;g' ;;
+esac
+_ACEOF
+
+# Neutralize VPATH when `$srcdir' = `.'.
+# Shell code in configure.ac might set extrasub.
+# FIXME: do we really want to maintain this feature?
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
+ac_sed_extra=&quot;$ac_vpsub
 $extrasub
 _ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
 :t
 /@[a-zA-Z_][a-zA-Z_0-9]*@/!b
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at configure_input</A>@,$configure_input,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at srcdir</A>@,$ac_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at abs_srcdir</A>@,$ac_abs_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at top_srcdir</A>@,$ac_top_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at abs_top_srcdir</A>@,$ac_abs_top_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at builddir</A>@,$ac_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at abs_builddir</A>@,$ac_abs_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at top_builddir</A>@,$ac_top_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at abs_top_builddir</A>@,$ac_abs_top_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">-s, at INSTALL</A>@,$ac_INSTALL,;t t
-&quot; $ac_file_inputs | (eval &quot;$ac_sed_cmds&quot;) &gt;$tmp/out
-  rm -f $tmp/stdin
-  if test x&quot;$ac_file&quot; != x-; then
-    mv $tmp/out $ac_file
-  else
-    cat $tmp/out
-    rm -f $tmp/out
-  fi
+s|@configure_input@|$ac_sed_conf_input|;t t
+s&amp;@top_builddir@&amp;$ac_top_builddir_sub&amp;;t t
+s&amp;@top_build_prefix@&amp;$ac_top_build_prefix&amp;;t t
+s&amp;@srcdir@&amp;$ac_srcdir&amp;;t t
+s&amp;@abs_srcdir@&amp;$ac_abs_srcdir&amp;;t t
+s&amp;@top_srcdir@&amp;$ac_top_srcdir&amp;;t t
+s&amp;@abs_top_srcdir@&amp;$ac_abs_top_srcdir&amp;;t t
+s&amp;@builddir@&amp;$ac_builddir&amp;;t t
+s&amp;@abs_builddir@&amp;$ac_abs_builddir&amp;;t t
+s&amp;@abs_top_builddir@&amp;$ac_abs_top_builddir&amp;;t t
+s&amp;@INSTALL@&amp;$ac_INSTALL&amp;;t t
+$ac_datarootdir_hack
+&quot;
+eval sed \&quot;\$ac_sed_extra\&quot; &quot;$ac_file_inputs&quot; | $AWK -f &quot;$tmp/subs.awk&quot; &gt;$tmp/out \
+  || { { $as_echo &quot;$as_me:$LINENO: error: could not create $ac_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not create $ac_file&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
 
-done
-_ACEOF
+test -z &quot;$ac_datarootdir_hack$ac_datarootdir_seen&quot; &amp;&amp;
+  { ac_out=`sed -n '/\${datarootdir}/p' &quot;$tmp/out&quot;`; test -n &quot;$ac_out&quot;; } &amp;&amp;
+  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' &quot;$tmp/out&quot;`; test -z &quot;$ac_out&quot;; } &amp;&amp;
+  { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined.&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined.&quot; &gt;&amp;2;}
 
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+  rm -f &quot;$tmp/stdin&quot;
+  case $ac_file in
+  -) cat &quot;$tmp/out&quot; &amp;&amp; rm -f &quot;$tmp/out&quot;;;
+  *) rm -f &quot;$ac_file&quot; &amp;&amp; mv &quot;$tmp/out&quot; &quot;$ac_file&quot;;;
+  esac \
+  || { { $as_echo &quot;$as_me:$LINENO: error: could not create $ac_file&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: could not create $ac_file&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+ ;;
 
+
+
+  esac
+
+done # for ac_tag
+
+
 { (exit 0); exit 0; }
 _ACEOF
 chmod +x $CONFIG_STATUS
 ac_clean_files=$ac_clean_files_save
 
+test $ac_write_fail = 0 ||
+  { { $as_echo &quot;$as_me:$LINENO: error: write failure creating $CONFIG_STATUS&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: write failure creating $CONFIG_STATUS&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
 
+
 # configure is writing to config.log, and then calls config.status.
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
@@ -7909,32 +8684,24 @@
   # would make configure fail if this is the last instruction.
   $ac_cs_success || { (exit 1); exit 1; }
 fi
+if test -n &quot;$ac_unrecognized_opts&quot; &amp;&amp; test &quot;$enable_option_checking&quot; != no; then
+  { $as_echo &quot;$as_me:$LINENO: WARNING: Unrecognized options: $ac_unrecognized_opts&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: Unrecognized options: $ac_unrecognized_opts&quot; &gt;&amp;2;}
+fi
 
 
 
 echo
 echo
 
-if test $g95 == &quot;yes&quot;; then
+if test $g95 = &quot;yes&quot;; then
 	echo &quot;Using g95 as fortran compiler.&quot;;
 fi
 
-if test $gfortran == &quot;yes&quot;; then
+if test $gfortran = &quot;yes&quot;; then
 	echo &quot;Using gfortran as fortran compiler.&quot;;
 fi
 
-if test $portaudio == &quot;yes&quot;; then
-	echo &quot;Using portaudio.&quot;;
-fi
-
-if test $alsa == &quot;yes&quot;; then
-	echo &quot;Using alsa.&quot;;
-fi
-
-if test $oss == &quot;yes&quot;; then
-	echo &quot;Using oss.&quot;;
-fi
-
 echo
 echo &quot;Compiling $PACKAGE_NAME $PACKAGE_VERSION&quot;
 echo

Modified: branches/map65/configure.ac
===================================================================
--- branches/map65/configure.ac	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/configure.ac	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,12 +1,12 @@
 dnl $Id$
 dnl Process this file with autoconf to produce a configure script.
 
-dnl AC_PREREQ(2.59)
+dnl AC_PREREQ(2.61)
 
 dnl Sneaky way to get an Id tag into the configure script
 AC_COPYRIGHT([$Id$])
 
-AC_INIT([wsjt],[5.9.6])
+AC_INIT([map65],[0.9])
 
 AC_PREFIX_DEFAULT(/usr/local/)
 
@@ -20,7 +20,7 @@
 CFLAGS=&quot;$OLD_CFLAGS&quot;
 
 dnl Lets guess at some likely places for extra libs/includes XXX -db
-CPPFLAGS=&quot;-Iportaudio-v19/include -I/usr/local/include -I/usr/include/alsa -I/usr/local/include/alsa ${CPPFLAGS}&quot;
+CPPFLAGS=&quot;-I/usr/local/include ${CPPFLAGS}&quot;
 LDFLAGS=&quot;-L/usr/local/lib ${LDFLAGS}&quot;
 LIBS=&quot; -lpthread ${LIBS}&quot;
 
@@ -86,11 +86,7 @@
 G95_LIB_PATH=`${G95} -print-file-name=`
 AC_MSG_RESULT(${G95_LIB_PATH})
 AC_PATH_PROG(GFORTRAN, gfortran)
-dnl
-dnl FreeBSD currently installs gfortran as gfortran41
-dnl See <A HREF="http://gcc.gnu.org/fortran/">http://gcc.gnu.org/fortran/</A>
-dnl
-AC_PATH_PROG(GFORTRAN, gfortran41)
+AC_PATH_PROG(GFORTRAN, gfortran43)
 AC_MSG_CHECKING([gfortran lib path])
 GFORTRAN_LIB_PATH=`${GFORTRAN} -print-file-name=`
 AC_MSG_RESULT(${GFORTRAN_LIB_PATH})
@@ -108,18 +104,12 @@
 
 AC_HEADER_TIME
 
-AC_CHECK_HEADER([sys/soundcard.h], [HAS_SOUNDCARD_H=1], [HAS_SOUNDCARD_H=0])
-AC_CHECK_HEADER([alsa/asoundlib.h], [HAS_ASOUNDLIB_H=1], [HAS_ASOUNDLIB_H=0])
-AC_CHECK_HEADER([jack/jack.h], [HAS_JACK_H=1], [HAS_JACK_H=0])
-if test -e &quot;portaudio-v19/include/portaudio.h&quot; ; then
-	echo &quot;Checking for portaudio...yes&quot;
-	HAS_PORTAUDIO_H=1
-else
-	echo &quot;Checking for portaudio...no&quot;
-	HAS_PORTAUDIO_H=0
-fi
 AC_CHECK_HEADER([samplerate.h], [HAS_SAMPLERATE_H=1], [HAS_SAMPLERATE_H=0])
 
+HAS_PORTAUDIO_H=0
+HAS_PORTAUDIO_LIB=0
+HAS_PORTAUDIO=0
+
 dnl See whether we can include both string.h and strings.h.
 AC_CACHE_CHECK([whether string.h and strings.h may both be included],
 gcc_cv_header_string,
@@ -215,27 +205,6 @@
 	Makefile		
 )
 
-dnl alsa soundsupport
-dnl =================
-
-AC_ARG_ENABLE(alsa,
-AC_HELP_STRING([--enable-alsa],[Force ALSA SOUNDCARD usage.]),
-[alsa=$enableval] , [alsa=no])
-
-dnl oss soundsupport
-dnl ================
-
-AC_ARG_ENABLE(oss,
-AC_HELP_STRING([--enable-oss],[Force OSS SOUND usage.]),
-[oss=$enableval] , [oss=no])
-
-dnl portaudio soundsupport
-dnl ======================
-
-AC_ARG_ENABLE(portaudio,
-AC_HELP_STRING([--enable-portaudio],[Force PORTAUDIO SOUND usage.]),
-[portaudio=$enableval], [portaudio=no])
-
 dnl pick gfortran or g95
 dnl ====================
 
@@ -286,88 +255,92 @@
 dnl ============
 
 
-if test &quot;$alsa&quot; != yes -a &quot;$oss&quot; != yes -a \
-	&quot;$portaudio&quot; != yes; then
-        if test $HAS_PORTAUDIO_H -eq 1; then
-		[portaudio=yes];
-	elif test $HAS_ASOUNDLIB_H -eq 1; then
-		[alsa=yes];
-	elif test $HAS_SOUNDCARD_H -eq 1; then
-		[oss=yes];
-	fi
-fi
+AC_MSG_CHECKING([for a v19 portaudio ])
 
-if test &quot;$alsa&quot; = yes; then
-	AC_DEFINE(USE_ALSA, 1, [Define if you want ALSA used.])
-	AC_SUBST(AUDIO, &quot;start_alsa.c&quot;)
-	LIBS=&quot;${LIBS} -lasound&quot;
+portaudio_lib_dir=&quot;/usr/lib&quot;
+portaudio_include_dir=&quot;/usr/include&quot;
+
+AC_ARG_WITH([portaudio-include-dir],
+AC_HELP_STRING([--with-portaudio-include-dir=&lt;path&gt;],
+    [path to portaudio include files]),
+    [portaudio_include_dir=$with_portaudio_include_dir])
+
+AC_ARG_WITH([portaudio-lib-dir],
+AC_HELP_STRING([--with-portaudio-lib-dir=&lt;path&gt;],
+    [path to portaudio lib files]),
+    [portaudio_lib_dir=$with_portaudio_lib_dir])
+
+if test -e ${portaudio_include_dir}/portaudio.h; then
+	HAS_PORTAUDIO_H=1
 fi
 
-if test &quot;$oss&quot; = yes; then
-	AC_DEFINE(USE_OSS, 1, [Define if you want OSS used.])
-	AC_SUBST(AUDIO, &quot;start_oss.c&quot;)
+if test -e ${portaudio_lib_dir}/libportaudio.so \
+    -o -e ${portaudio_lib_dir}/libportaudio.a;then
+	HAS_PORTAUDIO_LIB=1
 fi
 
-if test &quot;$portaudio&quot; = yes; then
-	AC_DEFINE(USE_PORTAUDIO, 1, [Define if you want PORTAUDIO used.])
-	AC_SUBST(AUDIO, &quot;a2d.f90 jtaudio.c resample.c start_portaudio.c&quot;)
-	AC_SUBST(NEEDPORTAUDIO, &quot;portaudio-v19/lib/.libs/libportaudio.a&quot;)
+if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
+	LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
+	LIBS=&quot;${LIBS} -lportaudio&quot;
+	CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
+	AC_CHECK_LIB(portaudio, Pa_GetVersion, \
+		[HAS_PORTAUDIO_VERSION=1], [HAS_PORTAUDIO_VERSION=0])
+	if test $HAS_PORTAUDIO_VERSION -eq 0; then
+		AC_MSG_RESULT([This is likely portaudio v18; you need portaudio v19])
+	else
+		HAS_PORTAUDIO=1
+	fi
+else
+	AC_MSG_RESULT([portaudio not found trying FreeBSD paths ])
+	portaudio_lib_dir=&quot;/usr/local/lib/portaudio2&quot;
+	portaudio_include_dir=&quot;/usr/local/include/portaudio2&quot;
 dnl
-dnl	new portaudio-v19 on linux will be referencing alsa.
+dnl Try again to make sure portaudio dirs are valid
 dnl
-	LIBS=&quot;${LIBS} ${RTLIBS} -lsamplerate ./portaudio-v19/lib/.libs/libportaudio.a&quot;
-	LIBS=&quot;${LIBS} ${ASOUNDLIBS}&quot;
-else
-	AC_SUBST(NEEDPORTAUDIO, &quot;&quot;)
-fi
+	AC_MSG_CHECKING([for a v19 portaudio in FreeBSD paths.])
+	HAS_PORTAUDIO_H=0
+	HAS_PORTAUDIO_LIB=0
 
-dnl set conf flags
-dnl ==============
+	if test -e ${portaudio_include_dir}/portaudio.h; then
+		HAS_PORTAUDIO_H=1
+	fi
 
-if test $HAS_ASOUNDLIB_H -eq 1; then
-	AC_DEFINE(HAS_ASOUNDLIB_H, 1, )
-fi
+	if test -e ${portaudio_lib_dir}/libportaudio.so \
+	    -o -e ${portaudio_lib_dir}/libportaudio.a;then
+		HAS_PORTAUDIO_LIB=1
+	fi
 
-if test $HAS_SOUNDCARD_H -eq 1; then
-	AC_DEFINE(HAS_SOUNDCARD_H, 1, )
+	if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
+		AC_MSG_RESULT([found portaudio in FreeBSD paths, double checking it is v19 ])
+		LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
+		LIBS=&quot;${LIBS} -lportaudio&quot;
+		CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
+		AC_CHECK_LIB(portaudio, Pa_GetVersion, \
+			[HAS_PORTAUDIO_VERSION=1], [HAS_PORTAUDIO_VERSION=0])
+		if test $HAS_PORTAUDIO_VERSION -eq 0; then
+			AC_MSG_RESULT([How did you end up with a portaudio v18 here?])
+		else
+			AC_MSG_RESULT([found v19])
+			HAS_PORTAUDIO=1
+			HAS_PORTAUDIO_H=1
+		fi
+	fi
 fi
 
-if test $HAS_JACK_H -eq 1; then
-	AC_DEFINE(HAS_JACK_H, 1, )
-fi
-
-if test $HAS_PORTAUDIO_H -eq 1; then
-	AC_DEFINE(HAS_PORTAUDIO_H, 1, )
-fi
-
-if test $HAS_SAMPLERATE_H -eq 1; then
-        AC_DEFINE(HAS_SAMPLERATE_H, 1, )
-fi
-
 dnl sanity tests.
 dnl =============
 
-if test &quot;$alsa&quot; = yes; then
-	if test $HAS_ASOUNDLIB_H -eq 0; then
-		AC_MSG_ERROR([You need asoundlib.h to use --enable-alsa])
-	fi
+if test $HAS_PORTAUDIO -eq 1; then
+	AC_DEFINE(HAS_PORTAUDIO, 1, )
+	AC_DEFINE(HAS_PORTAUDIO_H, 1, )
+	AC_DEFINE(HAS_PORTAUDIO_LIB, 1, )
+else
+	fail=1
+	echo &quot;This program needs portaudio v19 to compile.&quot;
+	echo &quot;Please use --with-portaudio-include-dir= and&quot;
+	echo &quot; --with-portaudio-lib-dir= to set the paths.&quot;
 fi
 
-if test &quot;$oss&quot; = yes; then
-	if test $HAS_SOUNDCARD_H -eq 0; then
-		AC_MSG_ERROR([You need soundcard.h to use --enable-oss])
-	fi
-fi
-
-if test &quot;$portaudio&quot; = yes; then
-	if test $HAS_PORTAUDIO_H -eq 0; then
-		AC_MSG_ERROR([You need portaudio.h to use --enable-portaudio])
-	fi
-	if test $HAS_SAMPLERATE_H -eq 0; then
-		AC_MSG_ERROR([You need samplerate.h to use --enable-portaudio])
-	fi
-fi
-
 if test &quot;$F2PY&quot; = &quot;&quot;; then
 	AC_MSG_ERROR([You are missing f2py])
 fi
@@ -386,26 +359,14 @@
 echo
 echo
 
-if test $g95 == &quot;yes&quot;; then
+if test $g95 = &quot;yes&quot;; then
 	echo &quot;Using g95 as fortran compiler.&quot;;
 fi
 
-if test $gfortran == &quot;yes&quot;; then
+if test $gfortran = &quot;yes&quot;; then
 	echo &quot;Using gfortran as fortran compiler.&quot;;
 fi
 
-if test $portaudio == &quot;yes&quot;; then
-	echo &quot;Using portaudio.&quot;;
-fi
-
-if test $alsa == &quot;yes&quot;; then
-	echo &quot;Using alsa.&quot;;
-fi
-
-if test $oss == &quot;yes&quot;; then
-	echo &quot;Using oss.&quot;;
-fi
-
 echo
 echo &quot;Compiling $PACKAGE_NAME $PACKAGE_VERSION&quot;
 echo

Modified: branches/map65/datcom.f90
===================================================================
--- branches/map65/datcom.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/datcom.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,5 +1,5 @@
-parameter (NSMAX=60*96000)          !Samples per 60 s file
-integer*2 id                        !46 MB: raw data from Linrad timf2
-character*80 fname80
-common/datcom/id(4,NSMAX,2),nutc,newdat2,kbuf,kxp,kk,kkdone,nlost,   &amp;
-     nlen,fname80
+parameter (NSMAX=60*96000)          !Samples per 60 s file
+integer*2 id                        !46 MB: raw data from Linrad timf2
+character*80 fname80
+common/datcom/id(4,NSMAX,2),nutc,newdat2,kbuf,kxp,kk,kkdone,nlost,   &amp;
+     nlen,fname80


Property changes on: branches/map65/datcom.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/decode1.F90
===================================================================
--- branches/map65/decode1.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/decode1.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,81 +1,81 @@
-subroutine decode1(iarg)
-
-! Get data and parameters from gcom, then call the decoders when needed.
-! This routine runs in a background thread and will never return.
-
-#ifdef CVF
-  use dflib
-#endif
-
-  character sending0*28,mode0*6,cshort*11
-  integer sendingsh0
-
-  include 'datcom.f90'
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-  include 'gcom3.f90'
-  include 'gcom4.f90'
-  data kbuf0/0/,ns00/-999/
-  data sending0/'                      '/
-  save
-
-  kkdone=-99
-  ns0=999999
-
-10 continue
-  if(newdat2.gt.0) then
-     call getfile2(fname80,nlen)
-     newdat2=0
-     kbuf=1
-     kk=NSMAX
-     kkdone=0
-     newdat=1
-  endif
-
-  if(kbuf.ne.kbuf0) kkdone=0
-  kbuf0=kbuf
-  kkk=kk
-  if(kbuf.eq.2) kkk=kk-5760000
-  n=Tsec
-
-  if((ndiskdat.eq.1 .or. ndecoding.eq.0) .and. ((kkk-kkdone).gt.32768)) then
-     call symspec(id,kbuf,kk,kkdone,nutc,newdat)
-     call sleep_msec(10)
-  endif
-
-  if(ndecoding.gt.0 .and. mode(1:4).eq.'JT65') then
-     ndecdone=0
-     call map65a(newdat)
-     if(mousebutton.eq.0) ndecoding0=ndecoding
-     ndecoding=0
-  endif
-
-  if(ns0.lt.0) then
-     rewind 21
-     ns0=999999
-  endif
-  if(n.lt.ns0 .and. utcdate(1:1).eq.'2') then
-     write(21,1001) utcdate(:11)
-1001 format(/'UTC Date: ',a11/'---------------------')
-     ns0=n
-  endif
-
-  if(transmitting.eq.1 .and. (sending.ne.sending0 .or.       &amp;
-       sendingsh.ne.sendingsh0 .or. mode.ne.mode0)) then
-     ih=n/3600
-     im=mod(n/60,60)
-     is=mod(n,60)
-     cshort='           '
-     if(sendingsh.eq.1) cshort='(Shorthand)'
-     write(21,1010) ih,im,is,mode,sending,cshort
-1010 format(3i2.2,'  Transmitting: ',a6,2x,a28,2x,a11)
-     call flushqqq(21)
-     sending0=sending
-     sendingsh0=sendingsh
-     mode0=mode
-  endif
-
-  call sleep_msec(100)                  !### was 100
-  go to 10
-
-end subroutine decode1
+subroutine decode1(iarg)
+
+! Get data and parameters from gcom, then call the decoders when needed.
+! This routine runs in a background thread and will never return.
+
+#ifdef CVF
+  use dflib
+#endif
+
+  character sending0*28,mode0*6,cshort*11
+  integer sendingsh0
+
+  include 'datcom.f90'
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+  include 'gcom3.f90'
+  include 'gcom4.f90'
+  data kbuf0/0/,ns00/-999/
+  data sending0/'                      '/
+  save
+
+  kkdone=-99
+  ns0=999999
+
+10 continue
+  if(newdat2.gt.0) then
+     call getfile2(fname80,nlen)
+     newdat2=0
+     kbuf=1
+     kk=NSMAX
+     kkdone=0
+     newdat=1
+  endif
+
+  if(kbuf.ne.kbuf0) kkdone=0
+  kbuf0=kbuf
+  kkk=kk
+  if(kbuf.eq.2) kkk=kk-5760000
+  n=Tsec
+
+  if((ndiskdat.eq.1 .or. ndecoding.eq.0) .and. ((kkk-kkdone).gt.32768)) then
+     call symspec(id,kbuf,kk,kkdone,nutc,newdat)
+     call sleep_msec(10)
+  endif
+
+  if(ndecoding.gt.0 .and. mode(1:4).eq.'JT65') then
+     ndecdone=0
+     call map65a(newdat)
+     if(mousebutton.eq.0) ndecoding0=ndecoding
+     ndecoding=0
+  endif
+
+  if(ns0.lt.0) then
+     rewind 21
+     ns0=999999
+  endif
+  if(n.lt.ns0 .and. utcdate(1:1).eq.'2') then
+     write(21,1001) utcdate(:11)
+1001 format(/'UTC Date: ',a11/'---------------------')
+     ns0=n
+  endif
+
+  if(transmitting.eq.1 .and. (sending.ne.sending0 .or.       &amp;
+       sendingsh.ne.sendingsh0 .or. mode.ne.mode0)) then
+     ih=n/3600
+     im=mod(n/60,60)
+     is=mod(n,60)
+     cshort='           '
+     if(sendingsh.eq.1) cshort='(Shorthand)'
+     write(21,1010) ih,im,is,mode,sending,cshort
+1010 format(3i2.2,'  Transmitting: ',a6,2x,a28,2x,a11)
+     call flushqqq(21)
+     sending0=sending
+     sendingsh0=sendingsh
+     mode0=mode
+  endif
+
+  call sleep_msec(100)                  !### was 100
+  go to 10
+
+end subroutine decode1


Property changes on: branches/map65/decode1.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/display.F90
===================================================================
--- branches/map65/display.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/display.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,171 +1,171 @@
-subroutine display(nkeep,ncsmin)
-
-#ifdef CVF
-  use dfport
-#endif
-
-  parameter (MAXLINES=500,MX=500)
-  integer indx(MAXLINES),indx2(MX)
-  character*81 line(MAXLINES),line2(MX),line3(MAXLINES)
-  character out*50,cfreq0*3
-  character*6 callsign,callsign0
-  character*12 freqcall(100)
-  character*40 bm2
-  real freqkHz(MAXLINES)
-  integer utc(MAXLINES),utc2(MX),utcz
-  real*8 f0
-
-  ftol=0.02
-  rewind 26
-
-  do i=1,MAXLINES
-     read(26,1010,end=10) line(i)
-1010 format(a80)
-     read(line(i),1020) f0,ndf,nh,nm
-1020 format(f7.3,i5,26x,i3,i2)
-     utc(i)=60*nh + nm
-     freqkHz(i)=1000.d0*(f0-144.d0) + 0.001d0*ndf
-  enddo
-
-10 nz=i-1
-  utcz=utc(nz)
-  nz=nz-1
-  if(nz.lt.1) go to 999
-  nquad=max(nkeep/4,3)
-  do i=1,nz
-     nage=utcz-utc(i)
-     if(nage.lt.0) nage=nage+1440
-     iage=(nage/nquad) + 1
-     if(nage.le.1) iage=0
-     write(line(i)(78:81),1021) iage
-1021 format(i4)
-  enddo
-
-  nage=utcz-utc(1)
-  if(nage.lt.0) nage=nage+1440
-  if(nage.gt.nkeep) then
-     do i=1,nz
-        nage=utcz-utc(i)
-        if(nage.lt.0) nage=nage+1440
-        if(nage.le.nkeep) go to 20
-     enddo
-20   i0=i
-     nz=nz-i0+1
-     rewind 26
-     if(nz.lt.1) go to 999
-     do i=1,nz
-        j=i+i0-1
-        line(i)=line(j)
-        utc(i)=utc(j)
-        freqkHz(i)=freqkHz(j)
-        write(26,1010) line(i)
-     enddo
-  endif
-
-  call flushqqq(26)
-  call indexx(nz,freqkHz,indx)
-
-  nstart=1
-  k3=0
-  k=1
-  m=indx(1)
-  if(m.lt.1 .or. m.gt.MAXLINES) then
-     print*,'Error in display.F90: ',nz,m
-     m=1
-  endif
-  line2(1)=line(m)
-  utc2(1)=utc(m)
-  do i=2,nz
-     j0=indx(i-1)
-     j=indx(i)
-     if(freqkHz(j)-freqkHz(j0).gt.ftol) then
-        if(nstart.eq.0) then
-           k=k+1
-           line2(k)=&quot;&quot;
-           utc2(k)=-1
-        endif
-        kz=k
-        if(nstart.eq.1) then
-           call indexx(kz,utc2,indx2)
-           k3=0
-           do k=1,kz
-              k3=k3+1
-              line3(k3)=line2(indx2(k))
-           enddo
-           nstart=0
-        else
-           call indexx(kz,utc2,indx2)
-           do k=1,kz
-              k3=k3+1
-              line3(k3)=line2(indx2(k))
-           enddo
-        endif
-        k=0
-     endif
-     if(i.eq.nz) then
-        k=k+1
-        line2(k)=&quot;&quot;
-        utc2(k)=-1
-     endif
-     k=k+1
-     line2(k)=line(j)
-     utc2(k)=utc(j)
-     j0=j
-  enddo
-  kz=k
-  call indexx(kz,utc2,indx2)
-  do k=1,kz
-     k3=k3+1
-     line3(k3)=line2(indx2(k))
-  enddo
-
-  rewind 19
-  rewind 20
-  cfreq0='   '
-  nc=0
-  callsign0='          '
-  do k=1,k3
-     out=line3(k)(5:12)//line3(k)(28:31)//line3(k)(39:43)//       &amp;
-          line3(k)(35:38)//line3(k)(44:67)//line3(k)(77:81)
-     if(out(1:3).ne.'   ') then
-        if(out(1:3).eq.cfreq0) then
-           out(1:3)='   '
-        else
-           cfreq0=out(1:3)
-        endif
-        write(19,1030) out
-1030    format(a50)
-        i1=index(out(24:),' ')
-        callsign=out(i1+24:)
-        i2=index(callsign,' ')
-        if(i2.gt.1) callsign(i2:)='      '
-        if(callsign.ne.'      ' .and. callsign.ne.callsign0) then
-           len=i2-1
-           if(len.lt.0) len=6
-           if(len.ge.ncsmin) then                        !Omit short &quot;callsigns&quot;
-              nc=nc+1
-              freqcall(nc)=cfreq0//' '//callsign//line3(k)(80:81)
-              callsign0=callsign
-           endif
-        endif
-        if(callsign.ne.'      ' .and. callsign.eq.callsign0) then
-           freqcall(nc)=cfreq0//' '//callsign//line3(k)(80:81)
-        endif
-     endif
-  enddo
-  call flushqqq(19)
-  nc=nc+1
-  freqcall(nc)='            '
-  nc=nc+1
-  freqcall(nc)='            '
-  freqcall(nc+1)='            '
-  freqcall(nc+2)='            '
-  iz=(nc+2)/3
-  do i=1,iz
-     bm2=freqcall(i)//'  '//freqcall(i+iz)//'  '//freqcall(i+2*iz)
-     write(20,1040) bm2
-1040 format(a40)
-  enddo
-  call flushqqq(20)
-999  return
-end subroutine display
+subroutine display(nkeep,ncsmin)
+
+#ifdef CVF
+  use dfport
+#endif
+
+  parameter (MAXLINES=500,MX=500)
+  integer indx(MAXLINES),indx2(MX)
+  character*81 line(MAXLINES),line2(MX),line3(MAXLINES)
+  character out*50,cfreq0*3
+  character*6 callsign,callsign0
+  character*12 freqcall(100)
+  character*40 bm2
+  real freqkHz(MAXLINES)
+  integer utc(MAXLINES),utc2(MX),utcz
+  real*8 f0
+
+  ftol=0.02
+  rewind 26
+
+  do i=1,MAXLINES
+     read(26,1010,end=10) line(i)
+1010 format(a80)
+     read(line(i),1020) f0,ndf,nh,nm
+1020 format(f7.3,i5,26x,i3,i2)
+     utc(i)=60*nh + nm
+     freqkHz(i)=1000.d0*(f0-144.d0) + 0.001d0*ndf
+  enddo
+
+10 nz=i-1
+  utcz=utc(nz)
+  nz=nz-1
+  if(nz.lt.1) go to 999
+  nquad=max(nkeep/4,3)
+  do i=1,nz
+     nage=utcz-utc(i)
+     if(nage.lt.0) nage=nage+1440
+     iage=(nage/nquad) + 1
+     if(nage.le.1) iage=0
+     write(line(i)(78:81),1021) iage
+1021 format(i4)
+  enddo
+
+  nage=utcz-utc(1)
+  if(nage.lt.0) nage=nage+1440
+  if(nage.gt.nkeep) then
+     do i=1,nz
+        nage=utcz-utc(i)
+        if(nage.lt.0) nage=nage+1440
+        if(nage.le.nkeep) go to 20
+     enddo
+20   i0=i
+     nz=nz-i0+1
+     rewind 26
+     if(nz.lt.1) go to 999
+     do i=1,nz
+        j=i+i0-1
+        line(i)=line(j)
+        utc(i)=utc(j)
+        freqkHz(i)=freqkHz(j)
+        write(26,1010) line(i)
+     enddo
+  endif
+
+  call flushqqq(26)
+  call indexx(nz,freqkHz,indx)
+
+  nstart=1
+  k3=0
+  k=1
+  m=indx(1)
+  if(m.lt.1 .or. m.gt.MAXLINES) then
+     print*,'Error in display.F90: ',nz,m
+     m=1
+  endif
+  line2(1)=line(m)
+  utc2(1)=utc(m)
+  do i=2,nz
+     j0=indx(i-1)
+     j=indx(i)
+     if(freqkHz(j)-freqkHz(j0).gt.ftol) then
+        if(nstart.eq.0) then
+           k=k+1
+           line2(k)=&quot;&quot;
+           utc2(k)=-1
+        endif
+        kz=k
+        if(nstart.eq.1) then
+           call indexx(kz,utc2,indx2)
+           k3=0
+           do k=1,kz
+              k3=k3+1
+              line3(k3)=line2(indx2(k))
+           enddo
+           nstart=0
+        else
+           call indexx(kz,utc2,indx2)
+           do k=1,kz
+              k3=k3+1
+              line3(k3)=line2(indx2(k))
+           enddo
+        endif
+        k=0
+     endif
+     if(i.eq.nz) then
+        k=k+1
+        line2(k)=&quot;&quot;
+        utc2(k)=-1
+     endif
+     k=k+1
+     line2(k)=line(j)
+     utc2(k)=utc(j)
+     j0=j
+  enddo
+  kz=k
+  call indexx(kz,utc2,indx2)
+  do k=1,kz
+     k3=k3+1
+     line3(k3)=line2(indx2(k))
+  enddo
+
+  rewind 19
+  rewind 20
+  cfreq0='   '
+  nc=0
+  callsign0='          '
+  do k=1,k3
+     out=line3(k)(5:12)//line3(k)(28:31)//line3(k)(39:43)//       &amp;
+          line3(k)(35:38)//line3(k)(44:67)//line3(k)(77:81)
+     if(out(1:3).ne.'   ') then
+        if(out(1:3).eq.cfreq0) then
+           out(1:3)='   '
+        else
+           cfreq0=out(1:3)
+        endif
+        write(19,1030) out
+1030    format(a50)
+        i1=index(out(24:),' ')
+        callsign=out(i1+24:)
+        i2=index(callsign,' ')
+        if(i2.gt.1) callsign(i2:)='      '
+        if(callsign.ne.'      ' .and. callsign.ne.callsign0) then
+           len=i2-1
+           if(len.lt.0) len=6
+           if(len.ge.ncsmin) then                        !Omit short &quot;callsigns&quot;
+              nc=nc+1
+              freqcall(nc)=cfreq0//' '//callsign//line3(k)(80:81)
+              callsign0=callsign
+           endif
+        endif
+        if(callsign.ne.'      ' .and. callsign.eq.callsign0) then
+           freqcall(nc)=cfreq0//' '//callsign//line3(k)(80:81)
+        endif
+     endif
+  enddo
+  call flushqqq(19)
+  nc=nc+1
+  freqcall(nc)='            '
+  nc=nc+1
+  freqcall(nc)='            '
+  freqcall(nc+1)='            '
+  freqcall(nc+2)='            '
+  iz=(nc+2)/3
+  do i=1,iz
+     bm2=freqcall(i)//'  '//freqcall(i+iz)//'  '//freqcall(i+2*iz)
+     write(20,1040) bm2
+1040 format(a40)
+  enddo
+  call flushqqq(20)
+999  return
+end subroutine display


Property changes on: branches/map65/display.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/fivehz.F90
===================================================================
--- branches/map65/fivehz.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/fivehz.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,250 +1,250 @@
-subroutine fivehz
-
-!  Called at interrupt level from the PortAudio callback routine.
-!  For nspb=2048 the callback rate is nfsample/nspb = 5.38 Hz.
-!  Thus, we should be able to control the timing of T/R sequence events
-!  here to within about 0.2 s.
-
-!  Do not do anything very time consuming in this routine!!
-!  Disk I/O is a bad idea.  Writing to stdout (for diagnostic purposes)
-!  seems to be OK.
-
-#ifdef CVF
-  use dflib
-  use dfport
-#endif
-
-  parameter (NTRING=64)
-  real*8 tt1(0:NTRING-1)
-  logical first,txtime,filled
-  integer ptt
-  integer TxOKz
-  real*8 fs,fsample,tt,u
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-  data first/.true./,nc0/1/,nc1/1/
-  save
-
-  n1=time()
-  n2=mod(n1,86400)
-  tt=n1-n2+tsec-0.1d0*ndsec
-
-  if(first) then
-     rxdelay=0.2
-     txdelay=0.4
-     tlatency=1.0
-     first=.false.
-     iptt=0
-     ntr0=-99
-     rxdone=.false.
-     ibuf00=-99
-     ncall=-1
-     u=0.05d0
-     fsample=11025.d0
-     mfsample=110250
-     filled=.false.
-  endif
-
-  if(txdelay.lt.0.2d0) txdelay=0.2d0
-
-! Measure average sampling frequency over a recent interval
-  ncall=ncall+1
-  if(ncall.eq.9) then
-     ntt0=0
-     ntt1=0
-     tt1(ntt1)=tt
-  endif
-!  if(ncall.ge.10 .and. mod(ncall,2).eq.1) then
-  if(ncall.ge.10) then
-     ntt1=iand(ntt1+1,NTRING-1)
-     tt1(ntt1)=tt
-     if(ntt1.eq.NTRING-1) filled=.true.
-     if(filled) ntt0=iand(ntt1+1,NTRING-1)
-     if(mod(ncall,2).eq.1) then
-        nd=ntt1-ntt0
-        if(nd.lt.0) nd=nd+NTRING
-        fs=nd*2048.d0/(tt1(ntt1)-tt1(ntt0))
-        fsample=u*fs + (1.d0-u)*fsample
-        mfsample=nint(10.d0*fsample)
-     endif
-  endif
-
-  if(trperiod.le.0) trperiod=30
-  tx1=0.0                              !Time to start a TX sequence
-  tx2=trperiod-(tlatency+txdelay)      !Time to turn TX off
-  if(mode(1:4).eq.'JT65') then
-     if(nwave.lt.126*4096) nwave=126*4096
-     tx2=txdelay + nwave/11025.0
-     if(tx2.gt.(trperiod-2.0)) tx2=trperiod-tlatency-1.0
-  endif
-
-  if(TxFirst.eq.0) then
-     tx1=tx1+trperiod
-     tx2=tx2+trperiod
-  endif
-
-  t=mod(Tsec,2.d0*trperiod)
-  txtime = t.ge.tx1 .and. t.lt.tx2
-
-! If we're transmitting, freeze the input buffer pointers where they were.
-  receiving=1
-  if(((txtime .and. (lauto.eq.1)) .or. TxOK.eq.1 .or. transmitting.eq.1) &amp; 
-       .and. (mute.eq.0)) then
-     receiving=0
-     ibuf=ibuf000
-     iwrite=iwrite000
-  endif
-  ibuf000=ibuf
-  iwrite000=iwrite
-  nsec=Tsec
-  ntr=mod(nsec/trperiod,2)             !ntr=0 in 1st sequence, 1 in 2nd
-
-  if(ntr.ne.ntr0) then
-     ibuf0=ibuf                        !Start of new sequence, save ibuf
-!     if(mode(1:4).ne.'JT65') then
-!        ibuf0=ibuf0+3                  !So we don't copy our own Tx
-!        if(ibuf0.gt.1024) ibuf0=ibuf0-1024
-!     endif
-     ntime=time()                      !Save start time
-     if(mantx.eq.1 .and. iptt.eq.1) then
-        mantx=0
-        TxOK=0
-     endif
-  endif
-
-! Switch PTT line and TxOK appropriately
-  if(lauto.eq.1) then
-     if(txtime .and. iptt.eq.0 .and.          &amp;
-          mute.eq.0) i1=ptt(nport,pttport,1,iptt)        !Raise PTT
-     if(.not.txtime .or. mute.eq.1) TxOK=0               !Lower TxOK
-  else
-     if(mantx.eq.1 .and. iptt.eq.0 .and.      &amp;
-          mute.eq.0) i2=ptt(nport,pttport,1,iptt)        !Raise PTT
-     if(mantx.eq.0 .or. mute.eq.1) TxOK=0                !Lower TxOK
-  endif
-
-! Calculate Tx waveform as needed
-  if((iptt.eq.1 .and. iptt0.eq.0) .or. nrestart.eq.1) then
-     call wsjtgen
-     nrestart=0
-  endif
-
-! If PTT was just raised, start a countdown for raising TxOK:
-  nc1a=txdelay/0.18576
-  if(nc1a.lt.2) nc1a=2
-  if(iptt.eq.1 .and. iptt0.eq.0) nc1=-nc1a-1
-  if(nc1.le.0) nc1=nc1+1
-  if(nc1.eq.0) TxOK=1                               ! We are transmitting
-
-! If TxOK was just lowered, start a countdown for lowering PTT:
-  nc0a=(tlatency+txdelay)/0.18576
-  if(nc0a.lt.5) nc0a=5
-  if(TxOK.eq.0 .and. TxOKz.eq.1 .and. iptt.eq.1) nc0=-nc0a-1
-  if(nc0.le.0) nc0=nc0+1
-  if(nc0.eq.0) i3=ptt(nport,pttport,0,iptt)
-
-  if(iptt.eq.0 .and.TxOK.eq.0) then
-     sending=&quot;                      &quot;
-     sendingsh=0
-  endif
-
-  nbufs=ibuf-ibuf0
-  if(nbufs.lt.0) nbufs=nbufs+1024
-  tdata=nbufs*2048.0/11025.0
-  if(mode(1:4).eq.'JT65' .and. monitoring.eq.1 .and. tdata.gt.53.0    &amp;
-       .and. ibuf0.ne.ibuf00) then
-     rxdone=.true.
-     ibuf00=ibuf0
-  endif
-  iptt0=iptt
-  TxOKz=TxOK
-  ntr0=ntr
-
-  return
-end subroutine fivehz
-
-subroutine fivehztx
-
-!  Called at interrupt level from the PortAudio output callback.
-
-#ifdef CVF
-  use dflib
-  use dfport
-#endif
-
-  parameter (NTRING=64)
-  real*8 tt1(0:NTRING-1)
-  logical first,filled
-  real*8 fs,fsample,tt,u
-  include 'gcom1.f90'
-  data first/.true./
-  save
-
-  n1=time()
-  n2=mod(n1,86400)
-  tt=n1-n2+tsec-0.1d0*ndsec
-
-  if(first) then
-     first=.false.
-     ncall=-1
-     fsample=11025.d0
-     u=0.05d0
-     mfsample2=110250
-     filled=.false.
-  endif
-
-! Measure average sampling frequency over a recent interval
-  ncall=ncall+1
-  if(ncall.eq.9) then
-     ntt0=0
-     ntt1=0
-     tt1(ntt1)=tt
-  endif
-  if(ncall.ge.10) then
-     ntt1=iand(ntt1+1,NTRING-1)
-     tt1(ntt1)=tt
-     if(ntt1.eq.NTRING-1) filled=.true.
-     if(filled) ntt0=iand(ntt1+1,NTRING-1)
-     if(mod(ncall,2).eq.1) then
-        nd=ntt1-ntt0
-        if(nd.lt.0) nd=nd+NTRING
-        fs=nd*2048.d0/(tt1(ntt1)-tt1(ntt0))
-        fsample=u*fs + (1.d0-u)*fsample
-        mfsample2=nint(10.d0*fsample)
-     endif
-  endif
-
-  return
-end subroutine fivehztx
-
-subroutine addnoise(n)
-  integer*2 n
-  real*8 txsnrdb0
-  include 'gcom1.f90'
-  data idum/0/
-  save
-
-  if(txsnrdb.gt.40.0) return
-  if(txsnrdb.ne.txsnrdb0) then
-     snr=10.0**(0.05*(txsnrdb-1))
-     fac=3000.0
-     if(snr.gt.1.0) fac=3000.0/snr
-     txsnrdb0=txsnrdb
-  endif
-  i=fac*(gran(idum) + n*snr/32768.0)
-  if(i&gt;32767) i=32767;
-  if(i&lt;-32767) i=-32767;
-  n=i
-
-  return
-end subroutine addnoise
-
-real function gran(idum)
-  real r(12)
-  if(idum.lt.0) then
-     call random_seed
-     idum=0
-  endif
-  call random_number(r)
-  gran=sum(r)-6.0
-end function gran
+subroutine fivehz
+
+!  Called at interrupt level from the PortAudio callback routine.
+!  For nspb=2048 the callback rate is nfsample/nspb = 5.38 Hz.
+!  Thus, we should be able to control the timing of T/R sequence events
+!  here to within about 0.2 s.
+
+!  Do not do anything very time consuming in this routine!!
+!  Disk I/O is a bad idea.  Writing to stdout (for diagnostic purposes)
+!  seems to be OK.
+
+#ifdef CVF
+  use dflib
+  use dfport
+#endif
+
+  parameter (NTRING=64)
+  real*8 tt1(0:NTRING-1)
+  logical first,txtime,filled
+  integer ptt
+  integer TxOKz
+  real*8 fs,fsample,tt,u
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+  data first/.true./,nc0/1/,nc1/1/
+  save
+
+  n1=time()
+  n2=mod(n1,86400)
+  tt=n1-n2+tsec-0.1d0*ndsec
+
+  if(first) then
+     rxdelay=0.2
+     txdelay=0.4
+     tlatency=1.0
+     first=.false.
+     iptt=0
+     ntr0=-99
+     rxdone=.false.
+     ibuf00=-99
+     ncall=-1
+     u=0.05d0
+     fsample=11025.d0
+     mfsample=110250
+     filled=.false.
+  endif
+
+  if(txdelay.lt.0.2d0) txdelay=0.2d0
+
+! Measure average sampling frequency over a recent interval
+  ncall=ncall+1
+  if(ncall.eq.9) then
+     ntt0=0
+     ntt1=0
+     tt1(ntt1)=tt
+  endif
+!  if(ncall.ge.10 .and. mod(ncall,2).eq.1) then
+  if(ncall.ge.10) then
+     ntt1=iand(ntt1+1,NTRING-1)
+     tt1(ntt1)=tt
+     if(ntt1.eq.NTRING-1) filled=.true.
+     if(filled) ntt0=iand(ntt1+1,NTRING-1)
+     if(mod(ncall,2).eq.1) then
+        nd=ntt1-ntt0
+        if(nd.lt.0) nd=nd+NTRING
+        fs=nd*2048.d0/(tt1(ntt1)-tt1(ntt0))
+        fsample=u*fs + (1.d0-u)*fsample
+        mfsample=nint(10.d0*fsample)
+     endif
+  endif
+
+  if(trperiod.le.0) trperiod=30
+  tx1=0.0                              !Time to start a TX sequence
+  tx2=trperiod-(tlatency+txdelay)      !Time to turn TX off
+  if(mode(1:4).eq.'JT65') then
+     if(nwave.lt.126*4096) nwave=126*4096
+     tx2=txdelay + nwave/11025.0
+     if(tx2.gt.(trperiod-2.0)) tx2=trperiod-tlatency-1.0
+  endif
+
+  if(TxFirst.eq.0) then
+     tx1=tx1+trperiod
+     tx2=tx2+trperiod
+  endif
+
+  t=mod(Tsec,2.d0*trperiod)
+  txtime = t.ge.tx1 .and. t.lt.tx2
+
+! If we're transmitting, freeze the input buffer pointers where they were.
+  receiving=1
+  if(((txtime .and. (lauto.eq.1)) .or. TxOK.eq.1 .or. transmitting.eq.1) &amp; 
+       .and. (mute.eq.0)) then
+     receiving=0
+     ibuf=ibuf000
+     iwrite=iwrite000
+  endif
+  ibuf000=ibuf
+  iwrite000=iwrite
+  nsec=Tsec
+  ntr=mod(nsec/trperiod,2)             !ntr=0 in 1st sequence, 1 in 2nd
+
+  if(ntr.ne.ntr0) then
+     ibuf0=ibuf                        !Start of new sequence, save ibuf
+!     if(mode(1:4).ne.'JT65') then
+!        ibuf0=ibuf0+3                  !So we don't copy our own Tx
+!        if(ibuf0.gt.1024) ibuf0=ibuf0-1024
+!     endif
+     ntime=time()                      !Save start time
+     if(mantx.eq.1 .and. iptt.eq.1) then
+        mantx=0
+        TxOK=0
+     endif
+  endif
+
+! Switch PTT line and TxOK appropriately
+  if(lauto.eq.1) then
+     if(txtime .and. iptt.eq.0 .and.          &amp;
+          mute.eq.0) i1=ptt(nport,pttport,1,iptt)        !Raise PTT
+     if(.not.txtime .or. mute.eq.1) TxOK=0               !Lower TxOK
+  else
+     if(mantx.eq.1 .and. iptt.eq.0 .and.      &amp;
+          mute.eq.0) i2=ptt(nport,pttport,1,iptt)        !Raise PTT
+     if(mantx.eq.0 .or. mute.eq.1) TxOK=0                !Lower TxOK
+  endif
+
+! Calculate Tx waveform as needed
+  if((iptt.eq.1 .and. iptt0.eq.0) .or. nrestart.eq.1) then
+     call wsjtgen
+     nrestart=0
+  endif
+
+! If PTT was just raised, start a countdown for raising TxOK:
+  nc1a=txdelay/0.18576
+  if(nc1a.lt.2) nc1a=2
+  if(iptt.eq.1 .and. iptt0.eq.0) nc1=-nc1a-1
+  if(nc1.le.0) nc1=nc1+1
+  if(nc1.eq.0) TxOK=1                               ! We are transmitting
+
+! If TxOK was just lowered, start a countdown for lowering PTT:
+  nc0a=(tlatency+txdelay)/0.18576
+  if(nc0a.lt.5) nc0a=5
+  if(TxOK.eq.0 .and. TxOKz.eq.1 .and. iptt.eq.1) nc0=-nc0a-1
+  if(nc0.le.0) nc0=nc0+1
+  if(nc0.eq.0) i3=ptt(nport,pttport,0,iptt)
+
+  if(iptt.eq.0 .and.TxOK.eq.0) then
+     sending=&quot;                      &quot;
+     sendingsh=0
+  endif
+
+  nbufs=ibuf-ibuf0
+  if(nbufs.lt.0) nbufs=nbufs+1024
+  tdata=nbufs*2048.0/11025.0
+  if(mode(1:4).eq.'JT65' .and. monitoring.eq.1 .and. tdata.gt.53.0    &amp;
+       .and. ibuf0.ne.ibuf00) then
+     rxdone=.true.
+     ibuf00=ibuf0
+  endif
+  iptt0=iptt
+  TxOKz=TxOK
+  ntr0=ntr
+
+  return
+end subroutine fivehz
+
+subroutine fivehztx
+
+!  Called at interrupt level from the PortAudio output callback.
+
+#ifdef CVF
+  use dflib
+  use dfport
+#endif
+
+  parameter (NTRING=64)
+  real*8 tt1(0:NTRING-1)
+  logical first,filled
+  real*8 fs,fsample,tt,u
+  include 'gcom1.f90'
+  data first/.true./
+  save
+
+  n1=time()
+  n2=mod(n1,86400)
+  tt=n1-n2+tsec-0.1d0*ndsec
+
+  if(first) then
+     first=.false.
+     ncall=-1
+     fsample=11025.d0
+     u=0.05d0
+     mfsample2=110250
+     filled=.false.
+  endif
+
+! Measure average sampling frequency over a recent interval
+  ncall=ncall+1
+  if(ncall.eq.9) then
+     ntt0=0
+     ntt1=0
+     tt1(ntt1)=tt
+  endif
+  if(ncall.ge.10) then
+     ntt1=iand(ntt1+1,NTRING-1)
+     tt1(ntt1)=tt
+     if(ntt1.eq.NTRING-1) filled=.true.
+     if(filled) ntt0=iand(ntt1+1,NTRING-1)
+     if(mod(ncall,2).eq.1) then
+        nd=ntt1-ntt0
+        if(nd.lt.0) nd=nd+NTRING
+        fs=nd*2048.d0/(tt1(ntt1)-tt1(ntt0))
+        fsample=u*fs + (1.d0-u)*fsample
+        mfsample2=nint(10.d0*fsample)
+     endif
+  endif
+
+  return
+end subroutine fivehztx
+
+subroutine addnoise(n)
+  integer*2 n
+  real*8 txsnrdb0
+  include 'gcom1.f90'
+  data idum/0/
+  save
+
+  if(txsnrdb.gt.40.0) return
+  if(txsnrdb.ne.txsnrdb0) then
+     snr=10.0**(0.05*(txsnrdb-1))
+     fac=3000.0
+     if(snr.gt.1.0) fac=3000.0/snr
+     txsnrdb0=txsnrdb
+  endif
+  i=fac*(gran(idum) + n*snr/32768.0)
+  if(i&gt;32767) i=32767;
+  if(i&lt;-32767) i=-32767;
+  n=i
+
+  return
+end subroutine addnoise
+
+real function gran(idum)
+  real r(12)
+  if(idum.lt.0) then
+     call random_seed
+     idum=0
+  endif
+  call random_number(r)
+  gran=sum(r)-6.0
+end function gran


Property changes on: branches/map65/fivehz.F90
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/flushqqq.F90
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/fstatqqq.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/ftn_init.F90
===================================================================
--- branches/map65/ftn_init.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/ftn_init.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,165 +1,165 @@
-! Fortran logical units used in WSJT6
-!
-!   10  binary input data, *.tf2 files
-!   11  decoded.txt
-!   12  decoded.ave
-!   13  tsky.dat
-!   14  azel.dat
-!   15  
-!   16
-!   17  saved *.tf2 files
-!   18  test file to be transmitted (wsjtgen.f90)
-!   19  messages.txt
-!   20  bandmap.txt
-!   21  ALL65.TXT
-!   22  kvasd.dat
-!   23  CALL3.TXT
-!   24  meas24.dat
-!   25  meas25.dat
-!   26  tmp26.txt
-!   27  dphi.txt
-!   28  
-!   29  debug.txt
-!------------------------------------------------ ftn_init
-subroutine ftn_init
-
-  character*1 cjunk
-  integer ptt
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-  include 'gcom3.f90'
-  include 'gcom4.f90'
-
-!  print*,'ftn_init.F90 nport=', nport, 'pttport=', pttport
-  i=ptt(nport,pttport,0,iptt)                       !Clear the PTT line
-  addpfx='    '
-  nrw26=0
-
-  do i=80,1,-1
-     if(AppDir(i:i).ne.' ') goto 1
-  enddo
-1 iz=i
-  lenappdir=iz
-  call pfxdump(appdir(:iz)//'/prefixes.txt')
-
-  do i=80,1,-1
-     if(AzElDir(i:i).ne.' ') goto 2
-  enddo
-2 iz2=i
-
-#ifdef CVF
-  open(11,file=appdir(:iz)//'/decoded.txt',status='unknown',               &amp;
-       share='denynone',err=910)
-#else
-  open(11,file=appdir(:iz)//'/decoded.txt',status='unknown',               &amp;
-       err=910)
-#endif
-  endfile 11
-
-#ifdef CVF
-  open(12,file=appdir(:iz)//'/decoded.ave',status='unknown',               &amp;
-       share='denynone',err=920)
-#else
-  open(12,file=appdir(:iz)//'/decoded.ave',status='unknown',               &amp;
-       err=920)
-#endif
-  endfile 12
-
-#ifdef CVF
-  open(14,file=azeldir(:iz2)//'/azel.dat',status='unknown',                  &amp;
-       share='denynone',err=930)
-#else
-  open(14,file=azeldir(:iz2)//'/azel.dat',status='unknown',                  &amp;
-       err=930)
-#endif
-
-#ifdef CVF
-  open(19,file=appdir(:iz)//'/messages.txt',status='unknown',               &amp;
-       share='denynone',err=911)
-#else
-  open(19,file=appdir(:iz)//'/messages.txt',status='unknown',               &amp;
-       err=911)
-#endif
-  endfile 19
-
-#ifdef CVF
-  open(20,file=appdir(:iz)//'/bandmap.txt',status='unknown',               &amp;
-       share='denynone',err=912)
-#else
-  open(20,file=appdir(:iz)//'/bandmap.txt',status='unknown',               &amp;
-       err=912)
-#endif
-  endfile 20
-
-#ifdef CVF
-  open(21,file=appdir(:iz)//'/ALL65.TXT',status='unknown',                   &amp;
-       access='append',share='denynone',err=950)
-#else
-  open(21,file=appdir(:iz)//'/ALL65.TXT',status='unknown',                   &amp;
-	access='append',err=950)
-  do i=1,9999999
-     read(21,*,end=10) cjunk
-  enddo
-10 continue
-#endif
-
-#ifdef CVF
-  open(22,file=appdir(:iz)//'/kvasd.dat',access='direct',recl=1024,        &amp;
-       status='unknown',share='denynone')
-#else
-  open(22,file=appdir(:iz)//'/kvasd.dat',access='direct',recl=1024,        &amp;
-       status='unknown')
-#endif
-
-#ifdef CVF
-  open(24,file=appdir(:iz)//'/meas24.txt',status='unknown',                 &amp;
-       share='denynone')
-#else
-  open(24,file=appdir(:iz)//'/meas24.txt',status='unknown')
-#endif
-
-#ifdef CVF
-  open(25,file=appdir(:iz)//'/meas25.txt',status='unknown',                 &amp;
-       share='denynone')
-#else
-  open(25,file=appdir(:iz)//'/meas25.txt',status='unknown')
-#endif
-
-#ifdef CVF
-  open(26,file=appdir(:iz)//'/tmp26.txt',status='unknown',                 &amp;
-       share='denynone')
-#else
-  open(26,file=appdir(:iz)//'/tmp26.txt',status='unknown')
-#endif
-
-#ifdef CVF
-  open(27,file=appdir(:iz)//'/dphi.txt',status='unknown',                 &amp;
-       share='denynone')
-#else
-  open(27,file=appdir(:iz)//'/dphi.txt',status='unknown')
-#endif
-
-#ifdef CVF
-  open(29,file=appdir(:iz)//'/debug.txt',status='unknown',                 &amp;
-       share='denynone')
-#else
-  open(29,file=appdir(:iz)//'/debug.txt',status='unknown')
-#endif
-
-
-  return
-
-910 print*,'Error opening DECODED.TXT'
-  stop
-911 print*,'Error opening messages.txt'
-  stop
-912 print*,'Error opening bandmap.txt'
-  stop
-920 print*,'Error opening DECODED.AVE'
-  stop
-930 print*,'Error opening AZEL.DAT'
-  stop
-950 print*,'Error opening ALL65.TXT'
-  stop
-
-end subroutine ftn_init
+! Fortran logical units used in WSJT6
+!
+!   10  binary input data, *.tf2 files
+!   11  decoded.txt
+!   12  decoded.ave
+!   13  tsky.dat
+!   14  azel.dat
+!   15  
+!   16
+!   17  saved *.tf2 files
+!   18  test file to be transmitted (wsjtgen.f90)
+!   19  messages.txt
+!   20  bandmap.txt
+!   21  ALL65.TXT
+!   22  kvasd.dat
+!   23  CALL3.TXT
+!   24  meas24.dat
+!   25  meas25.dat
+!   26  tmp26.txt
+!   27  dphi.txt
+!   28  
+!   29  debug.txt
+!------------------------------------------------ ftn_init
+subroutine ftn_init
+
+  character*1 cjunk
+  integer ptt
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+  include 'gcom3.f90'
+  include 'gcom4.f90'
+
+!  print*,'ftn_init.F90 nport=', nport, 'pttport=', pttport
+  i=ptt(nport,pttport,0,iptt)                       !Clear the PTT line
+  addpfx='    '
+  nrw26=0
+
+  do i=80,1,-1
+     if(AppDir(i:i).ne.' ') goto 1
+  enddo
+1 iz=i
+  lenappdir=iz
+  call pfxdump(appdir(:iz)//'/prefixes.txt')
+
+  do i=80,1,-1
+     if(AzElDir(i:i).ne.' ') goto 2
+  enddo
+2 iz2=i
+
+#ifdef CVF
+  open(11,file=appdir(:iz)//'/decoded.txt',status='unknown',               &amp;
+       share='denynone',err=910)
+#else
+  open(11,file=appdir(:iz)//'/decoded.txt',status='unknown',               &amp;
+       err=910)
+#endif
+  endfile 11
+
+#ifdef CVF
+  open(12,file=appdir(:iz)//'/decoded.ave',status='unknown',               &amp;
+       share='denynone',err=920)
+#else
+  open(12,file=appdir(:iz)//'/decoded.ave',status='unknown',               &amp;
+       err=920)
+#endif
+  endfile 12
+
+#ifdef CVF
+  open(14,file=azeldir(:iz2)//'/azel.dat',status='unknown',                  &amp;
+       share='denynone',err=930)
+#else
+  open(14,file=azeldir(:iz2)//'/azel.dat',status='unknown',                  &amp;
+       err=930)
+#endif
+
+#ifdef CVF
+  open(19,file=appdir(:iz)//'/messages.txt',status='unknown',               &amp;
+       share='denynone',err=911)
+#else
+  open(19,file=appdir(:iz)//'/messages.txt',status='unknown',               &amp;
+       err=911)
+#endif
+  endfile 19
+
+#ifdef CVF
+  open(20,file=appdir(:iz)//'/bandmap.txt',status='unknown',               &amp;
+       share='denynone',err=912)
+#else
+  open(20,file=appdir(:iz)//'/bandmap.txt',status='unknown',               &amp;
+       err=912)
+#endif
+  endfile 20
+
+#ifdef CVF
+  open(21,file=appdir(:iz)//'/ALL65.TXT',status='unknown',                   &amp;
+       access='append',share='denynone',err=950)
+#else
+  open(21,file=appdir(:iz)//'/ALL65.TXT',status='unknown',                   &amp;
+	access='append',err=950)
+  do i=1,9999999
+     read(21,*,end=10) cjunk
+  enddo
+10 continue
+#endif
+
+#ifdef CVF
+  open(22,file=appdir(:iz)//'/kvasd.dat',access='direct',recl=1024,        &amp;
+       status='unknown',share='denynone')
+#else
+  open(22,file=appdir(:iz)//'/kvasd.dat',access='direct',recl=1024,        &amp;
+       status='unknown')
+#endif
+
+#ifdef CVF
+  open(24,file=appdir(:iz)//'/meas24.txt',status='unknown',                 &amp;
+       share='denynone')
+#else
+  open(24,file=appdir(:iz)//'/meas24.txt',status='unknown')
+#endif
+
+#ifdef CVF
+  open(25,file=appdir(:iz)//'/meas25.txt',status='unknown',                 &amp;
+       share='denynone')
+#else
+  open(25,file=appdir(:iz)//'/meas25.txt',status='unknown')
+#endif
+
+#ifdef CVF
+  open(26,file=appdir(:iz)//'/tmp26.txt',status='unknown',                 &amp;
+       share='denynone')
+#else
+  open(26,file=appdir(:iz)//'/tmp26.txt',status='unknown')
+#endif
+
+#ifdef CVF
+  open(27,file=appdir(:iz)//'/dphi.txt',status='unknown',                 &amp;
+       share='denynone')
+#else
+  open(27,file=appdir(:iz)//'/dphi.txt',status='unknown')
+#endif
+
+#ifdef CVF
+  open(29,file=appdir(:iz)//'/debug.txt',status='unknown',                 &amp;
+       share='denynone')
+#else
+  open(29,file=appdir(:iz)//'/debug.txt',status='unknown')
+#endif
+
+
+  return
+
+910 print*,'Error opening DECODED.TXT'
+  stop
+911 print*,'Error opening messages.txt'
+  stop
+912 print*,'Error opening bandmap.txt'
+  stop
+920 print*,'Error opening DECODED.AVE'
+  stop
+930 print*,'Error opening AZEL.DAT'
+  stop
+950 print*,'Error opening ALL65.TXT'
+  stop
+
+end subroutine ftn_init


Property changes on: branches/map65/ftn_init.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/ftn_quit.f90
===================================================================
--- branches/map65/ftn_quit.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/ftn_quit.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,9 +1,9 @@
-!------------------------------------------------ ftn_quit
-subroutine ftn_quit
-  include 'gcom1.f90'
-  ngo=0
-! Destroy the FFTW plans
-  call four2a(a,-1,1,1,1)
-  call filbig(id,-1,f0,newdat,c4a,c4b,n4)
-  return
-end subroutine ftn_quit
+!------------------------------------------------ ftn_quit
+subroutine ftn_quit
+  include 'gcom1.f90'
+  ngo=0
+! Destroy the FFTW plans
+  call four2a(a,-1,1,1,1)
+  call filbig(id,-1,f0,newdat,c4a,c4b,n4)
+  return
+end subroutine ftn_quit


Property changes on: branches/map65/ftn_quit.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/gcom1.f90
===================================================================
--- branches/map65/gcom1.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/gcom1.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,51 +1,51 @@
-! Variable             Purpose                               Set in Thread
-!---------------------------------------------------------------------------
-integer NRXMAX         !Max length of Rx ring buffers
-integer NTXMAX         !Max length of Tx waveform in samples
-parameter(NRXMAX=2097152)  ! =2048*1024
-parameter(NTXMAX=1653750)  ! =150*11025
-real*8 tbuf            !Tsec at time of input callback          SoundIn
-integer ntrbuf         !(obsolete?)
-real*8 Tsec            !Present time                       SoundIn,SoundOut
-real*8 rxdelay         !Delay between PTT=1 and Tx audio        SoundIn
-real*8 txdelay         !Delay from end of Tx Audio and PTT=0    SoundOut
-real*8 samfacin        !(Input sample rate)/11025               GUI
-real*8 samfacout       !(Output sample rate)/11025              GUI
-real*8 txsnrdb         !SNR for simulations                     GUI
-integer*2 y1           !Ring buffer for audio channel 0         SoundIn
-integer*2 y2           !Ring buffer for audio channel 1         SoundIn
-integer nmax           !Actual length of Rx ring buffers        GUI
-integer iwrite         !Write pointer to Rx ring buffer         SoundIn
-integer iread          !Read pointer to Rx ring buffer          GUI
-integer*2 iwave        !Data for audio output                   SoundIn
-integer nwave          !Number of samples in iwave              SoundIn
-integer TxOK           !OK to transmit?                         SoundIn
-!                       NB: TxOK=1 only in SoundIn; TxOK=0 also in GUI
-integer Receiving      !Actually receiving?                     SoundIn
-integer Transmitting   !Actually transmitting?                  SoundOut
-integer TxFirst        !Transmit first?                         GUI
-integer TRPeriod       !Tx or Rx period in seconds              GUI
-integer ibuf           !Most recent input buffer#               SoundIn
-integer ibuf0          !Buffer# at start of Rx sequence         SoundIn
-real ave               !(why is this here?)                     GUI
-real rms               !(why is this here?)                     GUI
-integer ngo            !Set to 0 to terminate audio streams     GUI
-integer level          !S-meter level, 0-100                    GUI
-integer mute           !True means &quot;don't transmit&quot;             GUI
-integer newdat         !New data available for waterfall?       GUI
-integer ndsec          !Dsec in units of 0.1 s                  GUI
-integer ndevin         !Device# for audio input                 GUI
-integer ndevout        !Device# for audio output                GUI
-integer mfsample       !Measured sample rate, input             SoundIn
-integer mfsample2      !Measured sample rate, output            SoundOut
-integer ns0            !Time at last ALL.TXT date entry         Decoder
-character*12 devin_name,devout_name ! GUI
-
-common/gcom1/Tbuf(1024),ntrbuf(1024),Tsec,rxdelay,txdelay,              &amp;
-     samfacin,samfacout,txsnrdb,y1(NRXMAX),y2(NRXMAX),                  &amp;
-     nmax,iwrite,iread,iwave(NTXMAX),nwave,TxOK,Receiving,Transmitting, &amp;
-     TxFirst,TRPeriod,ibuf,ibuf0,ave,rms,ngo,level,mute,newdat,ndsec,   &amp;
-     ndevin,ndevout,mfsample,mfsample2,ns0,devin_name,devout_name
-
-!### volatile /gcom1/
-
+! Variable             Purpose                               Set in Thread
+!---------------------------------------------------------------------------
+integer NRXMAX         !Max length of Rx ring buffers
+integer NTXMAX         !Max length of Tx waveform in samples
+parameter(NRXMAX=2097152)  ! =2048*1024
+parameter(NTXMAX=1653750)  ! =150*11025
+real*8 tbuf            !Tsec at time of input callback          SoundIn
+integer ntrbuf         !(obsolete?)
+real*8 Tsec            !Present time                       SoundIn,SoundOut
+real*8 rxdelay         !Delay between PTT=1 and Tx audio        SoundIn
+real*8 txdelay         !Delay from end of Tx Audio and PTT=0    SoundOut
+real*8 samfacin        !(Input sample rate)/11025               GUI
+real*8 samfacout       !(Output sample rate)/11025              GUI
+real*8 txsnrdb         !SNR for simulations                     GUI
+integer*2 y1           !Ring buffer for audio channel 0         SoundIn
+integer*2 y2           !Ring buffer for audio channel 1         SoundIn
+integer nmax           !Actual length of Rx ring buffers        GUI
+integer iwrite         !Write pointer to Rx ring buffer         SoundIn
+integer iread          !Read pointer to Rx ring buffer          GUI
+integer*2 iwave        !Data for audio output                   SoundIn
+integer nwave          !Number of samples in iwave              SoundIn
+integer TxOK           !OK to transmit?                         SoundIn
+!                       NB: TxOK=1 only in SoundIn; TxOK=0 also in GUI
+integer Receiving      !Actually receiving?                     SoundIn
+integer Transmitting   !Actually transmitting?                  SoundOut
+integer TxFirst        !Transmit first?                         GUI
+integer TRPeriod       !Tx or Rx period in seconds              GUI
+integer ibuf           !Most recent input buffer#               SoundIn
+integer ibuf0          !Buffer# at start of Rx sequence         SoundIn
+real ave               !(why is this here?)                     GUI
+real rms               !(why is this here?)                     GUI
+integer ngo            !Set to 0 to terminate audio streams     GUI
+integer level          !S-meter level, 0-100                    GUI
+integer mute           !True means &quot;don't transmit&quot;             GUI
+integer newdat         !New data available for waterfall?       GUI
+integer ndsec          !Dsec in units of 0.1 s                  GUI
+integer ndevin         !Device# for audio input                 GUI
+integer ndevout        !Device# for audio output                GUI
+integer mfsample       !Measured sample rate, input             SoundIn
+integer mfsample2      !Measured sample rate, output            SoundOut
+integer ns0            !Time at last ALL.TXT date entry         Decoder
+character*12 devin_name,devout_name ! GUI
+
+common/gcom1/Tbuf(1024),ntrbuf(1024),Tsec,rxdelay,txdelay,              &amp;
+     samfacin,samfacout,txsnrdb,y1(NRXMAX),y2(NRXMAX),                  &amp;
+     nmax,iwrite,iread,iwave(NTXMAX),nwave,TxOK,Receiving,Transmitting, &amp;
+     TxFirst,TRPeriod,ibuf,ibuf0,ave,rms,ngo,level,mute,newdat,ndsec,   &amp;
+     ndevin,ndevout,mfsample,mfsample2,ns0,devin_name,devout_name
+
+!### volatile /gcom1/
+


Property changes on: branches/map65/gcom1.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/gcom2.f90
===================================================================
--- branches/map65/gcom2.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/gcom2.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,121 +1,121 @@
-! Variable             Purpose                              Set in Thread
-!-------------------------------------------------------------------------
-real*8 fcenter         !Linrad center freq, from pkt header   recvpkt
-real ps0               !Spectrum of best ping, FSK441/JT6m      Decoder
-real psavg             !Average spectrum                        Decoder
-real s2                !2d spectrum for horizontal waterfall    GUI
-real ccf               !CCF in time (blue curve)                Decoder
-real green             !Data for green line                     GUI
-real fselect           !Specified QSO frequency                 GUI
-real pctlost           !Percent of lost packets                 Decoder
-real pctblank          !Percent of blanked blocks/packets       Decoder
-real rxnoise           !Rx noise in dB                        recvpkt
-real dphi              !Phase shift between pol'n channels   GUI,Decoder
-integer ngreen         !Length of green                         GUI
-real dgain             !Digital audio gain setting              GUI
-integer ndecoding      !Decoder status (see decode2.f90)     GUI,Decoder
-integer ndecoding0     !Status on previous decode            GUI,Decoder
-integer mousebutton    !Which button was clicked?               GUI
-integer multicast      !1 for multicast data, 0 for unicast     GUI
-integer ndecdone       !Is decoder finished?                 GUI,Decoder
-integer ierr           !Error opening *.tf2 file                GUI
-integer lauto          !Are we in Auto mode?                    GUI
-integer mantx          !Manual transmission requested?       GUI,SoundIn
-integer nrestart       !True if transmission should restart  GUI,SoundIn
-integer ntr            !Are we in 2nd sequence?                 SoundIn
-integer nmsg           !Length of Tx message                    SoundIn
-integer nsave          !Which files to save?                    GUI
-integer nadd5          !Prepend 5 sec of 0's before decoding?   GUI 
-integer dftolerance    !DF tolerance (Hz)                       GUI
-logical LDecoded       !Was a message decoded?                  Decoder
-logical rxdone         !Has the Rx sequence finished?      SoundIn,Decoder
-integer monitoring     !Are we monitoring?                      GUI
-integer nzap           !Is Zap checked?                         GUI
-integer minsigdb       !Decoder threshold setting               GUI
-integer nclearave      !Set to 1 to clear JT65 avg         GUI,Decoder
-integer nfreeze        !Is Freeze checked?                      GUI
-integer nafc           !Is AFC checked?                         GUI
-integer ncsmin         !Minimum length of callsign in bandmap   GUI
-integer newspec        !New spectra in ss(4,322,NSMAX)     GUI,Decoder
-integer nfa            !Low end of map65 search (def 100 kHz)   GUI
-integer nfb            !High end of map65 search (def 160 kHz)  GUI
-integer nfcal          !Calibration offset, Hz                  GUI
-integer idphi          !Phase offset in Y channel (deg)         GUI
-integer nkeep          !Timeout limit for band maps (min)       GUI
-integer nmode          !Which WSJT mode?                   GUI,Decoder
-integer mode65         !JT65 sub-mode (A/B/C ==&gt; 1/2/4) GUI,SoundIn,Decoder
-integer nbpp           !# FFT Bins/pixel, wideband waterfall   Spec
-integer ndebug         !Write debugging info?                   GUI
-integer ndphi          !Set to 1 to compute dphi             GUI,Decoder
-integer nhispol        !Pol angle matching HisCall or HisGrid Decoder
-integer nt1            !Time to start FFTs                      GUI
-integer nblank         !Is NB checked?                          GUI
-integer nfmid          !Center frequency of main display        GUI
-integer nfrange        !Frequency range of main display         GUI
-integer nport          !Requested COM port number               GUI
-integer mousedf        !Mouse-selected freq offset, DF          GUI
-integer mousefqso      !Mouse-selected QSO freq                 GUI
-integer neme           !EME calls only in deep search?          GUI
-integer nrw26          !Request to rewind lu 26 (tmp26.txt)  GUI,Decoder
-integer naggressive    !Is &quot;Aggressive decoding&quot; checked?       GUI
-integer ntx2           !Is &quot;No shorthands if Tx1&quot; checked?      GUI
-integer nagain         !Decode same file again?                 GUI
-integer shok           !Shorthand messages OK?                  GUI
-integer sendingsh      !Sending a shorthand message?            SoundIn
-integer*2 d2a          !Rx data, extracted from y1              Decoder
-integer*2 d2b          !Rx data, selected by mouse-pick         Decoder
-integer*2 b            !Pixel values for waterfall spectrum     GUI
-integer jza            !Length of data in d2a                GUI,Decoder
-integer jzb            !(why is this here?)
-integer ntime          !Integer Unix time (now)               SoundIn
-integer idinterval     !Interval between CWIDs, minutes         GUI
-integer msmax          !(why is this here?)
-integer lenappdir      !Length of Appdir string                 GUI
-integer idf            !Frequency offset in Hz                  Decoder
-integer ndiskdat       !1 if data read from disk, 0 otherwise   GUI
-integer nlines         !Available lines of waterfall data       GUI
-integer nflat          !Is waterfall to be flattened?           GUI
-integer ntxreq         !Tx msg# requested                       GUI
-integer ntxnow         !Tx msg# being sent now                  GUI
-integer ndepth         !Requested &quot;depth&quot; of JT65 decoding      GUI
-integer nspecial       !JT65 shorthand msg#: RO=2 RRR=3 73=4    Decoder
-integer ndf            !Measured DF in Hz                       Decoder
-real ss1               !Magenta curve for JT65 shorthand msg    Decoder
-real ss2               !Orange curve for JT65 shorthand msg     Decoder
-character mycall*12    !My call sign                            GUI
-character hiscall*12   !His call sign                           GUI
-character hisgrid*6    !His grid locator                        GUI
-character txmsg*28     !Message to be transmitted               GUI
-character sending*28   !Message being sent                      SoundIn
-character mode*6       !WSJT operating mode                     GUI
-character utcdate*12   !UTC date                                GUI
-character*24 fname0    !Filenames to be recorded, read, ...     Decoder
-character*24 fnamea
-character*24 fnameb
-character*6  fnamedate
-character*24 decodedfile
-character*80 AppDir      !WSJT installation directory           GUI
-character*80 AzElDir     !Directory for azel.dat                GUI
-character*80 SaveDir     !Directory for saved data files        GUI
-character*80 filetokilla !Filenames (full path)                 Decoder
-character*80 filetokillb
-character*12 pttport
-character*8 utcdata     !HHMM UTC for the processed data       Decoder
-
-common/gcom2/fcenter,ps0(431),psavg(450),s2(64,3100),ccf(-5:540),           &amp;
-     green(500),fselect,pctlost,pctblank,rxnoise,dphi,ngreen,dgain,         &amp;
-     ndecoding,ndecoding0,mousebutton,multicast,nsetftx,ierr,               &amp;
-     ndecdone,lauto,mantx,nrestart,ntr,nmsg,nsave,nadd5,                    &amp;
-     dftolerance,LDecoded,rxdone,monitoring,nzap,minsigdb,                  &amp;
-     nclearave,nfreeze,nafc,ncsmin,newspec,nfa,nfb,nfcal,idphi,nkeep,       &amp;
-     nmode,mode65,nbpp,ndebug,ndphi,nhispol,nt1,                            &amp;
-     nblank,nport,mousedf,mousefqso,neme,nrw26,naggressive,ntx2,nagain,     &amp;
-     shok,sendingsh,d2a(661500),d2b(661500),b(60000),jza,jzb,ntime,         &amp;
-     idinterval,msmax,lenappdir,idf,ndiskdat,nlines,nflat,ntxreq,ntxnow,    &amp;
-     ndepth,nspecial,ndf,nfmid,nfrange,ss1(-224:224),ss2(-224:224),         &amp;
-     mycall,hiscall,hisgrid,txmsg,sending,mode,fname0,fnamea,               &amp;
-     fnameb,fnamedate,decodedfile,AppDir,AzElDir,SaveDir,                   &amp;
-     filetokilla,filetokillb,utcdate,pttport,utcdata
-
-!### volatile /gcom2/
-
+! Variable             Purpose                              Set in Thread
+!-------------------------------------------------------------------------
+real*8 fcenter         !Linrad center freq, from pkt header   recvpkt
+real ps0               !Spectrum of best ping, FSK441/JT6m      Decoder
+real psavg             !Average spectrum                        Decoder
+real s2                !2d spectrum for horizontal waterfall    GUI
+real ccf               !CCF in time (blue curve)                Decoder
+real green             !Data for green line                     GUI
+real fselect           !Specified QSO frequency                 GUI
+real pctlost           !Percent of lost packets                 Decoder
+real pctblank          !Percent of blanked blocks/packets       Decoder
+real rxnoise           !Rx noise in dB                        recvpkt
+real dphi              !Phase shift between pol'n channels   GUI,Decoder
+integer ngreen         !Length of green                         GUI
+real dgain             !Digital audio gain setting              GUI
+integer ndecoding      !Decoder status (see decode2.f90)     GUI,Decoder
+integer ndecoding0     !Status on previous decode            GUI,Decoder
+integer mousebutton    !Which button was clicked?               GUI
+integer multicast      !1 for multicast data, 0 for unicast     GUI
+integer ndecdone       !Is decoder finished?                 GUI,Decoder
+integer ierr           !Error opening *.tf2 file                GUI
+integer lauto          !Are we in Auto mode?                    GUI
+integer mantx          !Manual transmission requested?       GUI,SoundIn
+integer nrestart       !True if transmission should restart  GUI,SoundIn
+integer ntr            !Are we in 2nd sequence?                 SoundIn
+integer nmsg           !Length of Tx message                    SoundIn
+integer nsave          !Which files to save?                    GUI
+integer nadd5          !Prepend 5 sec of 0's before decoding?   GUI 
+integer dftolerance    !DF tolerance (Hz)                       GUI
+logical LDecoded       !Was a message decoded?                  Decoder
+logical rxdone         !Has the Rx sequence finished?      SoundIn,Decoder
+integer monitoring     !Are we monitoring?                      GUI
+integer nzap           !Is Zap checked?                         GUI
+integer minsigdb       !Decoder threshold setting               GUI
+integer nclearave      !Set to 1 to clear JT65 avg         GUI,Decoder
+integer nfreeze        !Is Freeze checked?                      GUI
+integer nafc           !Is AFC checked?                         GUI
+integer ncsmin         !Minimum length of callsign in bandmap   GUI
+integer newspec        !New spectra in ss(4,322,NSMAX)     GUI,Decoder
+integer nfa            !Low end of map65 search (def 100 kHz)   GUI
+integer nfb            !High end of map65 search (def 160 kHz)  GUI
+integer nfcal          !Calibration offset, Hz                  GUI
+integer idphi          !Phase offset in Y channel (deg)         GUI
+integer nkeep          !Timeout limit for band maps (min)       GUI
+integer nmode          !Which WSJT mode?                   GUI,Decoder
+integer mode65         !JT65 sub-mode (A/B/C ==&gt; 1/2/4) GUI,SoundIn,Decoder
+integer nbpp           !# FFT Bins/pixel, wideband waterfall   Spec
+integer ndebug         !Write debugging info?                   GUI
+integer ndphi          !Set to 1 to compute dphi             GUI,Decoder
+integer nhispol        !Pol angle matching HisCall or HisGrid Decoder
+integer nt1            !Time to start FFTs                      GUI
+integer nblank         !Is NB checked?                          GUI
+integer nfmid          !Center frequency of main display        GUI
+integer nfrange        !Frequency range of main display         GUI
+integer nport          !Requested COM port number               GUI
+integer mousedf        !Mouse-selected freq offset, DF          GUI
+integer mousefqso      !Mouse-selected QSO freq                 GUI
+integer neme           !EME calls only in deep search?          GUI
+integer nrw26          !Request to rewind lu 26 (tmp26.txt)  GUI,Decoder
+integer naggressive    !Is &quot;Aggressive decoding&quot; checked?       GUI
+integer ntx2           !Is &quot;No shorthands if Tx1&quot; checked?      GUI
+integer nagain         !Decode same file again?                 GUI
+integer shok           !Shorthand messages OK?                  GUI
+integer sendingsh      !Sending a shorthand message?            SoundIn
+integer*2 d2a          !Rx data, extracted from y1              Decoder
+integer*2 d2b          !Rx data, selected by mouse-pick         Decoder
+integer*2 b            !Pixel values for waterfall spectrum     GUI
+integer jza            !Length of data in d2a                GUI,Decoder
+integer jzb            !(why is this here?)
+integer ntime          !Integer Unix time (now)               SoundIn
+integer idinterval     !Interval between CWIDs, minutes         GUI
+integer msmax          !(why is this here?)
+integer lenappdir      !Length of Appdir string                 GUI
+integer idf            !Frequency offset in Hz                  Decoder
+integer ndiskdat       !1 if data read from disk, 0 otherwise   GUI
+integer nlines         !Available lines of waterfall data       GUI
+integer nflat          !Is waterfall to be flattened?           GUI
+integer ntxreq         !Tx msg# requested                       GUI
+integer ntxnow         !Tx msg# being sent now                  GUI
+integer ndepth         !Requested &quot;depth&quot; of JT65 decoding      GUI
+integer nspecial       !JT65 shorthand msg#: RO=2 RRR=3 73=4    Decoder
+integer ndf            !Measured DF in Hz                       Decoder
+real ss1               !Magenta curve for JT65 shorthand msg    Decoder
+real ss2               !Orange curve for JT65 shorthand msg     Decoder
+character mycall*12    !My call sign                            GUI
+character hiscall*12   !His call sign                           GUI
+character hisgrid*6    !His grid locator                        GUI
+character txmsg*28     !Message to be transmitted               GUI
+character sending*28   !Message being sent                      SoundIn
+character mode*6       !WSJT operating mode                     GUI
+character utcdate*12   !UTC date                                GUI
+character*24 fname0    !Filenames to be recorded, read, ...     Decoder
+character*24 fnamea
+character*24 fnameb
+character*6  fnamedate
+character*24 decodedfile
+character*80 AppDir      !WSJT installation directory           GUI
+character*80 AzElDir     !Directory for azel.dat                GUI
+character*80 SaveDir     !Directory for saved data files        GUI
+character*80 filetokilla !Filenames (full path)                 Decoder
+character*80 filetokillb
+character*12 pttport
+character*8 utcdata     !HHMM UTC for the processed data       Decoder
+
+common/gcom2/fcenter,ps0(431),psavg(450),s2(64,3100),ccf(-5:540),           &amp;
+     green(500),fselect,pctlost,pctblank,rxnoise,dphi,ngreen,dgain,         &amp;
+     ndecoding,ndecoding0,mousebutton,multicast,nsetftx,ierr,               &amp;
+     ndecdone,lauto,mantx,nrestart,ntr,nmsg,nsave,nadd5,                    &amp;
+     dftolerance,LDecoded,rxdone,monitoring,nzap,minsigdb,                  &amp;
+     nclearave,nfreeze,nafc,ncsmin,newspec,nfa,nfb,nfcal,idphi,nkeep,       &amp;
+     nmode,mode65,nbpp,ndebug,ndphi,nhispol,nt1,                            &amp;
+     nblank,nport,mousedf,mousefqso,neme,nrw26,naggressive,ntx2,nagain,     &amp;
+     shok,sendingsh,d2a(661500),d2b(661500),b(60000),jza,jzb,ntime,         &amp;
+     idinterval,msmax,lenappdir,idf,ndiskdat,nlines,nflat,ntxreq,ntxnow,    &amp;
+     ndepth,nspecial,ndf,nfmid,nfrange,ss1(-224:224),ss2(-224:224),         &amp;
+     mycall,hiscall,hisgrid,txmsg,sending,mode,fname0,fnamea,               &amp;
+     fnameb,fnamedate,decodedfile,AppDir,AzElDir,SaveDir,                   &amp;
+     filetokilla,filetokillb,utcdate,pttport,utcdata
+
+!### volatile /gcom2/
+


Property changes on: branches/map65/gcom2.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/gcom3.f90
===================================================================
--- branches/map65/gcom3.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/gcom3.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,20 +1,20 @@
-! Variable             Purpose                              Set in Thread
-!-------------------------------------------------------------------------
-integer*2 nfmt2        !Standard header for *.WAV file         Decoder
-integer*2 nchan2
-integer*2 nbitsam2
-integer*2 nbytesam2
-integer*4 nchunk
-integer*4 lenfmt
-integer*4 nsamrate
-integer*4 nbytesec
-integer*4 ndata
-character*4 ariff
-character*4 awave
-character*4 afmt
-character*4 adata
-
-common/gcom3/ariff,nchunk,awave,afmt,lenfmt,nfmt2,nchan2,nsamrate, &amp;
-     nbytesec,nbytesam2,nbitsam2,adata,ndata
-
-!### volatile /gcom3/
+! Variable             Purpose                              Set in Thread
+!-------------------------------------------------------------------------
+integer*2 nfmt2        !Standard header for *.WAV file         Decoder
+integer*2 nchan2
+integer*2 nbitsam2
+integer*2 nbytesam2
+integer*4 nchunk
+integer*4 lenfmt
+integer*4 nsamrate
+integer*4 nbytesec
+integer*4 ndata
+character*4 ariff
+character*4 awave
+character*4 afmt
+character*4 adata
+
+common/gcom3/ariff,nchunk,awave,afmt,lenfmt,nfmt2,nchan2,nsamrate, &amp;
+     nbytesec,nbytesam2,nbitsam2,adata,ndata
+
+!### volatile /gcom3/


Property changes on: branches/map65/gcom3.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/gcom4.f90
===================================================================
--- branches/map65/gcom4.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/gcom4.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,10 +1,10 @@
-! Variable             Purpose                              Set in Thread
-!-------------------------------------------------------------------------
-character addpfx*8     !Add-on prefix, as in ZA/PA2CHR           GUI
-integer*2 d2c          !Rx data recovered from recorded file     GUI
-integer jzc            !Length of data available in d2c          GUI
-character filename*24  !Name of wave file read from disk         GUI
-
-common/gcom4/addpfx,d2c(661500),jzc,filename
-
-!### volatile /gcom4/
+! Variable             Purpose                              Set in Thread
+!-------------------------------------------------------------------------
+character addpfx*8     !Add-on prefix, as in ZA/PA2CHR           GUI
+integer*2 d2c          !Rx data recovered from recorded file     GUI
+integer jzc            !Length of data available in d2c          GUI
+character filename*24  !Name of wave file read from disk         GUI
+
+common/gcom4/addpfx,d2c(661500),jzc,filename
+
+!### volatile /gcom4/


Property changes on: branches/map65/gcom4.f90
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/getdphi.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/getfile.F90
===================================================================
--- branches/map65/getfile.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/getfile.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,14 +1,14 @@
-!----------------------------------------------------- getfile
-subroutine getfile(fname,len)
-  character*(*) fname
-
-  include 'datcom.f90'
-  include 'gcom2.f90'
-
-  fname80=fname
-  nlen=len
-  newdat2=1
-  ierr=0
-
-  return
-end subroutine getfile
+!----------------------------------------------------- getfile
+subroutine getfile(fname,len)
+  character*(*) fname
+
+  include 'datcom.f90'
+  include 'gcom2.f90'
+
+  fname80=fname
+  nlen=len
+  newdat2=1
+  ierr=0
+
+  return
+end subroutine getfile


Property changes on: branches/map65/getfile.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/getfile2.F90
===================================================================
--- branches/map65/getfile2.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/getfile2.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,59 +1,59 @@
-subroutine getfile2(fname,len)
-
-#ifdef CVF
-  use dflib
-#endif
-
-  character*(*) fname
-  real*8 sq
-
-  include 'datcom.f90'
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-  include 'gcom4.f90'
-
-1 if(ndecoding.eq.0) go to 2
-#ifdef CVF
-  call sleepqq(100)
-#else
-  call usleep(100*1000)
-#endif
-
-  go to 1
-
-2 do i=len,1,-1
-     if(fname(i:i).eq.'/' .or. fname(i:i).eq.'\\') go to 10
-  enddo
-  i=0
-10 filename=fname(i+1:)
-  ierr=0
-
-  n=8*NSMAX
-  ndecoding=4
-  monitoring=0
-  kbuf=1
-
-  call rfile3a(fname,id,n,ierr)
-  if(ierr.ne.0) then
-     print*,'Error opening or reading file: ',fname,ierr
-     go to 999
-  endif
-
-  sq=0.
-  ka=0.1*NSMAX
-  kb=0.8*NSMAX
-  do k=ka,kb
-     sq=sq + float(int(id(1,k,1)))**2 + float(int(id(2,k,1)))**2 +    &amp;
-          float(int(id(3,k,1)))**2 + float(int(id(4,k,1)))**2
-  enddo
-  sqave=174*sq/(kb-ka+1)
-  rxnoise=10.0*log10(sqave) - 48.0
-  read(filename(8:11),*,err=20,end=20) nutc
-  go to 30
-20 nutc=0
-
-30 ndiskdat=1
-  mousebutton=0
-
-999 return
-end subroutine getfile2
+subroutine getfile2(fname,len)
+
+#ifdef CVF
+  use dflib
+#endif
+
+  character*(*) fname
+  real*8 sq
+
+  include 'datcom.f90'
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+  include 'gcom4.f90'
+
+1 if(ndecoding.eq.0) go to 2
+#ifdef CVF
+  call sleepqq(100)
+#else
+  call usleep(100*1000)
+#endif
+
+  go to 1
+
+2 do i=len,1,-1
+     if(fname(i:i).eq.'/' .or. fname(i:i).eq.'\\') go to 10
+  enddo
+  i=0
+10 filename=fname(i+1:)
+  ierr=0
+
+  n=8*NSMAX
+  ndecoding=4
+  monitoring=0
+  kbuf=1
+
+  call rfile3a(fname,id,n,ierr)
+  if(ierr.ne.0) then
+     print*,'Error opening or reading file: ',fname,ierr
+     go to 999
+  endif
+
+  sq=0.
+  ka=0.1*NSMAX
+  kb=0.8*NSMAX
+  do k=ka,kb
+     sq=sq + float(int(id(1,k,1)))**2 + float(int(id(2,k,1)))**2 +    &amp;
+          float(int(id(3,k,1)))**2 + float(int(id(4,k,1)))**2
+  enddo
+  sqave=174*sq/(kb-ka+1)
+  rxnoise=10.0*log10(sqave) - 48.0
+  read(filename(8:11),*,err=20,end=20) nutc
+  go to 30
+20 nutc=0
+
+30 ndiskdat=1
+  mousebutton=0
+
+999 return
+end subroutine getfile2


Property changes on: branches/map65/getfile2.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/i1tor4.f90
===================================================================
--- branches/map65/i1tor4.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/i1tor4.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,19 +1,19 @@
-
-!--------------------------------------------------- i1tor4
-subroutine i1tor4(d,jz,data)
-
-!  Convert wavefile byte data from to real*4.
-
-  integer*1 d(jz)
-  real data(jz)
-  integer*1 i1
-  equivalence(i1,i4)
-
-  do i=1,jz
-     n=d(i)
-     i4=n-128
-     data(i)=i1
-  enddo
-
-  return
-end subroutine i1tor4
+
+!--------------------------------------------------- i1tor4
+subroutine i1tor4(d,jz,data)
+
+!  Convert wavefile byte data from to real*4.
+
+  integer*1 d(jz)
+  real data(jz)
+  integer*1 i1
+  equivalence(i1,i4)
+
+  do i=1,jz
+     n=d(i)
+     i4=n-128
+     data(i)=i1
+  enddo
+
+  return
+end subroutine i1tor4


Property changes on: branches/map65/i1tor4.f90
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/loc.c
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/map65a.F90
===================================================================
--- branches/map65/map65a.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/map65a.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,389 +1,389 @@
-subroutine map65a(newdat)
-
-!  Processes timf2 data from Linrad to find and decode JT65 signals.
-
-  parameter (MAXMSG=1000)            !Size of decoded message list
-  real tavg(-50:50)                  !Temp for finding local base level
-  real base(4)                       !Local basel level at 4 pol'ns
-  real tmp (200)                     !Temp storage for pctile sorting
-  real sig(MAXMSG,30)                !Parameters of detected signals
-  real a(5)
-  character*22 msg(MAXMSG)
-  character*3 shmsg0(4)
-  integer indx(MAXMSG),nsiz(MAXMSG)
-  logical done(MAXMSG)
-  character decoded*22,blank*22
-  include 'spcom.f90'
-  real short(3,NFFT)                 !SNR dt ipol for potential shorthands
-  real qphi(12)
-  include 'gcom2.f90'
-  include 'datcom.f90'
-  data blank/'                      '/
-  data shmsg0/'ATT','RO ','RRR','73 '/
-  data nfile/0/,nutc0/-999/,nid/0/,ip000/1/,ip001/1/,mousefqso0/-999/
-  save
-
-  if(mousefqso.ne.mousefqso0 .and. nagain.eq.1) newspec=2
-  mousefqso0=mousefqso
-  nfoffset=nint(1000*(fcenter-144.125d0))
-  mfqso=mousefqso - nfoffset
-
-  rewind 11
-  rewind 12
-  if(nrw26.ne.0) then
-     endfile (26)              !Compiler bug?  Don't write &quot;end file 26&quot; !!!
-     rewind 26
-     rewind 19
-     endfile (19)
-     rewind 19
-     nrw26=0
-  endif
-
-#ifdef CVF
-  open(23,file='CALL3.TXT',status='unknown',share='denynone')
-#else
-  open(23,file='CALL3.TXT',status='unknown')
-#endif
-
-  if(nutc.ne.nutc0) nfile=nfile+1
-  nutc0=nutc
-  df=96000.0/NFFT                     !df = 96000/NFFT = 2.930 Hz
-  ftol=0.020                          !Frequency tolerance (kHz)
-  foffset=0.001*(1270 + nfcal)
-  fselect=mfqso + foffset
-  dphi=idphi/57.2957795
-
-  do i=12,3,-1
-     if(hiscall(i:i).ne.' ') go to 1
-  enddo
-  i=0
-1 len_hiscall=i
-
-  iloop=0
-2 if(ndphi.eq.1) dphi=30*iloop/57.2957795
-  do nqd=1,0,-1
-     if(nqd.eq.1) then                     !Quick decode, at fQSO
-        fa=1000.0*(fselect+0.001*mousedf-100.0) - dftolerance
-        fb=1000.0*(fselect+0.001*mousedf-100.0) + dftolerance + 4*53.8330078
-        ia=nint((fa+23000.0)/df + 1.0)     ! 23000 = 48000 - 25000
-        ib=nint((fb+23000.0)/df + 1.0)
-     else                                  !Wideband decode at all freqs
-        fa=1000*(nfa-100)
-        fb=1000*(nfb-100)
-        ia=nint((fa+23000.0)/df + 1.0)     ! 23000 = 48000 - 25000
-        ib=nint((fb+23000.0)/df + 1.0)
-     endif
-
-     km=0
-     nkm=1
-     nz=n/8
-
-     do i=1,NFFT
-        short(1,i)=0.
-        short(2,i)=0.
-        short(3,i)=0.
-     enddo
-
-     freq0=-999.
-     sync10=-999.
-     fshort0=-999.
-     sync20=-999.
-     ntry=0
-     do i=ia,ib                               !Search over freq range
-        call sleep_msec(0)
-        freq=0.001*((i-1)*df - 23000) + 100.0
-!  Find the local base level for each polarization; update every 10 bins.
-        if(mod(i-ia,10).eq.0) then
-           do jp=1,4
-              do ii=-50,50
-                 iii=i+ii
-                 if(iii.ge.1 .and. iii.le.32768) then
-                    tavg(ii)=savg(jp,iii)
-                 else
-                    print*,'Error in iii:',iii,ia,ib,fa,fb
-                    go to 999
-                 endif
-              enddo
-              call pctile(tavg,tmp,101,50,base(jp))
-           enddo
-           bmax=max(base(1),base(2),base(3),base(4))
-        endif
-
-!  Do not process extremely strong signals
-        if(nqd.eq.0 .and. bmax.gt.1000.0) go to 70
-
-!  Find max signal at this frequency
-        smax=0.
-        do jp=1,4
-           if(savg(jp,i)/base(jp).gt.smax) smax=savg(jp,i)/base(jp)
-        enddo
-
-        if(smax.gt.1.1) then
-           ntry=ntry+1
-!  Look for JT65 sync patterns and shorthand square-wave patterns.
-           call ccf65(ss(1,1,i),nhsym,sync1,ipol,dt,flipk,              &amp;
-                syncshort,snr2,ipol2,dt2)
-
-! ########################### Search for Shorthand Messages #################
-!  Is there a shorthand tone above threshold?
-           thresh0=1.0
-!  Use lower thresh0 at fQSO
-           if(nqd.eq.1 .and. dftolerance.le.100) thresh0=0.
-
-           if(syncshort.gt.thresh0) then
-! ### Do shorthand AFC here (or maybe after finding a pair?) ###
-              short(1,i)=syncshort
-              short(2,i)=dt2
-              short(3,i)=ipol2
-!  Check to see if lower tone of shorthand pair was found.
-              do j=2,4
-                 i0=i-nint(j*53.8330078/df)
-!  Should this be i0 +/- 1, or just i0?
-!  Should we also insist that difference in DT be either 1.5 or -1.5 s?
-                 if(short(1,i0).gt.1.0) then
-                    fshort=0.001*((i0-1)*df - 23000) + 100.0
-
-                    noffset=0
-                    if(nqd.eq.1) noffset=nint(1000.0*  &amp;
-                         (fshort-foffset-mfqso)-mousedf)
-                    if(abs(noffset).le.dftolerance) then
-!  Keep only the best candidate within ftol.
-!### NB: sync2 was not defined here!
-                       sync2=syncshort                   !### try this ???
-                       if(fshort-fshort0.le.ftol .and. sync2.gt.sync20    &amp;
-                            .and. nkm.eq.2) km=km-1
-                       if(fshort-fshort0.gt.ftol .or.                     &amp;
-                            sync2.gt.sync20) then
-                          km=km+1
-                          sig(km,1)=nfile
-                          sig(km,2)=nutc
-                          sig(km,3)=fshort
-                          sig(km,4)=syncshort
-                          sig(km,5)=dt2
-                          sig(km,6)=45*(ipol2-1)/57.2957795
-                          sig(km,7)=0
-                          sig(km,8)=snr2
-                          sig(km,9)=0
-                          sig(km,10)=0
-!                           sig(km,11)=rms0
-                          sig(km,12)=savg(ipol2,i)
-                          sig(km,13)=0
-                          sig(km,14)=0
-                          sig(km,15)=0
-                          sig(km,16)=0
-!                           sig(km,17)=0
-                          sig(km,18)=0
-                          msg(km)=shmsg0(j)
-                          fshort0=fshort
-                          sync20=sync2
-                          nkm=2
-                       endif
-                    endif
-                 endif
-              enddo
-           endif
-
-! ########################### Search for Normal Messages ###########
-!  Is sync1 above threshold?
-           thresh1=1.0
-!  Use lower thresh1 at fQSO
-           if(nqd.eq.1 .and. dftolerance.le.100) thresh1=0.
-           noffset=0
-           if(nqd.eq.1) noffset=nint(1000.0*(freq-foffset-mfqso)-mousedf)
-           if(sync1.gt.thresh1 .and. abs(noffset).le.dftolerance) then
-!  Keep only the best candidate within ftol.
-!  (Am I deleting any good decodes by doing this?)
-              if(freq-freq0.le.ftol .and. sync1.gt.sync10 .and.               &amp;
-                   nkm.eq.1) km=km-1
-              if(freq-freq0.gt.ftol .or. sync1.gt.sync10) then
-                 nflip=nint(flipk)
-                 call decode1a(id(1,1,kbuf),newdat,freq,nflip,        &amp;
-                      mycall,hiscall,hisgrid,neme,ndepth,nqd,dphi,ndphi,    &amp;
-                      ipol,sync2,a,dt,pol,nkv,nhist,qual,decoded)
-
-!  If hiscall or hisgrid is in decoded message, save the pol'n angle.
-                 i1=index(decoded,hiscall(1:len_hiscall))
-                 i2=index(decoded,hisgrid(1:4))
-                 if(i1.ge.5 .or. i2.ge.9) then
-                    nhispol=nint(57.2957795*pol)
-                 endif
-                 km=km+1
-                 sig(km,1)=nfile
-                 sig(km,2)=nutc
-                 sig(km,3)=freq
-                 sig(km,4)=sync1
-                 sig(km,5)=dt
-                 sig(km,6)=pol
-                 sig(km,7)=flipk
-                 sig(km,8)=sync2
-                 sig(km,9)=nkv
-                 sig(km,10)=qual
-!                 sig(km,11)=idphi
-                 sig(km,12)=savg(ipol,i)
-                 sig(km,13)=a(1)
-                 sig(km,14)=a(2)
-                 sig(km,15)=a(3)
-                 sig(km,16)=a(4)
-!                     sig(km,17)=a(5)
-                 sig(km,18)=nhist
-                 msg(km)=decoded
-                 freq0=freq
-                 sync10=sync1
-                 nkm=1
-              endif
-           endif
-        endif
-70      continue
-     enddo
-     if(nqd.eq.1) then
-        nwrite=0
-        do k=1,km
-           decoded=msg(k)
-           if(decoded.ne.'                      ') then
-              nutc=sig(k,2)
-              freq=sig(k,3)
-              sync1=sig(k,4)
-              dt=sig(k,5)
-              npol=nint(57.2957795*sig(k,6))
-              flip=sig(k,7)
-              sync2=sig(k,8)
-              nkv=sig(k,9)
-              nqual=sig(k,10)
-!              idphi=nint(sig(k,11))
-              if(flip.lt.0.0) then
-                 do i=22,1,-1
-                    if(decoded(i:i).ne.' ') go to 8
-                 enddo
-                 stop 'Error in message format'
-8                if(i.le.18) decoded(i+2:i+4)='OOO'
-              endif
-              nkHz=nint(freq-foffset) + nfoffset
-              f0=144.0+0.001*nkHz
-              ndf=nint(1000.0*(freq-foffset-nkHz+nfoffset))
-
-!              ndf0=nint(a(1))
-!              ndf1=nint(a(2))
-!              ndf2=nint(a(3))
-              nsync1=sync1
-              nsync2=nint(10.0*log10(sync2)) - 40 !### empirical ###
-              if(decoded(1:4).eq.'RO  ' .or. decoded(1:4).eq.'RRR  ' .or.  &amp;
-                 decoded(1:4).eq.'73  ') nsync2=nsync2-6
-              nwrite=nwrite+1
-              if(ndphi.eq.0) then
-                 write(11,1010) nkHz,ndf,npol,nutc,dt,nsync2,decoded,nkv,nqual
-1010             format(i3,i5,i4,i5.4,f5.1,i4,2x,a22,i5,i4,i4)
-              else
-		 if(iloop.ge.1) qphi(iloop)=sig(k,10)
-                 write(11,1010) nkHz,ndf,npol,nutc,dt,nsync2,decoded,nkv,  &amp;
-                      nqual,30*iloop
-                 write(27,1011) 30*iloop,nkHz,ndf,npol,nutc,  &amp;
-                      dt,sync2,nkv,nqual,decoded
-1011             format(i3,i4,i5,i4,i5.4,f5.1,f7.1,i3,i5,2x,a22)
-              endif
-           endif
-        enddo
-        if(nwrite.eq.0) then
-           nfqso=mfqso + nfoffset
-           write(11,1012) nfqso,nutc
-1012          format(i3,9x,i5.4)
-        endif
-   
-     endif
-     if(ndphi.eq.1 .and.iloop.lt.12) then
-        iloop=iloop+1
-        go to 2
-     endif
-     if(ndphi.eq.1 .and.iloop.eq.12) call getdphi(qphi)
-     if(nqd.eq.1) then
-        write(11,*) '$EOF'
-        call flushqqq(11)
-        ndecdone=1
-     endif
-     if(nagain.eq.1) go to 999
-  enddo
-
-!  Trim the list and produce a sorted index and sizes of groups.
-!  (Should trimlist remove all but best SNR for given UTC and message content?)
-  call trimlist(sig,km,indx,nsiz,nz)
-
-  do i=1,km
-     done(i)=.false.
-  enddo
-  j=0
-  ilatest=-1
-  do n=1,nz
-     ifile0=0
-     do m=1,nsiz(n)
-        i=indx(j+m)
-        ifile=sig(i,1)
-        if(ifile.gt.ifile0 .and.msg(i).ne.blank) then
-           ilatest=i
-           ifile0=ifile
-        endif
-     enddo
-     i=ilatest
-
-     if(i.ge.1) then
-        if(.not.done(i)) then
-           done(i)=.true.
-           nutc=sig(i,2)
-           freq=sig(i,3)
-           sync1=sig(i,4)
-           dt=sig(i,5)
-           npol=nint(57.2957795*sig(i,6))
-           flip=sig(i,7)
-           sync2=sig(i,8)
-           nkv=sig(i,9)
-           nqual=min(sig(i,10),10.0)
-!                  rms0=sig(i,11)
-           do k=1,5
-              a(k)=sig(i,12+k)
-           enddo
-           nhist=sig(i,18)
-           decoded=msg(i)
-           
-           if(flip.lt.0.0) then
-              do i=22,1,-1
-                 if(decoded(i:i).ne.' ') go to 10
-              enddo
-              stop 'Error in message format'
-10            if(i.le.18) decoded(i+2:i+4)='OOO'
-           endif
-           nkHz=nint(freq-foffset) + nfoffset
-           f0=144.0+0.001*nkHz
-           ndf=nint(1000.0*(freq-foffset-nkHz+nfoffset))
-           ndf0=nint(a(1))
-           ndf1=nint(a(2))
-           ndf2=nint(a(3))
-           nsync1=sync1
-           nsync2=nint(10.0*log10(sync2)) - 40 !### empirical ###
-           if(decoded(1:4).eq.'RO  ' .or. decoded(1:4).eq.'RRR  ' .or.  &amp;
-                decoded(1:4).eq.'73  ') nsync2=nsync2-6
-           write(26,1014) f0,ndf,ndf0,ndf1,ndf2,dt,npol,nsync1,       &amp;
-                nsync2,nutc,decoded,nkv,nqual,nhist
-           write(21,1014) f0,ndf,ndf0,ndf1,ndf2,dt,npol,nsync1,       &amp;
-                nsync2,nutc,decoded,nkv,nqual,nhist
-1014       format(f7.3,i5,3i3,f5.1,i5,i3,i4,i5.4,2x,a22,3i3)
-
-        endif
-     endif
-     j=j+nsiz(n)
-  enddo
-  write(26,1015) nutc
-1015 format(39x,i4.4)
-  call flushqqq(26)
-  call display(nkeep,ncsmin)
-  ndecdone=2
-
-  if(nsave.gt.0 .and. ndiskdat.eq.0) call savetf2(id(1,1,kbuf),       &amp;
-       fnamedate,savedir)
-
-999 close(23)
-  ndphi=0
-  if(kbuf.eq.1) kkdone=60*96000
-  if(kbuf.eq.2 .or. ndiskdat.eq.1) kkdone=0
-  kk=kkdone
-  nagain=0
-
-  return
-end subroutine map65a
+subroutine map65a(newdat)
+
+!  Processes timf2 data from Linrad to find and decode JT65 signals.
+
+  parameter (MAXMSG=1000)            !Size of decoded message list
+  real tavg(-50:50)                  !Temp for finding local base level
+  real base(4)                       !Local basel level at 4 pol'ns
+  real tmp (200)                     !Temp storage for pctile sorting
+  real sig(MAXMSG,30)                !Parameters of detected signals
+  real a(5)
+  character*22 msg(MAXMSG)
+  character*3 shmsg0(4)
+  integer indx(MAXMSG),nsiz(MAXMSG)
+  logical done(MAXMSG)
+  character decoded*22,blank*22
+  include 'spcom.f90'
+  real short(3,NFFT)                 !SNR dt ipol for potential shorthands
+  real qphi(12)
+  include 'gcom2.f90'
+  include 'datcom.f90'
+  data blank/'                      '/
+  data shmsg0/'ATT','RO ','RRR','73 '/
+  data nfile/0/,nutc0/-999/,nid/0/,ip000/1/,ip001/1/,mousefqso0/-999/
+  save
+
+  if(mousefqso.ne.mousefqso0 .and. nagain.eq.1) newspec=2
+  mousefqso0=mousefqso
+  nfoffset=nint(1000*(fcenter-144.125d0))
+  mfqso=mousefqso - nfoffset
+
+  rewind 11
+  rewind 12
+  if(nrw26.ne.0) then
+     endfile (26)              !Compiler bug?  Don't write &quot;end file 26&quot; !!!
+     rewind 26
+     rewind 19
+     endfile (19)
+     rewind 19
+     nrw26=0
+  endif
+
+#ifdef CVF
+  open(23,file='CALL3.TXT',status='unknown',share='denynone')
+#else
+  open(23,file='CALL3.TXT',status='unknown')
+#endif
+
+  if(nutc.ne.nutc0) nfile=nfile+1
+  nutc0=nutc
+  df=96000.0/NFFT                     !df = 96000/NFFT = 2.930 Hz
+  ftol=0.020                          !Frequency tolerance (kHz)
+  foffset=0.001*(1270 + nfcal)
+  fselect=mfqso + foffset
+  dphi=idphi/57.2957795
+
+  do i=12,3,-1
+     if(hiscall(i:i).ne.' ') go to 1
+  enddo
+  i=0
+1 len_hiscall=i
+
+  iloop=0
+2 if(ndphi.eq.1) dphi=30*iloop/57.2957795
+  do nqd=1,0,-1
+     if(nqd.eq.1) then                     !Quick decode, at fQSO
+        fa=1000.0*(fselect+0.001*mousedf-100.0) - dftolerance
+        fb=1000.0*(fselect+0.001*mousedf-100.0) + dftolerance + 4*53.8330078
+        ia=nint((fa+23000.0)/df + 1.0)     ! 23000 = 48000 - 25000
+        ib=nint((fb+23000.0)/df + 1.0)
+     else                                  !Wideband decode at all freqs
+        fa=1000*(nfa-100)
+        fb=1000*(nfb-100)
+        ia=nint((fa+23000.0)/df + 1.0)     ! 23000 = 48000 - 25000
+        ib=nint((fb+23000.0)/df + 1.0)
+     endif
+
+     km=0
+     nkm=1
+     nz=n/8
+
+     do i=1,NFFT
+        short(1,i)=0.
+        short(2,i)=0.
+        short(3,i)=0.
+     enddo
+
+     freq0=-999.
+     sync10=-999.
+     fshort0=-999.
+     sync20=-999.
+     ntry=0
+     do i=ia,ib                               !Search over freq range
+        call sleep_msec(0)
+        freq=0.001*((i-1)*df - 23000) + 100.0
+!  Find the local base level for each polarization; update every 10 bins.
+        if(mod(i-ia,10).eq.0) then
+           do jp=1,4
+              do ii=-50,50
+                 iii=i+ii
+                 if(iii.ge.1 .and. iii.le.32768) then
+                    tavg(ii)=savg(jp,iii)
+                 else
+                    print*,'Error in iii:',iii,ia,ib,fa,fb
+                    go to 999
+                 endif
+              enddo
+              call pctile(tavg,tmp,101,50,base(jp))
+           enddo
+           bmax=max(base(1),base(2),base(3),base(4))
+        endif
+
+!  Do not process extremely strong signals
+        if(nqd.eq.0 .and. bmax.gt.1000.0) go to 70
+
+!  Find max signal at this frequency
+        smax=0.
+        do jp=1,4
+           if(savg(jp,i)/base(jp).gt.smax) smax=savg(jp,i)/base(jp)
+        enddo
+
+        if(smax.gt.1.1) then
+           ntry=ntry+1
+!  Look for JT65 sync patterns and shorthand square-wave patterns.
+           call ccf65(ss(1,1,i),nhsym,sync1,ipol,dt,flipk,              &amp;
+                syncshort,snr2,ipol2,dt2)
+
+! ########################### Search for Shorthand Messages #################
+!  Is there a shorthand tone above threshold?
+           thresh0=1.0
+!  Use lower thresh0 at fQSO
+           if(nqd.eq.1 .and. dftolerance.le.100) thresh0=0.
+
+           if(syncshort.gt.thresh0) then
+! ### Do shorthand AFC here (or maybe after finding a pair?) ###
+              short(1,i)=syncshort
+              short(2,i)=dt2
+              short(3,i)=ipol2
+!  Check to see if lower tone of shorthand pair was found.
+              do j=2,4
+                 i0=i-nint(j*53.8330078/df)
+!  Should this be i0 +/- 1, or just i0?
+!  Should we also insist that difference in DT be either 1.5 or -1.5 s?
+                 if(short(1,i0).gt.1.0) then
+                    fshort=0.001*((i0-1)*df - 23000) + 100.0
+
+                    noffset=0
+                    if(nqd.eq.1) noffset=nint(1000.0*  &amp;
+                         (fshort-foffset-mfqso)-mousedf)
+                    if(abs(noffset).le.dftolerance) then
+!  Keep only the best candidate within ftol.
+!### NB: sync2 was not defined here!
+                       sync2=syncshort                   !### try this ???
+                       if(fshort-fshort0.le.ftol .and. sync2.gt.sync20    &amp;
+                            .and. nkm.eq.2) km=km-1
+                       if(fshort-fshort0.gt.ftol .or.                     &amp;
+                            sync2.gt.sync20) then
+                          km=km+1
+                          sig(km,1)=nfile
+                          sig(km,2)=nutc
+                          sig(km,3)=fshort
+                          sig(km,4)=syncshort
+                          sig(km,5)=dt2
+                          sig(km,6)=45*(ipol2-1)/57.2957795
+                          sig(km,7)=0
+                          sig(km,8)=snr2
+                          sig(km,9)=0
+                          sig(km,10)=0
+!                           sig(km,11)=rms0
+                          sig(km,12)=savg(ipol2,i)
+                          sig(km,13)=0
+                          sig(km,14)=0
+                          sig(km,15)=0
+                          sig(km,16)=0
+!                           sig(km,17)=0
+                          sig(km,18)=0
+                          msg(km)=shmsg0(j)
+                          fshort0=fshort
+                          sync20=sync2
+                          nkm=2
+                       endif
+                    endif
+                 endif
+              enddo
+           endif
+
+! ########################### Search for Normal Messages ###########
+!  Is sync1 above threshold?
+           thresh1=1.0
+!  Use lower thresh1 at fQSO
+           if(nqd.eq.1 .and. dftolerance.le.100) thresh1=0.
+           noffset=0
+           if(nqd.eq.1) noffset=nint(1000.0*(freq-foffset-mfqso)-mousedf)
+           if(sync1.gt.thresh1 .and. abs(noffset).le.dftolerance) then
+!  Keep only the best candidate within ftol.
+!  (Am I deleting any good decodes by doing this?)
+              if(freq-freq0.le.ftol .and. sync1.gt.sync10 .and.               &amp;
+                   nkm.eq.1) km=km-1
+              if(freq-freq0.gt.ftol .or. sync1.gt.sync10) then
+                 nflip=nint(flipk)
+                 call decode1a(id(1,1,kbuf),newdat,freq,nflip,        &amp;
+                      mycall,hiscall,hisgrid,neme,ndepth,nqd,dphi,ndphi,    &amp;
+                      ipol,sync2,a,dt,pol,nkv,nhist,qual,decoded)
+
+!  If hiscall or hisgrid is in decoded message, save the pol'n angle.
+                 i1=index(decoded,hiscall(1:len_hiscall))
+                 i2=index(decoded,hisgrid(1:4))
+                 if(i1.ge.5 .or. i2.ge.9) then
+                    nhispol=nint(57.2957795*pol)
+                 endif
+                 km=km+1
+                 sig(km,1)=nfile
+                 sig(km,2)=nutc
+                 sig(km,3)=freq
+                 sig(km,4)=sync1
+                 sig(km,5)=dt
+                 sig(km,6)=pol
+                 sig(km,7)=flipk
+                 sig(km,8)=sync2
+                 sig(km,9)=nkv
+                 sig(km,10)=qual
+!                 sig(km,11)=idphi
+                 sig(km,12)=savg(ipol,i)
+                 sig(km,13)=a(1)
+                 sig(km,14)=a(2)
+                 sig(km,15)=a(3)
+                 sig(km,16)=a(4)
+!                     sig(km,17)=a(5)
+                 sig(km,18)=nhist
+                 msg(km)=decoded
+                 freq0=freq
+                 sync10=sync1
+                 nkm=1
+              endif
+           endif
+        endif
+70      continue
+     enddo
+     if(nqd.eq.1) then
+        nwrite=0
+        do k=1,km
+           decoded=msg(k)
+           if(decoded.ne.'                      ') then
+              nutc=sig(k,2)
+              freq=sig(k,3)
+              sync1=sig(k,4)
+              dt=sig(k,5)
+              npol=nint(57.2957795*sig(k,6))
+              flip=sig(k,7)
+              sync2=sig(k,8)
+              nkv=sig(k,9)
+              nqual=sig(k,10)
+!              idphi=nint(sig(k,11))
+              if(flip.lt.0.0) then
+                 do i=22,1,-1
+                    if(decoded(i:i).ne.' ') go to 8
+                 enddo
+                 stop 'Error in message format'
+8                if(i.le.18) decoded(i+2:i+4)='OOO'
+              endif
+              nkHz=nint(freq-foffset) + nfoffset
+              f0=144.0+0.001*nkHz
+              ndf=nint(1000.0*(freq-foffset-nkHz+nfoffset))
+
+!              ndf0=nint(a(1))
+!              ndf1=nint(a(2))
+!              ndf2=nint(a(3))
+              nsync1=sync1
+              nsync2=nint(10.0*log10(sync2)) - 40 !### empirical ###
+              if(decoded(1:4).eq.'RO  ' .or. decoded(1:4).eq.'RRR  ' .or.  &amp;
+                 decoded(1:4).eq.'73  ') nsync2=nsync2-6
+              nwrite=nwrite+1
+              if(ndphi.eq.0) then
+                 write(11,1010) nkHz,ndf,npol,nutc,dt,nsync2,decoded,nkv,nqual
+1010             format(i3,i5,i4,i5.4,f5.1,i4,2x,a22,i5,i4,i4)
+              else
+		 if(iloop.ge.1) qphi(iloop)=sig(k,10)
+                 write(11,1010) nkHz,ndf,npol,nutc,dt,nsync2,decoded,nkv,  &amp;
+                      nqual,30*iloop
+                 write(27,1011) 30*iloop,nkHz,ndf,npol,nutc,  &amp;
+                      dt,sync2,nkv,nqual,decoded
+1011             format(i3,i4,i5,i4,i5.4,f5.1,f7.1,i3,i5,2x,a22)
+              endif
+           endif
+        enddo
+        if(nwrite.eq.0) then
+           nfqso=mfqso + nfoffset
+           write(11,1012) nfqso,nutc
+1012          format(i3,9x,i5.4)
+        endif
+   
+     endif
+     if(ndphi.eq.1 .and.iloop.lt.12) then
+        iloop=iloop+1
+        go to 2
+     endif
+     if(ndphi.eq.1 .and.iloop.eq.12) call getdphi(qphi)
+     if(nqd.eq.1) then
+        write(11,*) '$EOF'
+        call flushqqq(11)
+        ndecdone=1
+     endif
+     if(nagain.eq.1) go to 999
+  enddo
+
+!  Trim the list and produce a sorted index and sizes of groups.
+!  (Should trimlist remove all but best SNR for given UTC and message content?)
+  call trimlist(sig,km,indx,nsiz,nz)
+
+  do i=1,km
+     done(i)=.false.
+  enddo
+  j=0
+  ilatest=-1
+  do n=1,nz
+     ifile0=0
+     do m=1,nsiz(n)
+        i=indx(j+m)
+        ifile=sig(i,1)
+        if(ifile.gt.ifile0 .and.msg(i).ne.blank) then
+           ilatest=i
+           ifile0=ifile
+        endif
+     enddo
+     i=ilatest
+
+     if(i.ge.1) then
+        if(.not.done(i)) then
+           done(i)=.true.
+           nutc=sig(i,2)
+           freq=sig(i,3)
+           sync1=sig(i,4)
+           dt=sig(i,5)
+           npol=nint(57.2957795*sig(i,6))
+           flip=sig(i,7)
+           sync2=sig(i,8)
+           nkv=sig(i,9)
+           nqual=min(sig(i,10),10.0)
+!                  rms0=sig(i,11)
+           do k=1,5
+              a(k)=sig(i,12+k)
+           enddo
+           nhist=sig(i,18)
+           decoded=msg(i)
+           
+           if(flip.lt.0.0) then
+              do i=22,1,-1
+                 if(decoded(i:i).ne.' ') go to 10
+              enddo
+              stop 'Error in message format'
+10            if(i.le.18) decoded(i+2:i+4)='OOO'
+           endif
+           nkHz=nint(freq-foffset) + nfoffset
+           f0=144.0+0.001*nkHz
+           ndf=nint(1000.0*(freq-foffset-nkHz+nfoffset))
+           ndf0=nint(a(1))
+           ndf1=nint(a(2))
+           ndf2=nint(a(3))
+           nsync1=sync1
+           nsync2=nint(10.0*log10(sync2)) - 40 !### empirical ###
+           if(decoded(1:4).eq.'RO  ' .or. decoded(1:4).eq.'RRR  ' .or.  &amp;
+                decoded(1:4).eq.'73  ') nsync2=nsync2-6
+           write(26,1014) f0,ndf,ndf0,ndf1,ndf2,dt,npol,nsync1,       &amp;
+                nsync2,nutc,decoded,nkv,nqual,nhist
+           write(21,1014) f0,ndf,ndf0,ndf1,ndf2,dt,npol,nsync1,       &amp;
+                nsync2,nutc,decoded,nkv,nqual,nhist
+1014       format(f7.3,i5,3i3,f5.1,i5,i3,i4,i5.4,2x,a22,3i3)
+
+        endif
+     endif
+     j=j+nsiz(n)
+  enddo
+  write(26,1015) nutc
+1015 format(39x,i4.4)
+  call flushqqq(26)
+  call display(nkeep,ncsmin)
+  ndecdone=2
+
+  if(nsave.gt.0 .and. ndiskdat.eq.0) call savetf2(id(1,1,kbuf),       &amp;
+       fnamedate,savedir)
+
+999 close(23)
+  ndphi=0
+  if(kbuf.eq.1) kkdone=60*96000
+  if(kbuf.eq.2 .or. ndiskdat.eq.1) kkdone=0
+  kk=kkdone
+  nagain=0
+
+  return
+end subroutine map65a


Property changes on: branches/map65/map65a.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/pix2d65.f90
===================================================================
--- branches/map65/pix2d65.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/pix2d65.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,28 +1,28 @@
-subroutine pix2d65(d2,jz)
-
-! Compute data for green line in JT65 mode.
-
-  integer*2 d2(jz)            !Raw input data
-  include 'gcom2.f90'
-
-  sum=0.
-  do i=1,jz
-     sum=sum+d2(i)
-  enddo
-  nave=nint(sum/jz)
-  nadd=nint(53.0*11025.0/500.0)
-  ngreen=min(jz/nadd,500)
-  k=0
-  do i=1,ngreen
-     sq=0.
-     do n=1,nadd
-        k=k+1
-        d2(k)=d2(k)-nave
-        x=d2(k)
-        sq=sq + x*x
-     enddo
-     green(i)=db(sq)-96.0
-  enddo
-
-  return
-end subroutine pix2d65
+subroutine pix2d65(d2,jz)
+
+! Compute data for green line in JT65 mode.
+
+  integer*2 d2(jz)            !Raw input data
+  include 'gcom2.f90'
+
+  sum=0.
+  do i=1,jz
+     sum=sum+d2(i)
+  enddo
+  nave=nint(sum/jz)
+  nadd=nint(53.0*11025.0/500.0)
+  ngreen=min(jz/nadd,500)
+  k=0
+  do i=1,ngreen
+     sq=0.
+     do n=1,nadd
+        k=k+1
+        d2(k)=d2(k)-nave
+        x=d2(k)
+        sq=sq + x*x
+     enddo
+     green(i)=db(sq)-96.0
+  enddo
+
+  return
+end subroutine pix2d65


Property changes on: branches/map65/pix2d65.f90
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/plrr.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/plrr_subs.c
===================================================================
--- branches/map65/plrr_subs.c	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/plrr_subs.c	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,67 +1,67 @@
-/*  The following don't seem to be needed?
-#include &lt;sys/types.h&gt;
-#include &lt;sys/socket.h&gt;
-#include &lt;netinet/in.h&gt;
-#include &lt;time.h&gt;
-#include &lt;stdio.h&gt;
-*/
-
-#include &lt;arpa/inet.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdlib.h&gt;
-
-#define HELLO_PORT 50004
-#define HELLO_GROUP &quot;239.255.0.0&quot;
-#define MSGBUFSIZE 1416
-
-struct sockaddr_in addr;
-int fd;
-
-void setup_rsocket_(void)
-{
-  struct ip_mreq mreq;
-  u_int yes=1;
-
-  /* create what looks like an ordinary UDP socket */
-  if ((fd=socket(AF_INET,SOCK_DGRAM,0)) &lt; 0) {
-    perror(&quot;socket&quot;);
-    exit(1);
-  }
-
-  /* allow multiple sockets to use the same PORT number */
-  if (setsockopt(fd,SOL_SOCKET,SO_REUSEADDR,&amp;yes,sizeof(yes)) &lt; 0) {
-    perror(&quot;Reusing ADDR failed&quot;);
-    exit(1);
-  }
-
-  /* set up destination address */
-  memset(&amp;addr,0,sizeof(addr));
-  addr.sin_family=AF_INET;
-  addr.sin_addr.s_addr=htonl(INADDR_ANY); /* N.B.: differs from sender */
-  addr.sin_port=htons(HELLO_PORT);
-     
-  /* bind to receive address */
-  if (bind(fd,(struct sockaddr *) &amp;addr,sizeof(addr)) &lt; 0) {
-    perror(&quot;bind&quot;);
-    exit(1);
-  }
-     
-  /* use setsockopt() to request that the kernel join a multicast group */
-  mreq.imr_multiaddr.s_addr=inet_addr(HELLO_GROUP);
-  mreq.imr_interface.s_addr=htonl(INADDR_ANY);
-  if (setsockopt(fd,IPPROTO_IP,IP_ADD_MEMBERSHIP,&amp;mreq,sizeof(mreq)) &lt; 0) {
-    perror(&quot;setsockopt&quot;);
-    exit(1);
-  }
-}
-
-void recv_pkt_(char buf[])
-{
-  int addrlen,nbytes;
-  addrlen=sizeof(addr);
-  if ((nbytes=recvfrom(fd,buf,1416,0, 
-		       (struct sockaddr *) &amp;addr,&amp;addrlen)) &lt; 0) {
-    perror(&quot;recvfrom&quot;);
-    exit(1);
-  }
-}
+#include &lt;sys/types.h&gt;
+#include &lt;sys/socket.h&gt;
+#include &lt;netinet/in.h&gt;
+/*  The following don't seem to be needed?
+#include &lt;time.h&gt;
+#include &lt;stdio.h&gt;
+*/
+
+#include &lt;arpa/inet.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdlib.h&gt;
+
+#define HELLO_PORT 50004
+#define HELLO_GROUP &quot;239.255.0.0&quot;
+#define MSGBUFSIZE 1416
+
+struct sockaddr_in addr;
+int fd;
+
+void setup_rsocket_(void)
+{
+  struct ip_mreq mreq;
+  u_int yes=1;
+
+  /* create what looks like an ordinary UDP socket */
+  if ((fd=socket(AF_INET,SOCK_DGRAM,0)) &lt; 0) {
+    perror(&quot;socket&quot;);
+    exit(1);
+  }
+
+  /* allow multiple sockets to use the same PORT number */
+  if (setsockopt(fd,SOL_SOCKET,SO_REUSEADDR,&amp;yes,sizeof(yes)) &lt; 0) {
+    perror(&quot;Reusing ADDR failed&quot;);
+    exit(1);
+  }
+
+  /* set up destination address */
+  memset(&amp;addr,0,sizeof(addr));
+  addr.sin_family=AF_INET;
+  addr.sin_addr.s_addr=htonl(INADDR_ANY); /* N.B.: differs from sender */
+  addr.sin_port=htons(HELLO_PORT);
+     
+  /* bind to receive address */
+  if (bind(fd,(struct sockaddr *) &amp;addr,sizeof(addr)) &lt; 0) {
+    perror(&quot;bind&quot;);
+    exit(1);
+  }
+     
+  /* use setsockopt() to request that the kernel join a multicast group */
+  mreq.imr_multiaddr.s_addr=inet_addr(HELLO_GROUP);
+  mreq.imr_interface.s_addr=htonl(INADDR_ANY);
+  if (setsockopt(fd,IPPROTO_IP,IP_ADD_MEMBERSHIP,&amp;mreq,sizeof(mreq)) &lt; 0) {
+    perror(&quot;setsockopt&quot;);
+    exit(1);
+  }
+}
+
+void recv_pkt_(char buf[])
+{
+  int addrlen,nbytes;
+  addrlen=sizeof(addr);
+  if ((nbytes=recvfrom(fd,buf,1416,0, 
+		       (struct sockaddr *) &amp;addr,&amp;addrlen)) &lt; 0) {
+    perror(&quot;recvfrom&quot;);
+    exit(1);
+  }
+}


Property changes on: branches/map65/plrr_subs.c
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/plrr_subs_win.c
===================================================================
--- branches/map65/plrr_subs_win.c	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/plrr_subs_win.c	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,107 +1,107 @@
-#include &lt;winsock2.h&gt;
-#include &lt;ws2tcpip.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;stdio.h&gt;
-
-#define HELLO_PORT 50004
-#define HELLO_GROUP &quot;239.255.0.0&quot;
-#define MSGBUFSIZE 1416
-
-struct sockaddr_in addr;
-int fd;
-
-//void __stdcall SETUP_RSOCKET(void)
-void setup_rsocket_(int *multicast0)
-{
-  struct ip_mreq mreq;
-  u_int yes=1;
-  int i,j,k;
-
-  // Make sure that we have compatible Winsock support
-  WORD wVersionRequested;
-  WSADATA wsaData;
-  int err;
- 
-  wVersionRequested = MAKEWORD( 2, 2 );
-  err = WSAStartup( wVersionRequested, &amp;wsaData );
-  if ( err != 0 ) {
-    /* Tell the user that we could not find a usable */
-    /* WinSock DLL.                                  */
-    exit(1);
-  }
- 
-  /* Confirm that the WinSock DLL supports 2.2.*/
-  /* Note that if the DLL supports versions greater    */
-  /* than 2.2 in addition to 2.2, it will still return */
-  /* 2.2 in wVersion since that is the version we      */
-  /* requested.                                        */
- 
-  if ( LOBYTE( wsaData.wVersion ) != 2 ||
-       HIBYTE( wsaData.wVersion ) != 2 ) {
-    /* Tell the user that we could not find a usable */
-    /* WinSock DLL.                                  */
-    WSACleanup( );
-    exit(1); 
-  }
-  /* The WinSock DLL is acceptable. Proceed. */
-
-  /* create what looks like an ordinary UDP socket */
-  if ((fd=socket(AF_INET,SOCK_DGRAM,IPPROTO_UDP)) &lt; 0) {
-    perror(&quot;socket&quot;);
-    exit(1);
-  }
-
-  k=sizeof(int);
-  i=256*1024;
-  err=setsockopt(fd, SOL_SOCKET, SO_RCVBUF, (char *)&amp;i,k);
-  if (err&lt;0) {
-    j=WSAGetLastError();
-    printf(&quot;Error: %d   %d\n&quot;,err,j);
-  }
-
-  if (*multicast0) {
-    // allow multiple sockets to use the same PORT number
-    if (setsockopt(fd,SOL_SOCKET,SO_REUSEADDR,&amp;yes,sizeof(yes)) &lt; 0) {
-      perror(&quot;Reusing ADDR failed&quot;);
-      exit(1);
-    }
-    printf(&quot;Accepting multicast data from Linrad.\n&quot;);
-  }
-  else {
-    printf(&quot;Accepting unicast data from Linrad.\n&quot;);
-  }
-
-  /* set up destination address */
-  memset(&amp;addr,0,sizeof(addr));
-  addr.sin_family=AF_INET;
-  addr.sin_addr.s_addr=htonl(INADDR_ANY);
-  addr.sin_port=htons(HELLO_PORT);
-  /* Bind socket to a local source port */
-  if (bind(fd,(struct sockaddr *) &amp;addr,sizeof(addr)) &lt; 0) {
-    perror(&quot;bind&quot;);
-    exit(1);
-  }
-
-  if (*multicast0) {
-    // use setsockopt() to request that the kernel join a multicast group
-    mreq.imr_multiaddr.s_addr=inet_addr(HELLO_GROUP);
-    mreq.imr_interface.s_addr=htonl(INADDR_ANY);
-    // NG: mreq.imr_interface.s_addr=htonl(&quot;192.168.10.13&quot;);
-    if (setsockopt(fd,IPPROTO_IP,IP_ADD_MEMBERSHIP,&amp;mreq,sizeof(mreq)) &lt; 0) {
-      perror(&quot;setsockopt&quot;);
-      exit(1);
-    }
-  }
-}
-
-//void __stdcall RECV_PKT(char buf[])
-void recv_pkt_(char buf[])
-{
-  int addrlen,nbytes;
-  addrlen=sizeof(addr);
-  if ((nbytes=recvfrom(fd,buf,1416,0, 
-		       (struct sockaddr *) &amp;addr,&amp;addrlen)) &lt; 0) {
-    perror(&quot;recvfrom&quot;);
-    exit(1);
-  }
-}
+#include &lt;winsock2.h&gt;
+#include &lt;ws2tcpip.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;stdio.h&gt;
+
+#define HELLO_PORT 50004
+#define HELLO_GROUP &quot;239.255.0.0&quot;
+#define MSGBUFSIZE 1416
+
+struct sockaddr_in addr;
+int fd;
+
+//void __stdcall SETUP_RSOCKET(void)
+void setup_rsocket_(int *multicast0)
+{
+  struct ip_mreq mreq;
+  u_int yes=1;
+  int i,j,k;
+
+  // Make sure that we have compatible Winsock support
+  WORD wVersionRequested;
+  WSADATA wsaData;
+  int err;
+ 
+  wVersionRequested = MAKEWORD( 2, 2 );
+  err = WSAStartup( wVersionRequested, &amp;wsaData );
+  if ( err != 0 ) {
+    /* Tell the user that we could not find a usable */
+    /* WinSock DLL.                                  */
+    exit(1);
+  }
+ 
+  /* Confirm that the WinSock DLL supports 2.2.*/
+  /* Note that if the DLL supports versions greater    */
+  /* than 2.2 in addition to 2.2, it will still return */
+  /* 2.2 in wVersion since that is the version we      */
+  /* requested.                                        */
+ 
+  if ( LOBYTE( wsaData.wVersion ) != 2 ||
+       HIBYTE( wsaData.wVersion ) != 2 ) {
+    /* Tell the user that we could not find a usable */
+    /* WinSock DLL.                                  */
+    WSACleanup( );
+    exit(1); 
+  }
+  /* The WinSock DLL is acceptable. Proceed. */
+
+  /* create what looks like an ordinary UDP socket */
+  if ((fd=socket(AF_INET,SOCK_DGRAM,IPPROTO_UDP)) &lt; 0) {
+    perror(&quot;socket&quot;);
+    exit(1);
+  }
+
+  k=sizeof(int);
+  i=256*1024;
+  err=setsockopt(fd, SOL_SOCKET, SO_RCVBUF, (char *)&amp;i,k);
+  if (err&lt;0) {
+    j=WSAGetLastError();
+    printf(&quot;Error: %d   %d\n&quot;,err,j);
+  }
+
+  if (*multicast0) {
+    // allow multiple sockets to use the same PORT number
+    if (setsockopt(fd,SOL_SOCKET,SO_REUSEADDR,&amp;yes,sizeof(yes)) &lt; 0) {
+      perror(&quot;Reusing ADDR failed&quot;);
+      exit(1);
+    }
+    printf(&quot;Accepting multicast data from Linrad.\n&quot;);
+  }
+  else {
+    printf(&quot;Accepting unicast data from Linrad.\n&quot;);
+  }
+
+  /* set up destination address */
+  memset(&amp;addr,0,sizeof(addr));
+  addr.sin_family=AF_INET;
+  addr.sin_addr.s_addr=htonl(INADDR_ANY);
+  addr.sin_port=htons(HELLO_PORT);
+  /* Bind socket to a local source port */
+  if (bind(fd,(struct sockaddr *) &amp;addr,sizeof(addr)) &lt; 0) {
+    perror(&quot;bind&quot;);
+    exit(1);
+  }
+
+  if (*multicast0) {
+    // use setsockopt() to request that the kernel join a multicast group
+    mreq.imr_multiaddr.s_addr=inet_addr(HELLO_GROUP);
+    mreq.imr_interface.s_addr=htonl(INADDR_ANY);
+    // NG: mreq.imr_interface.s_addr=htonl(&quot;192.168.10.13&quot;);
+    if (setsockopt(fd,IPPROTO_IP,IP_ADD_MEMBERSHIP,&amp;mreq,sizeof(mreq)) &lt; 0) {
+      perror(&quot;setsockopt&quot;);
+      exit(1);
+    }
+  }
+}
+
+//void __stdcall RECV_PKT(char buf[])
+void recv_pkt_(char buf[])
+{
+  int addrlen,nbytes;
+  addrlen=sizeof(addr);
+  if ((nbytes=recvfrom(fd,buf,1416,0, 
+		       (struct sockaddr *) &amp;addr,&amp;addrlen)) &lt; 0) {
+    perror(&quot;recvfrom&quot;);
+    exit(1);
+  }
+}


Property changes on: branches/map65/plrr_subs_win.c
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/plrs.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/plrs_subs.c
===================================================================
--- branches/map65/plrs_subs.c	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/plrs_subs.c	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,42 +1,40 @@
-/*  The following don't seem to be needed?
-#include &lt;sys/types.h&gt;
-#include &lt;sys/socket.h&gt;
-#include &lt;netinet/in.h&gt;
-#include &lt;time.h&gt;
-#include &lt;stdio.h&gt;
-*/
-
-#include &lt;arpa/inet.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdlib.h&gt;
-
-#define HELLO_PORT 50004
-#define HELLO_GROUP &quot;239.255.0.0&quot;
-
-struct sockaddr_in addr;
-int fd;
-
-void setup_ssocket_(void)
-{
-  struct ip_mreq mreq;
-
-  /* create what looks like an ordinary UDP socket */
-  if ((fd=socket(AF_INET,SOCK_DGRAM,0)) &lt; 0) {
-    perror(&quot;socket&quot;);
-    exit(EXIT_FAILURE);
-  }
-
-  /* set up destination address */
-  memset(&amp;addr,0,sizeof(addr));
-  addr.sin_family=AF_INET;
-  addr.sin_addr.s_addr=inet_addr(HELLO_GROUP);
-  addr.sin_port=htons(HELLO_PORT);
-}
-
-void send_pkt_(char buf[])
-{
-  if (sendto(fd,buf,1416,0,(struct sockaddr *) &amp;addr, 
-	     sizeof(addr)) &lt;  0) { 
-    perror(&quot;sendto&quot;);
-    exit(EXIT_FAILURE);}
-}
+#include &lt;sys/types.h&gt;
+#include &lt;sys/socket.h&gt;
+#include &lt;netinet/in.h&gt;
+#include &lt;time.h&gt;
+#include &lt;stdio.h&gt;
+
+#include &lt;arpa/inet.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdlib.h&gt;
+
+#define HELLO_PORT 50004
+#define HELLO_GROUP &quot;239.255.0.0&quot;
+
+struct sockaddr_in addr;
+int fd;
+
+void setup_ssocket_(void)
+{
+  struct ip_mreq mreq;
+
+  /* create what looks like an ordinary UDP socket */
+  if ((fd=socket(AF_INET,SOCK_DGRAM,0)) &lt; 0) {
+    perror(&quot;socket&quot;);
+    exit(EXIT_FAILURE);
+  }
+
+  /* set up destination address */
+  memset(&amp;addr,0,sizeof(addr));
+  addr.sin_family=AF_INET;
+  addr.sin_addr.s_addr=inet_addr(HELLO_GROUP);
+  addr.sin_port=htons(HELLO_PORT);
+}
+
+void send_pkt_(char buf[])
+{
+  if (sendto(fd,buf,1416,0,(struct sockaddr *) &amp;addr, 
+	     sizeof(addr)) &lt;  0) { 
+    perror(&quot;sendto&quot;);
+    exit(EXIT_FAILURE);}
+}


Property changes on: branches/map65/plrs_subs.c
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/plrs_subs_win.c
===================================================================
--- branches/map65/plrs_subs_win.c	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/plrs_subs_win.c	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,64 +1,64 @@
-#include &lt;winsock2.h&gt;
-#include &lt;ws2tcpip.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;stdio.h&gt;
-
-#define HELLO_PORT 50004
-//#define HELLO_GROUP &quot;239.255.0.0&quot;
-#define HELLO_GROUP &quot;127.0.0.1&quot;
-
-struct sockaddr_in addr;
-int fd;
-
-void __stdcall SETUP_SSOCKET(void)
-{
-  struct ip_mreq mreq;
-
-  // Make sure that we have compatible Winsock support
-  WORD wVersionRequested;
-  WSADATA wsaData;
-  int err;
- 
-  wVersionRequested = MAKEWORD( 2, 2 );
-  err = WSAStartup( wVersionRequested, &amp;wsaData );
-  if ( err != 0 ) {
-    /* Tell the user that we could not find a usable */
-    /* WinSock DLL.                                  */
-    exit(1);
-  }
- 
-  /* Confirm that the WinSock DLL supports 2.2.*/
-  /* Note that if the DLL supports versions greater    */
-  /* than 2.2 in addition to 2.2, it will still return */
-  /* 2.2 in wVersion since that is the version we      */
-  /* requested.                                        */
- 
-  if ( LOBYTE( wsaData.wVersion ) != 2 ||
-       HIBYTE( wsaData.wVersion ) != 2 ) {
-    /* Tell the user that we could not find a usable */
-    /* WinSock DLL.                                  */
-    WSACleanup( );
-    exit(1);
-  }
-  /* The WinSock DLL is acceptable. Proceed. */
-
-  /* create what looks like an ordinary UDP socket */
-  if ((fd=socket(AF_INET,SOCK_DGRAM,IPPROTO_UDP)) &lt; 0) {
-    perror(&quot;socket&quot;);
-    exit(1);
-  }
-
-  /* set up destination address */
-  memset(&amp;addr,0,sizeof(addr));
-  addr.sin_family=AF_INET;
-  addr.sin_addr.s_addr=inet_addr(HELLO_GROUP);
-  addr.sin_port=htons(HELLO_PORT);
-}
-
-void __stdcall SEND_PKT(char buf[])
-{
-  if (sendto(fd,buf,1416,0,
-	     (struct sockaddr *) &amp;addr, sizeof(addr)) &lt;  0) { 
-    perror(&quot;sendto&quot;);
-    exit(1);}
-}
+#include &lt;winsock2.h&gt;
+#include &lt;ws2tcpip.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;stdio.h&gt;
+
+#define HELLO_PORT 50004
+//#define HELLO_GROUP &quot;239.255.0.0&quot;
+#define HELLO_GROUP &quot;127.0.0.1&quot;
+
+struct sockaddr_in addr;
+int fd;
+
+void __stdcall SETUP_SSOCKET(void)
+{
+  struct ip_mreq mreq;
+
+  // Make sure that we have compatible Winsock support
+  WORD wVersionRequested;
+  WSADATA wsaData;
+  int err;
+ 
+  wVersionRequested = MAKEWORD( 2, 2 );
+  err = WSAStartup( wVersionRequested, &amp;wsaData );
+  if ( err != 0 ) {
+    /* Tell the user that we could not find a usable */
+    /* WinSock DLL.                                  */
+    exit(1);
+  }
+ 
+  /* Confirm that the WinSock DLL supports 2.2.*/
+  /* Note that if the DLL supports versions greater    */
+  /* than 2.2 in addition to 2.2, it will still return */
+  /* 2.2 in wVersion since that is the version we      */
+  /* requested.                                        */
+ 
+  if ( LOBYTE( wsaData.wVersion ) != 2 ||
+       HIBYTE( wsaData.wVersion ) != 2 ) {
+    /* Tell the user that we could not find a usable */
+    /* WinSock DLL.                                  */
+    WSACleanup( );
+    exit(1);
+  }
+  /* The WinSock DLL is acceptable. Proceed. */
+
+  /* create what looks like an ordinary UDP socket */
+  if ((fd=socket(AF_INET,SOCK_DGRAM,IPPROTO_UDP)) &lt; 0) {
+    perror(&quot;socket&quot;);
+    exit(1);
+  }
+
+  /* set up destination address */
+  memset(&amp;addr,0,sizeof(addr));
+  addr.sin_family=AF_INET;
+  addr.sin_addr.s_addr=inet_addr(HELLO_GROUP);
+  addr.sin_port=htons(HELLO_PORT);
+}
+
+void __stdcall SEND_PKT(char buf[])
+{
+  if (sendto(fd,buf,1416,0,
+	     (struct sockaddr *) &amp;addr, sizeof(addr)) &lt;  0) { 
+    perror(&quot;sendto&quot;);
+    exit(1);}
+}


Property changes on: branches/map65/plrs_subs_win.c
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: branches/map65/pulsar.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/recvpkt.F90
===================================================================
--- branches/map65/recvpkt.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/recvpkt.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,136 +1,136 @@
-subroutine recvpkt(iarg)
-
-! Receive timf2 packets from Linrad and stuff data into array id().
-! (This routine runs in a background thread and will never return.)
-
-  parameter (NSZ=2*60*96000)
-  real*8 d8(NSZ)
-  integer*1 userx_no,iusb
-  integer*2 nblock,nblock0
-  logical synced
-  real*8 center_freq,buf8
-  common/plrscom/center_freq,msec,fqso,iptr,nblock,userx_no,iusb,buf8(174)
-  include 'datcom.f90'
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-  equivalence (id,d8)
-  data nblock0/0/,kb/1/,ns00/99/
-  data sqave/0.0/,u/0.001/,rxnoise/0.0/,pctblank/0.0/,kbuf/1/,lost_tot/0/
-  data multicast0/-99/
-  save
-
-1 call setup_rsocket(multicast)     !Open socket for multicast/unicast data
-  k=0
-  kk=0
-  kxp=0
-  kb=1
-  nsec0=-999
-  fcenter=144.125                   !Default (startup) frequency)
-  multicast0=multicast
-  ntx=0
-  synced=.false.
-
-10 if(multicast.ne.multicast0) go to 1
-  call recv_pkt(center_freq)
-
-! Should receive a new packet every 174/96000 = 0.0018125 s
-  nsec=mod(Tsec,86400.d0)           !Time according to MAP65
-  nseclr=msec/1000                  !Time according to Linrad
-  fcenter=center_freq
-
-! Reset buffer pointers at start of minute.
-  ns=mod(nsec,60)
-  if(ns.lt.ns00 .and. (lauto+monitoring.ne.0)) then
-!     print*,'new minute:',mod(nsec/60,60),ns00,ns,ntx,kb
-     if(ntx.eq.0) kb=3-kb
-     k=(kb-1)*60*96000
-     kxp=k
-     ndone1=0
-     ndone2=0
-     lost_tot=0
-     synced=.true.
-     ntx=0
-  endif
-  ns00=ns
-
-  if(transmitting.eq.1) ntx=1
-
-! Test for buffer full
-  if((kb.eq.1 .and. (k+174).gt.NSMAX) .or.                          &amp;
-       (kb.eq.2 .and. (k+174).gt.2*NSMAX)) go to 20
-
-! Check for lost packets
-  lost=nblock-nblock0-1
-  if(lost.ne.0) then
-     nb=nblock
-     if(nb.lt.0) nb=nb+65536
-     nb0=nblock0
-     if(nb0.lt.0) nb0=nb0+65536
-     lost_tot=lost_tot + lost               ! Insert zeros for the lost data.
-     do i=1,174*lost
-        k=k+1
-        d8(k)=0
-     enddo
-  endif
-  nblock0=nblock
-
-  tdiff=mod(0.001d0*msec,60.d0)-mod(Tsec,60.d0)
-  if(tdiff.lt.-30.) tdiff=tdiff+60.
-  if(tdiff.gt.30.) tdiff=tdiff-60.
-
-! Move data into Rx buffer and compute average signal level.
-  sq=0.
-  do i=1,174
-     k=k+1
-     d8(k)=buf8(i)
-     k2=k
-     n=1
-     if(k.gt.NSMAX) then
-        k2=k2-NSMAX
-        n=2
-     endif
-     x1=id(1,k2,n)
-     x2=id(2,k2,n)
-     x3=id(3,k2,n)
-     x4=id(4,k2,n)
-     sq=sq + x1*x1 + x2*x2 + x3*x3 + x4*x4
-  enddo
-  sqave=sqave + u*(sq-sqave)
-  rxnoise=10.0*log10(sqave) - 48.0
-  kxp=k
-
-20 if(nsec.ne.nsec0) then
-     nsec0=nsec
-     mutch=nseclr/3600
-     mutcm=mod(nseclr/60,60)
-     mutc=100*mutch + mutcm
-
-! If we have not transmitted in this minute, see if it's time to start FFTs
-     if(ntx.eq.0 .and. lauto+monitoring.ne.0) then
-        if(ns.ge.nt1 .and. ndone1.eq.0 .and. synced) then
-           nutc=mutc
-           fcenter=center_freq
-           kbuf=kb
-           kk=k
-           ndiskdat=0
-           ndone1=1
-        endif
-
-! See if it's time to start the full decoding procedure.
-        nhsym=(k-(kbuf-1)*60*96000)/17832.9252
-        if(ndone1.eq.1 .and. nhsym.ge.279 .and.ndone2.eq.0) then
-           kk=k
-           nlost=lost_tot                         ! Save stats for printout
-           ndone2=1
-!           print*,'recvpkt 2:',ns,kb,k
-        endif
-     endif
-
-!     if(ns.le.5 .or. ns.ge.46) write(*,3001) ns,ndone1,kb,  &amp;
-!          kbuf,ntx,kk,tdiff
-!3001 format(5i4,i11,f8.2)
-
-  endif
-  go to 10
-
-end subroutine recvpkt
+subroutine recvpkt(iarg)
+
+! Receive timf2 packets from Linrad and stuff data into array id().
+! (This routine runs in a background thread and will never return.)
+
+  parameter (NSZ=2*60*96000)
+  real*8 d8(NSZ)
+  integer*1 userx_no,iusb
+  integer*2 nblock,nblock0
+  logical synced
+  real*8 center_freq,buf8
+  common/plrscom/center_freq,msec,fqso,iptr,nblock,userx_no,iusb,buf8(174)
+  include 'datcom.f90'
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+  equivalence (id,d8)
+  data nblock0/0/,kb/1/,ns00/99/
+  data sqave/0.0/,u/0.001/,rxnoise/0.0/,pctblank/0.0/,kbuf/1/,lost_tot/0/
+  data multicast0/-99/
+  save
+
+1 call setup_rsocket(multicast)     !Open socket for multicast/unicast data
+  k=0
+  kk=0
+  kxp=0
+  kb=1
+  nsec0=-999
+  fcenter=144.125                   !Default (startup) frequency)
+  multicast0=multicast
+  ntx=0
+  synced=.false.
+
+10 if(multicast.ne.multicast0) go to 1
+  call recv_pkt(center_freq)
+
+! Should receive a new packet every 174/96000 = 0.0018125 s
+  nsec=mod(Tsec,86400.d0)           !Time according to MAP65
+  nseclr=msec/1000                  !Time according to Linrad
+  fcenter=center_freq
+
+! Reset buffer pointers at start of minute.
+  ns=mod(nsec,60)
+  if(ns.lt.ns00 .and. (lauto+monitoring.ne.0)) then
+!     print*,'new minute:',mod(nsec/60,60),ns00,ns,ntx,kb
+     if(ntx.eq.0) kb=3-kb
+     k=(kb-1)*60*96000
+     kxp=k
+     ndone1=0
+     ndone2=0
+     lost_tot=0
+     synced=.true.
+     ntx=0
+  endif
+  ns00=ns
+
+  if(transmitting.eq.1) ntx=1
+
+! Test for buffer full
+  if((kb.eq.1 .and. (k+174).gt.NSMAX) .or.                          &amp;
+       (kb.eq.2 .and. (k+174).gt.2*NSMAX)) go to 20
+
+! Check for lost packets
+  lost=nblock-nblock0-1
+  if(lost.ne.0) then
+     nb=nblock
+     if(nb.lt.0) nb=nb+65536
+     nb0=nblock0
+     if(nb0.lt.0) nb0=nb0+65536
+     lost_tot=lost_tot + lost               ! Insert zeros for the lost data.
+     do i=1,174*lost
+        k=k+1
+        d8(k)=0
+     enddo
+  endif
+  nblock0=nblock
+
+  tdiff=mod(0.001d0*msec,60.d0)-mod(Tsec,60.d0)
+  if(tdiff.lt.-30.) tdiff=tdiff+60.
+  if(tdiff.gt.30.) tdiff=tdiff-60.
+
+! Move data into Rx buffer and compute average signal level.
+  sq=0.
+  do i=1,174
+     k=k+1
+     d8(k)=buf8(i)
+     k2=k
+     n=1
+     if(k.gt.NSMAX) then
+        k2=k2-NSMAX
+        n=2
+     endif
+     x1=id(1,k2,n)
+     x2=id(2,k2,n)
+     x3=id(3,k2,n)
+     x4=id(4,k2,n)
+     sq=sq + x1*x1 + x2*x2 + x3*x3 + x4*x4
+  enddo
+  sqave=sqave + u*(sq-sqave)
+  rxnoise=10.0*log10(sqave) - 48.0
+  kxp=k
+
+20 if(nsec.ne.nsec0) then
+     nsec0=nsec
+     mutch=nseclr/3600
+     mutcm=mod(nseclr/60,60)
+     mutc=100*mutch + mutcm
+
+! If we have not transmitted in this minute, see if it's time to start FFTs
+     if(ntx.eq.0 .and. lauto+monitoring.ne.0) then
+        if(ns.ge.nt1 .and. ndone1.eq.0 .and. synced) then
+           nutc=mutc
+           fcenter=center_freq
+           kbuf=kb
+           kk=k
+           ndiskdat=0
+           ndone1=1
+        endif
+
+! See if it's time to start the full decoding procedure.
+        nhsym=(k-(kbuf-1)*60*96000)/17832.9252
+        if(ndone1.eq.1 .and. nhsym.ge.279 .and.ndone2.eq.0) then
+           kk=k
+           nlost=lost_tot                         ! Save stats for printout
+           ndone2=1
+!           print*,'recvpkt 2:',ns,kb,k
+        endif
+     endif
+
+!     if(ns.le.5 .or. ns.ge.46) write(*,3001) ns,ndone1,kb,  &amp;
+!          kbuf,ntx,kk,tdiff
+!3001 format(5i4,i11,f8.2)
+
+  endif
+  go to 10
+
+end subroutine recvpkt


Property changes on: branches/map65/recvpkt.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/rfile.f90
===================================================================
--- branches/map65/rfile.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/rfile.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,12 +1,12 @@
-
-!----------------------------------------------------- rfile
-subroutine rfile(lu,ibuf,n,ierr)
-
-  integer*1 ibuf(n)
-
-  read(lu,end=998) ibuf
-  ierr=0
-  go to 999
-998 ierr=1002
-999  return
-end subroutine rfile
+
+!----------------------------------------------------- rfile
+subroutine rfile(lu,ibuf,n,ierr)
+
+  integer*1 ibuf(n)
+
+  read(lu,end=998) ibuf
+  ierr=0
+  go to 999
+998 ierr=1002
+999  return
+end subroutine rfile


Property changes on: branches/map65/rfile.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/rfile3.c
===================================================================
--- branches/map65/rfile3.c	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/rfile3.c	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,22 +1,22 @@
-#include &lt;stdio.h&gt;
-
-void rfile3_(char *infile, char buf[], int *nbytes0)
-{
-  int n,nbytes;
-  static int first=1;
-  static FILE *fd=NULL;
-
-  nbytes=*nbytes0;
-  if(first) {
-    fd = fopen(infile,&quot;rb&quot;);
-    if(fd == NULL) {
-      printf(&quot;Cannot open %s\n&quot;,infile);
-      exit(0);
-    }
-    first=0;
-  }
-
-  n=fread(buf,1,nbytes,fd);
-  printf(&quot;b: %d   %d\n&quot;,nbytes,n);
-  return(n);
-}
+#include &lt;stdio.h&gt;
+
+void rfile3_(char *infile, char buf[], int *nbytes0)
+{
+  int n,nbytes;
+  static int first=1;
+  static FILE *fd=NULL;
+
+  nbytes=*nbytes0;
+  if(first) {
+    fd = fopen(infile,&quot;rb&quot;);
+    if(fd == NULL) {
+      printf(&quot;Cannot open %s\n&quot;,infile);
+      exit(0);
+    }
+    first=0;
+  }
+
+  n=fread(buf,1,nbytes,fd);
+  printf(&quot;b: %d   %d\n&quot;,nbytes,n);
+  return(n);
+}


Property changes on: branches/map65/rfile3.c
___________________________________________________________________
Name: svn:eol-style
   + native

Copied: branches/map65/rfile3a.F90 (from rev 1150, branches/map65/rfile3a.f90)
===================================================================
--- branches/map65/rfile3a.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/rfile3a.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -0,0 +1,18 @@
+!----------------------------------------------------- rfile3a
+subroutine rfile3a(infile,ibuf,n,ierr)
+
+  character*(*) infile
+  integer*1 ibuf(n)
+
+#ifdef CVF
+  open(10,file=infile,form='binary',status='old',err=998)
+#else
+  open(10,file=infile,access='stream',status='old',err=998)
+#endif
+  read(10,end=998) ibuf
+  ierr=0
+  go to 999
+998 ierr=1002
+999 close(10)
+  return
+end subroutine rfile3a


Property changes on: branches/map65/rfile3a.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Deleted: branches/map65/rfile3a.f90
===================================================================
--- branches/map65/rfile3a.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/rfile3a.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,18 +0,0 @@
-!----------------------------------------------------- rfile3a
-subroutine rfile3a(infile,ibuf,n,ierr)
-
-  character*(*) infile
-  integer*1 ibuf(n)
-
-#ifdef CVF
-  open(10,file=infile,form='binary',status='old',err=998)
-#else
-  open(10,file=infile,access='stream',status='old',err=998)
-#endif
-  read(10,end=998) ibuf
-  ierr=0
-  go to 999
-998 ierr=1002
-999 close(10)
-  return
-end subroutine rfile3a


Property changes on: branches/map65/runqqq.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/savetf2.F90
===================================================================
--- branches/map65/savetf2.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/savetf2.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,55 +1,55 @@
-subroutine savetf2(id,fnamedate,savedir)
-
-  parameter (NZ=60*96000)
-  parameter (NSPP=174)
-  parameter (NPKTS=NZ/NSPP)
-  integer*2 id(4,NZ)
-  character*80 savedir,fname
-  character cdate*8,ctime2*10,czone*5,fnamedate*6
-  integer  itt(8)
-  data nloc/-1/
-  save nloc
-
-  call date_and_time(cdate,ctime2,czone,itt)
-  nh=itt(5)-itt(4)/60
-  nm=itt(6)
-  ns=itt(7)
-  if(ns.lt.50) nm=nm-1
-  if(nm.lt.0) then
-     nm=nm+60
-     nh=nh-1
-  endif
-  if(nh.lt.0) nh=nh+24
-  if(nh.ge.24) nh=nh-24
-  write(fname,1001) fnamedate,nh,nm
-1001 format('/',a6,'_',2i2.2,'.tf2')
-  do i=80,1,-1
-     if(savedir(i:i).ne.' ') go to 1
-  enddo
-1 iz=i
-  fname=savedir(1:iz)//fname
-#ifdef CVF
-  open(17,file=fname,status='unknown',form='binary',err=998)
-#else
-  open(17,file=fname,status='unknown',access='stream',err=998)
-#endif
-
-  if(nloc.eq.-1) nloc=loc(id)
-  n=abs(loc(id)-nloc)
-  if(n.eq.0 .or. n.eq.46080000) then
-     write(17,err=997) id
-  else
-     print*,'Address of id() clobbered???',nloc,loc(id)
-  endif
-  close(17)
-  go to 999
-
-997 print*,'Error writing tf2 file'
-  print*,fname
-  go to 999
-
-998 print*,'Cannot open file:'
-  print*,fname
-
-999 return
-end subroutine savetf2
+subroutine savetf2(id,fnamedate,savedir)
+
+  parameter (NZ=60*96000)
+  parameter (NSPP=174)
+  parameter (NPKTS=NZ/NSPP)
+  integer*2 id(4,NZ)
+  character*80 savedir,fname
+  character cdate*8,ctime2*10,czone*5,fnamedate*6
+  integer  itt(8)
+  data nloc/-1/
+  save nloc
+
+  call date_and_time(cdate,ctime2,czone,itt)
+  nh=itt(5)-itt(4)/60
+  nm=itt(6)
+  ns=itt(7)
+  if(ns.lt.50) nm=nm-1
+  if(nm.lt.0) then
+     nm=nm+60
+     nh=nh-1
+  endif
+  if(nh.lt.0) nh=nh+24
+  if(nh.ge.24) nh=nh-24
+  write(fname,1001) fnamedate,nh,nm
+1001 format('/',a6,'_',2i2.2,'.tf2')
+  do i=80,1,-1
+     if(savedir(i:i).ne.' ') go to 1
+  enddo
+1 iz=i
+  fname=savedir(1:iz)//fname
+#ifdef CVF
+  open(17,file=fname,status='unknown',form='binary',err=998)
+#else
+  open(17,file=fname,status='unknown',access='stream',err=998)
+#endif
+
+  if(nloc.eq.-1) nloc=loc(id)
+  n=abs(loc(id)-nloc)
+  if(n.eq.0 .or. n.eq.46080000) then
+     write(17,err=997) id
+  else
+     print*,'Address of id() clobbered???',nloc,loc(id)
+  endif
+  close(17)
+  go to 999
+
+997 print*,'Error writing tf2 file'
+  print*,fname
+  go to 999
+
+998 print*,'Cannot open file:'
+  print*,fname
+
+999 return
+end subroutine savetf2


Property changes on: branches/map65/savetf2.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/sec_midn.F90
===================================================================
--- branches/map65/sec_midn.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/sec_midn.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,19 +1,19 @@
-real function sec_midn()
-  sec_midn=secnds(0.0)
-  return
-end function sec_midn
-
-subroutine sleep_msec(n)
-
-#ifdef CVF
-  use dflib
-#endif
-
-#ifdef CVF
-  call sleepqq(n)
-#else
-  call usleep(1000*n)
-#endif
-
-  return
-end subroutine sleep_msec
+real function sec_midn()
+  sec_midn=secnds(0.0)
+  return
+end function sec_midn
+
+subroutine sleep_msec(n)
+
+#ifdef CVF
+  use dflib
+#endif
+
+#ifdef CVF
+  call sleepqq(n)
+#else
+  call usleep(1000*n)
+#endif
+
+  return
+end subroutine sleep_msec


Property changes on: branches/map65/sec_midn.F90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/spcom.f90
===================================================================
--- branches/map65/spcom.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/spcom.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,3 +1,3 @@
-parameter (NFFT=32768)
-common/spcom/ss(4,322,NFFT),ss5(322,NFFT),savg(4,NFFT),nhsym,   &amp;
-            ssz(4,322,NFFT),ssz5(322,NFFT),szavg(4,NFFT)
+parameter (NFFT=32768)
+common/spcom/ss(4,322,NFFT),ss5(322,NFFT),savg(4,NFFT),nhsym,   &amp;
+            ssz(4,322,NFFT),ssz5(322,NFFT),szavg(4,NFFT)


Property changes on: branches/map65/spcom.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/spec.f90
===================================================================
--- branches/map65/spec.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/spec.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,142 +1,142 @@
-subroutine spec(brightness,contrast,ngain,nspeed,a,a2)
-
-  parameter (NX=750,NY=130,NTOT=NX*NY)
-
-! Input:
-  integer brightness,contrast   !Display parameters
-  integer ngain                 !Digital gain for input audio
-  integer nspeed                !Scrolling speed index
-
-! Output:
-  integer*2 a(NTOT)             !Pixel values for NX x NY array
-  integer*2 a2(NTOT)            !Pixel values for NX x NY array
-
-  logical first
-  integer nstep(5)
-  integer hist(0:1000)
-!  Could save memory by doing the averaging-by-7 (or 10?) of ss5 in symspec.
-  include 'spcom.f90'
-  real s(NFFT,NY),savg2(NFFT)
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-  include 'gcom3.f90'
-  include 'gcom4.f90'
-  data first/.true./
-  data nstep/28,20,14,10,7/       !Integration limits
-  save
-
-  if(first) then
-     df=96000.0/nfft
-     call zero(a,NX*NY/2)
-     call zero(a2,NX*NY/2)
-     first=.false.
-  endif
-
-  nadd=nstep(nspeed)
-  nlines=322/nadd
-  call zero(s,NFFT*NY)
-  k=0
-  do j=1,nlines
-     do n=1,nadd
-        k=k+1
-        do i=1,NFFT
-           s(i,j)=s(i,j) + ss5(k,i)
-        enddo
-     enddo
-  enddo
-  call zero(savg2,NFFT)
-  do j=1,nlines
-     do i=1,NFFT
-        savg2(i)=savg2(i) + s(i,j)
-     enddo
-  enddo
-
-  ia=0.08*NFFT
-  ib=0.92*NFFT
-  smin=1.e30
-  smax=-smin
-  sum=0.
-  nsum=0
-  do i=ia,ib
-     smin=min(savg2(i),smin)
-     smax=max(savg2(i),smax)
-     if(savg2(i).lt.10000.0) then
-        sum=sum + savg2(i)
-        nsum=nsum+1
-     endif
-  enddo
-  ave=sum/nsum
-  call zero(hist,1001)
-  do i=ia,ib
-     n=savg2(i) * (300.0/ave)
-     if(n.gt.1000) n=1000
-     if(n.ge.0 .and. n.le.1000) hist(n)=hist(n)+1
-  enddo
-
-  sum=0.
-  do i=0,1000
-     sum=sum + float(hist(i))/(ib-ia+1)
-     if(sum.gt.0.4) go to 10
-  enddo
-10 base=i*ave/300.0
-  base=base/(nadd*nlines)
-
-  newpts=NX*nlines
-  do i=newpts+1,NX*NY
-     a(i)=a(i-newpts)
-     a2(i)=a2(i-newpts)
-  enddo
-
-  logmap=1
-  gamma=1.3 + 0.01*contrast
-  offset=(brightness+64.0)/2
-  if(logmap.eq.1) then
-     gain=40*sqrt(nstep(nspeed)/5.0) * 5.0**(0.01*contrast)
-     offset=brightness/2 + 10
-  endif
-  fac=20.0/nadd
-  fac=fac*0.065/base
- ! fac=fac*(0.1537/base)
-  foffset=0.001*(1270+nfcal)
-  nbpp=(nfb-nfa)*NFFT/(96.0*NX)  !Bins per pixel in wideband (upper) waterfall
-  fselect=mousefqso + foffset - 1000.d0*(fcenter-144.125d0)
-  imid=nint(1000.0*(fselect-125.0+48.0)/df)
-  fmid=0.5*(nfa+nfb) + foffset
-  imid0=nint(1000.0*(fmid-125.0+48.0)/df) - nbpp/2  !Last term is empirical
-  i0=imid-375
-  ii0=imid0-375*nbpp
-!  if(nfullspec.eq.1) then
-!     nbpp=NFFT/NX
-!     ii0=0
-!  endif
-
-  k=0
-  do j=nlines,1,-1               !Reverse order so last will be on top
-     do i=1,NX
-        k=k+1
-        n=0
-        x=0.
-        iia=(i-1)*nbpp + ii0 + 1
-        iib=i*nbpp + ii0
-        do ii=iia,iib
-           x=max(x,s(ii,j))
-        enddo
-        x=fac*x
-        if(x.gt.0.0 .and. logmap.eq.0) n=(2.0*x)**gamma + offset
-        if(x.gt.0.0 .and. logmap.eq.1) n=gain*log10(1.0*x) + offset
-        n=min(252,max(0,n))
-        a(k)=n
-
-!  Now do the lower (zoomed) waterfall with one FFT bin per pixel.
-        n=0
-        x=fac*s(i0+i-1,j)
-        if(x.gt.0.0 .and. logmap.eq.0) n=(3.0*x)**gamma + offset
-        if(x.gt.0.0 .and. logmap.eq.1) n=1.2*gain*log10(1.0*x) + offset
-        n=min(252,max(0,n))
-        a2(k)=n
-
-     enddo
-  enddo
-
-  return
-end subroutine spec
+subroutine spec(brightness,contrast,ngain,nspeed,a,a2)
+
+  parameter (NX=750,NY=130,NTOT=NX*NY)
+
+! Input:
+  integer brightness,contrast   !Display parameters
+  integer ngain                 !Digital gain for input audio
+  integer nspeed                !Scrolling speed index
+
+! Output:
+  integer*2 a(NTOT)             !Pixel values for NX x NY array
+  integer*2 a2(NTOT)            !Pixel values for NX x NY array
+
+  logical first
+  integer nstep(5)
+  integer hist(0:1000)
+!  Could save memory by doing the averaging-by-7 (or 10?) of ss5 in symspec.
+  include 'spcom.f90'
+  real s(NFFT,NY),savg2(NFFT)
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+  include 'gcom3.f90'
+  include 'gcom4.f90'
+  data first/.true./
+  data nstep/28,20,14,10,7/       !Integration limits
+  save
+
+  if(first) then
+     df=96000.0/nfft
+     call zero(a,NX*NY/2)
+     call zero(a2,NX*NY/2)
+     first=.false.
+  endif
+
+  nadd=nstep(nspeed)
+  nlines=322/nadd
+  call zero(s,NFFT*NY)
+  k=0
+  do j=1,nlines
+     do n=1,nadd
+        k=k+1
+        do i=1,NFFT
+           s(i,j)=s(i,j) + ss5(k,i)
+        enddo
+     enddo
+  enddo
+  call zero(savg2,NFFT)
+  do j=1,nlines
+     do i=1,NFFT
+        savg2(i)=savg2(i) + s(i,j)
+     enddo
+  enddo
+
+  ia=0.08*NFFT
+  ib=0.92*NFFT
+  smin=1.e30
+  smax=-smin
+  sum=0.
+  nsum=0
+  do i=ia,ib
+     smin=min(savg2(i),smin)
+     smax=max(savg2(i),smax)
+     if(savg2(i).lt.10000.0) then
+        sum=sum + savg2(i)
+        nsum=nsum+1
+     endif
+  enddo
+  ave=sum/nsum
+  call zero(hist,1001)
+  do i=ia,ib
+     n=savg2(i) * (300.0/ave)
+     if(n.gt.1000) n=1000
+     if(n.ge.0 .and. n.le.1000) hist(n)=hist(n)+1
+  enddo
+
+  sum=0.
+  do i=0,1000
+     sum=sum + float(hist(i))/(ib-ia+1)
+     if(sum.gt.0.4) go to 10
+  enddo
+10 base=i*ave/300.0
+  base=base/(nadd*nlines)
+
+  newpts=NX*nlines
+  do i=newpts+1,NX*NY
+     a(i)=a(i-newpts)
+     a2(i)=a2(i-newpts)
+  enddo
+
+  logmap=1
+  gamma=1.3 + 0.01*contrast
+  offset=(brightness+64.0)/2
+  if(logmap.eq.1) then
+     gain=40*sqrt(nstep(nspeed)/5.0) * 5.0**(0.01*contrast)
+     offset=brightness/2 + 10
+  endif
+  fac=20.0/nadd
+  fac=fac*0.065/base
+ ! fac=fac*(0.1537/base)
+  foffset=0.001*(1270+nfcal)
+  nbpp=(nfb-nfa)*NFFT/(96.0*NX)  !Bins per pixel in wideband (upper) waterfall
+  fselect=mousefqso + foffset - 1000.d0*(fcenter-144.125d0)
+  imid=nint(1000.0*(fselect-125.0+48.0)/df)
+  fmid=0.5*(nfa+nfb) + foffset
+  imid0=nint(1000.0*(fmid-125.0+48.0)/df) - nbpp/2  !Last term is empirical
+  i0=imid-375
+  ii0=imid0-375*nbpp
+!  if(nfullspec.eq.1) then
+!     nbpp=NFFT/NX
+!     ii0=0
+!  endif
+
+  k=0
+  do j=nlines,1,-1               !Reverse order so last will be on top
+     do i=1,NX
+        k=k+1
+        n=0
+        x=0.
+        iia=(i-1)*nbpp + ii0 + 1
+        iib=i*nbpp + ii0
+        do ii=iia,iib
+           x=max(x,s(ii,j))
+        enddo
+        x=fac*x
+        if(x.gt.0.0 .and. logmap.eq.0) n=(2.0*x)**gamma + offset
+        if(x.gt.0.0 .and. logmap.eq.1) n=gain*log10(1.0*x) + offset
+        n=min(252,max(0,n))
+        a(k)=n
+
+!  Now do the lower (zoomed) waterfall with one FFT bin per pixel.
+        n=0
+        x=fac*s(i0+i-1,j)
+        if(x.gt.0.0 .and. logmap.eq.0) n=(3.0*x)**gamma + offset
+        if(x.gt.0.0 .and. logmap.eq.1) n=1.2*gain*log10(1.0*x) + offset
+        n=min(252,max(0,n))
+        a2(k)=n
+
+     enddo
+  enddo
+
+  return
+end subroutine spec


Property changes on: branches/map65/spec.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/symspec.f90
===================================================================
--- branches/map65/symspec.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/symspec.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,172 +1,172 @@
-subroutine symspec(id,kbuf,kk,kkdone,nutc,newdat)
-
-!  Compute spectra at four polarizations, using half-symbol steps.
-
-  parameter (NSMAX=60*96000)
-  integer*2 id(4,NSMAX,2)
-  complex z
-  real*8 ts,hsym
-  include 'spcom.f90'
-  include 'gcom2.f90'
-  complex cx(NFFT),cy(NFFT)               !  pad to 32k with zeros
-  data kbuf0/-999/,n/0/
-  save
-
-  kkk=kk
-  if(kbuf.eq.2) kkk=kk-5760000
-  fac=0.0002
-  hsym=2048.d0*96000.d0/11025.d0          !Samples per half symbol
-  npts=hsym                               !Integral samples per half symbol
-  ntot=322                                !Half symbols per transmission
-!  ntot=279                               !Half symbols in 51.8 sec
-
-  if(kbuf.ne.kbuf0 .or. ndiskdat.eq.1) then
-     kkdone=0
-     kbuf0=kbuf
-     ts=1.d0 - hsym
-     n=0
-     do ip=1,4
-        do i=1,NFFT
-           szavg(ip,i)=0.
-        enddo
-     enddo
-
-! Get baseline power level for this minute
-     n1=200                               !Block size (somewhat arbitrary)
-     n2=(kkk-kkdone)/n1                   !Number of blocks
-     k=0                                  !Starting place
-     sqq=0.
-     nsqq=0
-     do j=1,n2
-        sq=0.
-        do i=1,n1                         !Find power in each block
-           k=k+1
-           x1=id(1,k,kbuf)
-           x2=id(2,k,kbuf)
-           x3=id(3,k,kbuf)
-           x4=id(4,k,kbuf)
-           sq=sq + x1*x1 + x2*x2 + x3*x3 + x4*x4
-        enddo
-        if(sq.lt.n1*10000.) then          !Find power in good blocks
-           sqq=sqq+sq
-           nsqq=nsqq+1
-        endif
-     enddo
-     sqave=sqq/nsqq                       !Average power in good blocks
-     nclip=0
-     nz2=0
-  endif
-
-  if(nblank.ne.0) then
-! Apply final noise blanking
-     n2=(kkk-kkdone)/n1
-     k=kkdone
-     do j=1,n2
-        sq=0.
-        do i=1,n1
-           k=k+1
-           x1=id(1,k,kbuf)
-           x2=id(2,k,kbuf)
-           x3=id(3,k,kbuf)
-           x4=id(4,k,kbuf)
-           sq=sq + x1*x1 + x2*x2 + x3*x3 + x4*x4
-        enddo
-! If power in this block is excessive, blank it.
-        if(sq.gt.1.5*sqave) then
-           do i=k-n1+1,k
-              id(1,i,kbuf)=0
-              id(2,i,kbuf)=0
-              id(3,i,kbuf)=0
-              id(4,i,kbuf)=0
-           enddo
-           nclip=nclip+1
-        endif
-     enddo
-     nz2=nz2+n2
-     pctblank=nclip*100.0/nz2
-!     write(*,3002) nblank,n2,nz2,nclip,kkk,kkdone,pctblank,sqave
-!3002 format(4i6,2i9,f8.1,f10.0)
-  endif
-!###
-
-  do nn=1,ntot
-     i0=ts+hsym                           !Starting sample pointer
-     if((i0+npts-1).gt.kkk) go to 998     !See if we have enough points
-     i1=ts+2*hsym                         !Next starting sample pointer
-     ts=ts+hsym                           !OK, update the exact sample pointer
-     do i=1,npts                          !Copy data to FFT arrays
-        xr=fac*id(1,i0+i,kbuf)
-        xi=fac*id(2,i0+i,kbuf)
-        cx(i)=cmplx(xr,xi)
-        yr=fac*id(3,i0+i,kbuf)
-        yi=fac*id(4,i0+i,kbuf)
-        cy(i)=cmplx(yr,yi)
-     enddo
-
-     do i=npts+1,NFFT                   !Pad to 32k with zeros
-        cx(i)=0.
-        cy(i)=0.
-     enddo
-
-     call four2a(cx,NFFT,1,1,1)         !Do the FFTs
-     call four2a(cy,NFFT,1,1,1)
-            
-     n=n+1
-     do i=1,NFFT                        !Save and accumulate power spectra
-        sx=real(cx(i))**2 + aimag(cx(i))**2
-        ssz(1,n,i)=sx                    ! Pol = 0
-        szavg(1,i)=szavg(1,i) + sx
-        
-        z=cx(i) + cy(i)
-        s45=0.5*(real(z)**2 + aimag(z)**2)
-        ssz(2,n,i)=s45                   ! Pol = 45
-        szavg(2,i)=szavg(2,i) + s45
-
-        sy=real(cy(i))**2 + aimag(cy(i))**2
-        ssz(3,n,i)=sy                    ! Pol = 90
-        szavg(3,i)=szavg(3,i) + sy
-
-        z=cx(i) - cy(i)
-        s135=0.5*(real(z)**2 + aimag(z)**2)
-        ssz(4,n,i)=s135                  ! Pol = 135
-        szavg(4,i)=szavg(4,i) + s135
-
-        z=cx(i)*conjg(cy(i))
-
-! Leif's formula:
-!            ss5(n,i)=0.5*(sx+sy) + (real(z)**2 + aimag(z)**2 -
-!     +          sx*sy)/(sx+sy)
-
-! Leif's suggestion:
-!            ss5(n,i)=max(sx,s45,sy,s135)
-
-! Linearly polarized component, from the Stokes parameters:
-        q=sx - sy
-        u=2.0*real(z)
-!            v=2.0*aimag(z)
-        ssz5(n,i)=0.707*sqrt(q*q + u*u)
-
-     enddo
-!         if(n.eq.ntot) then
-     if(n.ge.279) then
-        call move(ssz5,ss5,322*NFFT)
-        write(utcdata,1002) nutc
-1002    format(i4.4)
-        utcdata=utcdata(1:2)//':'//utcdata(3:4)
-        newspec=1
-        call move(ssz,ss,4*322*NFFT)
-        call move(szavg,savg,4*NFFT)
-        newdat=1
-        ndecoding=1
-        go to 999
-     endif
-     kkdone=i1-1
-     nhsym=n
-     call sleep_msec(0)
-  enddo
-
-998 kkdone=i1-1
-999 continue
-
-  return
-end subroutine symspec
+subroutine symspec(id,kbuf,kk,kkdone,nutc,newdat)
+
+!  Compute spectra at four polarizations, using half-symbol steps.
+
+  parameter (NSMAX=60*96000)
+  integer*2 id(4,NSMAX,2)
+  complex z
+  real*8 ts,hsym
+  include 'spcom.f90'
+  include 'gcom2.f90'
+  complex cx(NFFT),cy(NFFT)               !  pad to 32k with zeros
+  data kbuf0/-999/,n/0/
+  save
+
+  kkk=kk
+  if(kbuf.eq.2) kkk=kk-5760000
+  fac=0.0002
+  hsym=2048.d0*96000.d0/11025.d0          !Samples per half symbol
+  npts=hsym                               !Integral samples per half symbol
+  ntot=322                                !Half symbols per transmission
+!  ntot=279                               !Half symbols in 51.8 sec
+
+  if(kbuf.ne.kbuf0 .or. ndiskdat.eq.1) then
+     kkdone=0
+     kbuf0=kbuf
+     ts=1.d0 - hsym
+     n=0
+     do ip=1,4
+        do i=1,NFFT
+           szavg(ip,i)=0.
+        enddo
+     enddo
+
+! Get baseline power level for this minute
+     n1=200                               !Block size (somewhat arbitrary)
+     n2=(kkk-kkdone)/n1                   !Number of blocks
+     k=0                                  !Starting place
+     sqq=0.
+     nsqq=0
+     do j=1,n2
+        sq=0.
+        do i=1,n1                         !Find power in each block
+           k=k+1
+           x1=id(1,k,kbuf)
+           x2=id(2,k,kbuf)
+           x3=id(3,k,kbuf)
+           x4=id(4,k,kbuf)
+           sq=sq + x1*x1 + x2*x2 + x3*x3 + x4*x4
+        enddo
+        if(sq.lt.n1*10000.) then          !Find power in good blocks
+           sqq=sqq+sq
+           nsqq=nsqq+1
+        endif
+     enddo
+     sqave=sqq/nsqq                       !Average power in good blocks
+     nclip=0
+     nz2=0
+  endif
+
+  if(nblank.ne.0) then
+! Apply final noise blanking
+     n2=(kkk-kkdone)/n1
+     k=kkdone
+     do j=1,n2
+        sq=0.
+        do i=1,n1
+           k=k+1
+           x1=id(1,k,kbuf)
+           x2=id(2,k,kbuf)
+           x3=id(3,k,kbuf)
+           x4=id(4,k,kbuf)
+           sq=sq + x1*x1 + x2*x2 + x3*x3 + x4*x4
+        enddo
+! If power in this block is excessive, blank it.
+        if(sq.gt.1.5*sqave) then
+           do i=k-n1+1,k
+              id(1,i,kbuf)=0
+              id(2,i,kbuf)=0
+              id(3,i,kbuf)=0
+              id(4,i,kbuf)=0
+           enddo
+           nclip=nclip+1
+        endif
+     enddo
+     nz2=nz2+n2
+     pctblank=nclip*100.0/nz2
+!     write(*,3002) nblank,n2,nz2,nclip,kkk,kkdone,pctblank,sqave
+!3002 format(4i6,2i9,f8.1,f10.0)
+  endif
+!###
+
+  do nn=1,ntot
+     i0=ts+hsym                           !Starting sample pointer
+     if((i0+npts-1).gt.kkk) go to 998     !See if we have enough points
+     i1=ts+2*hsym                         !Next starting sample pointer
+     ts=ts+hsym                           !OK, update the exact sample pointer
+     do i=1,npts                          !Copy data to FFT arrays
+        xr=fac*id(1,i0+i,kbuf)
+        xi=fac*id(2,i0+i,kbuf)
+        cx(i)=cmplx(xr,xi)
+        yr=fac*id(3,i0+i,kbuf)
+        yi=fac*id(4,i0+i,kbuf)
+        cy(i)=cmplx(yr,yi)
+     enddo
+
+     do i=npts+1,NFFT                   !Pad to 32k with zeros
+        cx(i)=0.
+        cy(i)=0.
+     enddo
+
+     call four2a(cx,NFFT,1,1,1)         !Do the FFTs
+     call four2a(cy,NFFT,1,1,1)
+            
+     n=n+1
+     do i=1,NFFT                        !Save and accumulate power spectra
+        sx=real(cx(i))**2 + aimag(cx(i))**2
+        ssz(1,n,i)=sx                    ! Pol = 0
+        szavg(1,i)=szavg(1,i) + sx
+        
+        z=cx(i) + cy(i)
+        s45=0.5*(real(z)**2 + aimag(z)**2)
+        ssz(2,n,i)=s45                   ! Pol = 45
+        szavg(2,i)=szavg(2,i) + s45
+
+        sy=real(cy(i))**2 + aimag(cy(i))**2
+        ssz(3,n,i)=sy                    ! Pol = 90
+        szavg(3,i)=szavg(3,i) + sy
+
+        z=cx(i) - cy(i)
+        s135=0.5*(real(z)**2 + aimag(z)**2)
+        ssz(4,n,i)=s135                  ! Pol = 135
+        szavg(4,i)=szavg(4,i) + s135
+
+        z=cx(i)*conjg(cy(i))
+
+! Leif's formula:
+!            ss5(n,i)=0.5*(sx+sy) + (real(z)**2 + aimag(z)**2 -
+!     +          sx*sy)/(sx+sy)
+
+! Leif's suggestion:
+!            ss5(n,i)=max(sx,s45,sy,s135)
+
+! Linearly polarized component, from the Stokes parameters:
+        q=sx - sy
+        u=2.0*real(z)
+!            v=2.0*aimag(z)
+        ssz5(n,i)=0.707*sqrt(q*q + u*u)
+
+     enddo
+!         if(n.eq.ntot) then
+     if(n.ge.279) then
+        call move(ssz5,ss5,322*NFFT)
+        write(utcdata,1002) nutc
+1002    format(i4.4)
+        utcdata=utcdata(1:2)//':'//utcdata(3:4)
+        newspec=1
+        call move(ssz,ss,4*322*NFFT)
+        call move(szavg,savg,4*NFFT)
+        newdat=1
+        ndecoding=1
+        go to 999
+     endif
+     kkdone=i1-1
+     nhsym=n
+     call sleep_msec(0)
+  enddo
+
+998 kkdone=i1-1
+999 continue
+
+  return
+end subroutine symspec


Property changes on: branches/map65/symspec.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/sysqqq.f90
===================================================================
--- branches/map65/sysqqq.f90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/sysqqq.f90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,13 +1,13 @@
-subroutine sysqqq(cmnd,iret)
-
-#ifdef CVF
-  use dfport
-#else
-  integer system
-#endif
-  character*(*) cmnd
-
-  iret=system(cmnd)
-
-  return
-end subroutine sysqqq
+subroutine sysqqq(cmnd,iret)
+
+#ifdef CVF
+  use dfport
+#else
+  integer system
+#endif
+  character*(*) cmnd
+
+  iret=system(cmnd)
+
+  return
+end subroutine sysqqq


Property changes on: branches/map65/sysqqq.f90
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/map65/wsjtgen.F90
===================================================================
--- branches/map65/wsjtgen.F90	2009-04-23 17:43:21 UTC (rev 1150)
+++ branches/map65/wsjtgen.F90	2009-04-23 19:02:43 UTC (rev 1151)
@@ -1,137 +1,137 @@
-subroutine wsjtgen
-
-! Compute the waveform to be transmitted.  
-
-! Input:    txmsg        message to be transmitted, up to 28 characters
-!           samfacout    fsample_out/11025.d0
-
-! Output:   iwave        waveform data, i*2 format
-!           nwave        number of samples
-!           sendingsh    0=normal; 1=shorthand (FSK441) or plain text (JT65)
-
-  parameter (NMSGMAX=28)             !Max characters per message
-  parameter (NSPD=25)                !Samples per dit
-  parameter (NDPC=3)                 !Dits per character
-  parameter (NWMAX=661500)           !Max length of waveform = 60*11025
-  parameter (NTONES=4)               !Number of FSK tones
-  character msg*28,msgsent*22,idmsg*22
-  real*8 freq,dpha,twopi
-  character testfile*27
-  logical lcwid
-  integer*2 icwid(110250),jwave(NWMAX)
-
-  integer*1 hdr(44)
-  integer*2 nfmt2,nchan2,nbitsam2,nbytesam2
-  character*4 ariff,awave,afmt,adata
-  common/hdr/ariff,lenfile,awave,afmt,lenfmt,nfmt2,nchan2, &amp;
-     nsamrate,nbytesec,nbytesam2,nbitsam2,adata,ndata,jwave
-  equivalence (ariff,hdr)
-
-  data twopi/6.28318530718d0/
-  include 'gcom1.f90'
-  include 'gcom2.f90'
-
-  fsample_out=11025.d0*samfacout
-  lcwid=.false.
-  if(idinterval.gt.0) then
-     n=(mod(int(tsec/60.d0),idinterval))
-     if(n.eq.(1-txfirst)) lcwid=.true.
-     if(idinterval.eq.1) lcwid=.true.
-  endif
-
-  msg=txmsg
-  ntxnow=ntxreq
-
-! Convert all letters to upper case
-  do i=1,28
-     if(msg(i:i).ge.'a' .and. msg(i:i).le.'z')                  &amp;
-          msg(i:i)= char(ichar(msg(i:i))+ichar('A')-ichar('a'))
-  enddo
-  txmsg=msg
-
-! Find message length
-  do i=NMSGMAX,1,-1
-     if(msg(i:i).ne.' ') go to 10
-  enddo
-  i=1
-10 nmsg=i
-  nmsg0=nmsg
-
-  if(msg(1:1).eq.'@') then
-     if(msg(2:2).eq.'/' .or. ichar(msg(2:2)).eq.92) then
-        txmsg=msg
-        testfile=msg(2:)
-#ifdef CVF
-        open(18,file=testfile,form='binary',status='old',err=12)
-#else
-        open(18,file=testfile,access='stream',status='old',err=12)
-#endif
-        go to 14
-12      print*,'Cannot open test file ',msg(2:)
-        go to 999
-14      read(18) hdr
-        if(ndata.gt.NTxMax) ndata=NTxMax
-        call rfile(18,iwave,ndata,ierr)
-        close(18)
-        if(ierr.ne.0) print*,'Error reading test file ',msg(2:)
-        nwave=ndata/2
-        do i=nwave,NTXMAX
-           iwave(i)=0
-        enddo
-	sending=txmsg
-	sendingsh=2
-        go to 999
-     endif
-
-! Transmit a fixed tone at specified frequency
-     freq=1000.0
-     if(msg(2:2).eq.'A' .or. msg(2:2).eq.'a') freq=882
-     if(msg(2:2).eq.'B' .or. msg(2:2).eq.'b') freq=1323
-     if(msg(2:2).eq.'C' .or. msg(2:2).eq.'c') freq=1764
-     if(msg(2:2).eq.'D' .or. msg(2:2).eq.'d') freq=2205
-     if(freq.eq.1000.0) then
-        read(msg(2:),*,err=1) freq
-        goto 2
-1       txmsg='@1000'
-        nmsg=5
-        nmsg0=5
-     endif
-2    nwave=60*fsample_out
-     dpha=twopi*freq/fsample_out
-     do i=1,nwave
-        iwave(i)=32767.0*sin(i*dpha)
-     enddo
-     goto 900
-  endif
-
-!  We're in JT65 mode.
-  if(mode(5:5).eq.'A') mode65=1
-  if(mode(5:5).eq.'B') mode65=2
-  if(mode(5:5).eq.'C') mode65=4
-  call gen65(msg,mode65,samfacout,iwave,nwave,sendingsh,msgsent)
-
-  if(lcwid) then
-!  Generate and insert the CW ID.
-     wpm=25.
-     freqcw=800.
-     idmsg=MyCall//'          '
-     call gencwid(idmsg,wpm,freqcw,samfacout,icwid,ncwid)
-     k=nwave
-     do i=1,ncwid
-        k=k+1
-        iwave(k)=icwid(i)
-     enddo
-     do i=1,2205                   !Add 0.2 s of silence
-        k=k+1
-        iwave(k)=0
-     enddo
-     nwave=k
-  endif
-
-900 sending=txmsg
-  if(sendingsh.ne.1) sending=msgsent
-  nmsg=nmsg0
-
-999  return
-end subroutine wsjtgen
-
+subroutine wsjtgen
+
+! Compute the waveform to be transmitted.  
+
+! Input:    txmsg        message to be transmitted, up to 28 characters
+!           samfacout    fsample_out/11025.d0
+
+! Output:   iwave        waveform data, i*2 format
+!           nwave        number of samples
+!           sendingsh    0=normal; 1=shorthand (FSK441) or plain text (JT65)
+
+  parameter (NMSGMAX=28)             !Max characters per message
+  parameter (NSPD=25)                !Samples per dit
+  parameter (NDPC=3)                 !Dits per character
+  parameter (NWMAX=661500)           !Max length of waveform = 60*11025
+  parameter (NTONES=4)               !Number of FSK tones
+  character msg*28,msgsent*22,idmsg*22
+  real*8 freq,dpha,twopi
+  character testfile*27
+  logical lcwid
+  integer*2 icwid(110250),jwave(NWMAX)
+
+  integer*1 hdr(44)
+  integer*2 nfmt2,nchan2,nbitsam2,nbytesam2
+  character*4 ariff,awave,afmt,adata
+  common/hdr/ariff,lenfile,awave,afmt,lenfmt,nfmt2,nchan2, &amp;
+     nsamrate,nbytesec,nbytesam2,nbitsam2,adata,ndata,jwave
+  equivalence (ariff,hdr)
+
+  data twopi/6.28318530718d0/
+  include 'gcom1.f90'
+  include 'gcom2.f90'
+
+  fsample_out=11025.d0*samfacout
+  lcwid=.false.
+  if(idinterval.gt.0) then
+     n=(mod(int(tsec/60.d0),idinterval))
+     if(n.eq.(1-txfirst)) lcwid=.true.
+     if(idinterval.eq.1) lcwid=.true.
+  endif
+
+  msg=txmsg
+  ntxnow=ntxreq
+
+! Convert all letters to upper case
+  do i=1,28
+     if(msg(i:i).ge.'a' .and. msg(i:i).le.'z')                  &amp;
+          msg(i:i)= char(ichar(msg(i:i))+ichar('A')-ichar('a'))
+  enddo
+  txmsg=msg
+
+! Find message length
+  do i=NMSGMAX,1,-1
+     if(msg(i:i).ne.' ') go to 10
+  enddo
+  i=1
+10 nmsg=i
+  nmsg0=nmsg
+
+  if(msg(1:1).eq.'@') then
+     if(msg(2:2).eq.'/' .or. ichar(msg(2:2)).eq.92) then
+        txmsg=msg
+        testfile=msg(2:)
+#ifdef CVF
+        open(18,file=testfile,form='binary',status='old',err=12)
+#else
+        open(18,file=testfile,access='stream',status='old',err=12)
+#endif
+        go to 14
+12      print*,'Cannot open test file ',msg(2:)
+        go to 999
+14      read(18) hdr
+        if(ndata.gt.NTxMax) ndata=NTxMax
+        call rfile(18,iwave,ndata,ierr)
+        close(18)
+        if(ierr.ne.0) print*,'Error reading test file ',msg(2:)
+        nwave=ndata/2
+        do i=nwave,NTXMAX
+           iwave(i)=0
+        enddo
+	sending=txmsg
+	sendingsh=2
+        go to 999
+     endif
+
+! Transmit a fixed tone at specified frequency
+     freq=1000.0
+     if(msg(2:2).eq.'A' .or. msg(2:2).eq.'a') freq=882
+     if(msg(2:2).eq.'B' .or. msg(2:2).eq.'b') freq=1323
+     if(msg(2:2).eq.'C' .or. msg(2:2).eq.'c') freq=1764
+     if(msg(2:2).eq.'D' .or. msg(2:2).eq.'d') freq=2205
+     if(freq.eq.1000.0) then
+        read(msg(2:),*,err=1) freq
+        goto 2
+1       txmsg='@1000'
+        nmsg=5
+        nmsg0=5
+     endif
+2    nwave=60*fsample_out
+     dpha=twopi*freq/fsample_out
+     do i=1,nwave
+        iwave(i)=32767.0*sin(i*dpha)
+     enddo
+     goto 900
+  endif
+
+!  We're in JT65 mode.
+  if(mode(5:5).eq.'A') mode65=1
+  if(mode(5:5).eq.'B') mode65=2
+  if(mode(5:5).eq.'C') mode65=4
+  call gen65(msg,mode65,samfacout,iwave,nwave,sendingsh,msgsent)
+
+  if(lcwid) then
+!  Generate and insert the CW ID.
+     wpm=25.
+     freqcw=800.
+     idmsg=MyCall//'          '
+     call gencwid(idmsg,wpm,freqcw,samfacout,icwid,ncwid)
+     k=nwave
+     do i=1,ncwid
+        k=k+1
+        iwave(k)=icwid(i)
+     enddo
+     do i=1,2205                   !Add 0.2 s of silence
+        k=k+1
+        iwave(k)=0
+     enddo
+     nwave=k
+  endif
+
+900 sending=txmsg
+  if(sendingsh.ne.1) sending=msgsent
+  nmsg=nmsg0
+
+999  return
+end subroutine wsjtgen
+


Property changes on: branches/map65/wsjtgen.F90
___________________________________________________________________
Name: svn:eol-style
   + native


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000841.html">[WSJT-SVN] r1150 - branches/wspr
</A></li>
	<LI>Next message: <A HREF="000842.html">[WSJT-SVN] r1152 - branches/map65
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#845">[ date ]</a>
              <a href="thread.html#845">[ thread ]</a>
              <a href="subject.html#845">[ subject ]</a>
              <a href="author.html#845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
