<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r3462 - in branches/wsjtx: . lib
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2013-July/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r3462%20-%20in%20branches/wsjtx%3A%20.%20lib&In-Reply-To=%3C20130708131724.4356955B0C%40scm.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003153.html">
   <LINK REL="Next"  HREF="003155.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r3462 - in branches/wsjtx: . lib</H1>
    <B>k1jt at scm.berlios.de</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r3462%20-%20in%20branches/wsjtx%3A%20.%20lib&In-Reply-To=%3C20130708131724.4356955B0C%40scm.berlios.de%3E"
       TITLE="[WSJT-SVN] r3462 - in branches/wsjtx: . lib">k1jt at scm.berlios.de
       </A><BR>
    <I>Mon Jul  8 15:17:23 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="003153.html">[WSJT-SVN] r3461 - branches/wsjtx_k1jt_p1
</A></li>
        <LI>Next message: <A HREF="003155.html">[WSJT-SVN] r3463 - in branches/wsjtx: . lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3154">[ date ]</a>
              <a href="thread.html#3154">[ thread ]</a>
              <a href="subject.html#3154">[ subject ]</a>
              <a href="author.html#3154">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: k1jt
Date: 2013-07-08 15:17:22 +0200 (Mon, 08 Jul 2013)
New Revision: 3462

Added:
   branches/wsjtx/WSJT-X_Users_Guide_v1.1.docx
   branches/wsjtx/lib/afc65b.f90
   branches/wsjtx/lib/ccf2.f90
   branches/wsjtx/lib/ccf65.f90
   branches/wsjtx/lib/char.h
   branches/wsjtx/lib/chkhist.f90
   branches/wsjtx/lib/constants.f90
   branches/wsjtx/lib/decode65a.f90
   branches/wsjtx/lib/decode65b.f90
   branches/wsjtx/lib/demod64a.f90
   branches/wsjtx/lib/extract.F90
   branches/wsjtx/lib/fchisq65.f90
   branches/wsjtx/lib/fil6521.f90
   branches/wsjtx/lib/filbig.f90
   branches/wsjtx/lib/flat2.f90
   branches/wsjtx/lib/flat65.f90
   branches/wsjtx/lib/gen65.f90
   branches/wsjtx/lib/graycode65.f90
   branches/wsjtx/lib/interleave63.f90
   branches/wsjtx/lib/jt65.f90
   branches/wsjtx/lib/jt65a.f90
   branches/wsjtx/lib/move.f90
   branches/wsjtx/lib/s3avg.f90
   branches/wsjtx/lib/setup65.f90
   branches/wsjtx/lib/smo121.f90
   branches/wsjtx/lib/symspec65.f90
   branches/wsjtx/lib/twkfreq65.f90
   branches/wsjtx/lib/wrapkarn.c
Removed:
   branches/wsjtx/lib/decode24.f90
   branches/wsjtx/lib/jt9test.f90
   branches/wsjtx/lib/peakdf9.f90
   branches/wsjtx/lib/redsync.f90
Modified:
   branches/wsjtx/
   branches/wsjtx/commons.h
   branches/wsjtx/devsetup.cpp
   branches/wsjtx/devsetup.h
   branches/wsjtx/devsetup.ui
   branches/wsjtx/getfile.cpp
   branches/wsjtx/getfile.h
   branches/wsjtx/lib/Makefile.MinGW
   branches/wsjtx/lib/Makefile.linux
   branches/wsjtx/lib/decode9.f90
   branches/wsjtx/lib/decode_rs.c
   branches/wsjtx/lib/decoder.f90
   branches/wsjtx/lib/downsam9.f90
   branches/wsjtx/lib/fillcom.f90
   branches/wsjtx/lib/genjt9.f90
   branches/wsjtx/lib/init_rs.c
   branches/wsjtx/lib/jt9.f90
   branches/wsjtx/lib/jt9a.f90
   branches/wsjtx/lib/jt9b.f90
   branches/wsjtx/lib/jt9c.f90
   branches/wsjtx/lib/peakdt9.f90
   branches/wsjtx/lib/ptt_unix.c
   branches/wsjtx/lib/softsym.f90
   branches/wsjtx/lib/symspec.f90
   branches/wsjtx/lib/sync9.f90
   branches/wsjtx/lib/timer.f90
   branches/wsjtx/lib/twkfreq.f90
   branches/wsjtx/logqso.cpp
   branches/wsjtx/mainwindow.cpp
   branches/wsjtx/mainwindow.h
   branches/wsjtx/mainwindow.ui
   branches/wsjtx/plotter.cpp
   branches/wsjtx/plotter.h
   branches/wsjtx/psk_reporter.cpp
   branches/wsjtx/rigclass.cpp
   branches/wsjtx/rigclass.h
   branches/wsjtx/soundin.cpp
   branches/wsjtx/soundout.cpp
   branches/wsjtx/soundout.h
   branches/wsjtx/widegraph.cpp
   branches/wsjtx/widegraph.h
   branches/wsjtx/widegraph.ui
   branches/wsjtx/wsjtx.iss
   branches/wsjtx/wsjtx.pro
Log:
Merging code for v1.1 back into the main wsjtx branch.



Property changes on: branches/wsjtx
___________________________________________________________________
Added: svn:mergeinfo
   + /branches/wsjtx_k1jt_p1:3322-3461

Copied: branches/wsjtx/WSJT-X_Users_Guide_v1.1.docx (from rev 3461, branches/wsjtx_k1jt_p1/WSJT-X_Users_Guide_v1.1.docx)
===================================================================
(Binary files differ)

Modified: branches/wsjtx/commons.h
===================================================================
--- branches/wsjtx/commons.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/commons.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,7 +1,8 @@
 #ifndef COMMONS_H
 #define COMMONS_H
 
-#define NSMAX 1365
+//#define NSMAX 1365
+#define NSMAX 6827
 #define NTMAX 120
 
 extern &quot;C&quot; {
@@ -9,7 +10,6 @@
 extern struct {
   float ss[184*NSMAX];              //This is &quot;common/jt9com/...&quot; in fortran
   float savg[NSMAX];
-  float c0[2*NTMAX*1500];
   short int d2[NTMAX*12000];
   int nutc;                         //UTC as integer, HHMM
   int ndiskdat;                     //1 ==&gt; data read from *.wav file
@@ -25,8 +25,8 @@
   int nsave;
   int nagain;
   int ndepth;
-  int nrxlog;
-  int nfsample;
+  int ntxmode;
+  int nmode;
   char datetime[20];
 } jt9com_;
 

Modified: branches/wsjtx/devsetup.cpp
===================================================================
--- branches/wsjtx/devsetup.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/devsetup.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,10 +1,13 @@
 #include &quot;devsetup.h&quot;
 #include &lt;QDebug&gt;
+#include &lt;QSettings&gt;
 #include &lt;portaudio.h&gt;
 
 #define MAXDEVICES 100
 
 extern double dFreq[16];
+qint32  g2_iptt;
+qint32  g2_COMportOpen;
 
 //----------------------------------------------------------- DevSetup()
 DevSetup::DevSetup(QWidget *parent) :	QDialog(parent)
@@ -13,10 +16,10 @@
   m_restartSoundIn=false;
   m_restartSoundOut=false;
   m_firstCall=true;
-  m_iptt=0;
+  g2_iptt=0;
   m_test=0;
   m_bRigOpen=false;
-  m_COMportOpen=0;
+  g2_COMportOpen=0;
 }
 
 DevSetup::~DevSetup()
@@ -25,6 +28,13 @@
 
 void DevSetup::initDlg()
 {
+  QString m_appDir = QApplication::applicationDirPath();
+  QString inifile = m_appDir + &quot;/wsjtx.ini&quot;;
+  QSettings settings(inifile, QSettings::IniFormat);
+  settings.beginGroup(&quot;Common&quot;);
+  QString catPortDriver = settings.value(&quot;CATdriver&quot;,&quot;None&quot;).toString();
+  settings.endGroup();
+
   int k,id;
   int numDevices=Pa_GetDeviceCount();
 
@@ -40,6 +50,8 @@
     nchin=pdi-&gt;maxInputChannels;
     if(nchin&gt;0) {
       m_inDevList[k]=id;
+      if (id == m_paInDevice)
+        m_nDevIn = k;
       k++;
       sprintf((char*)(pa_device_name),&quot;%s&quot;,pdi-&gt;name);
       sprintf((char*)(pa_device_hostapi),&quot;%s&quot;,
@@ -77,6 +89,8 @@
     nchout=pdi-&gt;maxOutputChannels;
     if(nchout&gt;0) {
       m_outDevList[k]=id;
+      if (id == m_paOutDevice)
+        m_nDevOut = k;
       k++;
       sprintf((char*)(pa_device_name),&quot;%s&quot;,pdi-&gt;name);
       sprintf((char*)(pa_device_hostapi),&quot;%s&quot;,
@@ -115,6 +129,7 @@
           this, SLOT(p4Error()));
   p4.start(&quot;rigctl -l&quot;);
   p4.waitForFinished(1000);
+  ui.rigComboBox-&gt;addItem(&quot;  9998 Commander&quot;);
   ui.rigComboBox-&gt;addItem(&quot;  9999 Ham Radio Deluxe&quot;);
 
   QPalette pal(ui.myCallEntry-&gt;palette());
@@ -136,8 +151,9 @@
   ui.comboBoxSndOut-&gt;setCurrentIndex(m_nDevOut);
   ui.cbID73-&gt;setChecked(m_After73);
   ui.cbPSKReporter-&gt;setChecked(m_pskReporter);
-  m_paInDevice=m_inDevList[m_nDevIn];
-  m_paOutDevice=m_outDevList[m_nDevOut];
+  ui.cbSplit-&gt;setChecked(m_bSplit);
+  ui.cbXIT-&gt;setChecked(m_bXIT);
+  ui.cbXIT-&gt;setVisible(false);
 
   enableWidgets();
 
@@ -176,6 +192,7 @@
   ui.catPortComboBox-&gt;addItem(&quot;/dev/ttyUSB1&quot;);
   ui.catPortComboBox-&gt;addItem(&quot;/dev/ttyUSB2&quot;);
   ui.catPortComboBox-&gt;addItem(&quot;/dev/ttyUSB3&quot;);
+  ui.catPortComboBox-&gt;addItem(catPortDriver);
 
   ui.pttComboBox-&gt;addItem(&quot;/dev/ttyS0&quot;);
   ui.pttComboBox-&gt;addItem(&quot;/dev/ttyS1&quot;);
@@ -280,7 +297,7 @@
 
   if(m_bRigOpen) {
     rig-&gt;close();
-    if(m_rig!=9999) delete rig;
+    if(m_rig&lt;9900) delete rig;
     m_bRigOpen=false;
   }
 
@@ -414,18 +431,22 @@
   if(!m_catEnabled) return;
   if(m_bRigOpen) {
     rig-&gt;close();
-    if(m_rig!=9999) delete rig;
+    if(m_rig&lt;9900) delete rig;
     m_bRigOpen=false;
   }
 
   rig = new Rig();
 
-  if(m_rig != 9999) {
+  if(m_rig&lt;9900) {
     if (!rig-&gt;init(m_rig)) {
       msgBox(&quot;Rig init failure&quot;);
       return;
     }
-    rig-&gt;setConf(&quot;rig_pathname&quot;, m_catPort.toLatin1().data());
+    QString sCATport=m_catPort;
+#ifdef WIN32
+    sCATport=&quot;\\\\.\\&quot; + m_catPort;    //Allow COM ports above 9
+#endif
+    rig-&gt;setConf(&quot;rig_pathname&quot;, sCATport.toLatin1().data());
     char buf[80];
     sprintf(buf,&quot;%d&quot;,m_serialRate);
     rig-&gt;setConf(&quot;serial_speed&quot;,buf);
@@ -470,7 +491,9 @@
 {
   m_test=1-m_test;
   if(m_pttMethodIndex==1 or m_pttMethodIndex==2) {
-    ptt(m_pttPort,m_test,&amp;m_iptt,&amp;m_COMportOpen);
+//    qDebug() &lt;&lt; &quot;devsetup line 492:&quot; &lt;&lt; m_pttPort &lt;&lt; m_test &lt;&lt; &amp;g2_iptt &lt;&lt; &amp;g2_COMportOpen;
+    ptt(m_pttPort,m_test,&amp;g2_iptt,&amp;g2_COMportOpen);
+//    qDebug() &lt;&lt; &quot;devsetup line 494:&quot; &lt;&lt; m_pttPort &lt;&lt; m_test &lt;&lt; &amp;g2_iptt &lt;&lt; &amp;g2_COMportOpen;
   }
   if(m_pttMethodIndex==0 and !m_bRigOpen) {
     on_testCATButton_clicked();
@@ -522,8 +545,10 @@
   ui.testCATButton-&gt;setEnabled(m_catEnabled);
   ui.label_4-&gt;setEnabled(m_catEnabled);
   ui.label_47-&gt;setEnabled(m_catEnabled);
+  ui.cbSplit-&gt;setEnabled(m_catEnabled);
+  ui.cbXIT-&gt;setEnabled(m_catEnabled);
 
-  bool bSerial=m_catEnabled and (m_rig!=9999);
+  bool bSerial=m_catEnabled and (m_rig&lt;9900);
   ui.catPortComboBox-&gt;setEnabled(bSerial);
   ui.serialRateComboBox-&gt;setEnabled(bSerial);
   ui.dataBitsComboBox-&gt;setEnabled(bSerial);
@@ -541,9 +566,21 @@
   ui.pollSpinBox-&gt;setEnabled(m_catEnabled);
   bool b1=(m_pttMethodIndex==1 or m_pttMethodIndex==2);
   ui.pttComboBox-&gt;setEnabled(b1);
-  bool b2 = (m_catEnabled and m_pttMethodIndex==1 and m_rig!=9999) or
-            (m_catEnabled and m_pttMethodIndex==2 and m_rig!=9999);
-  bool b3 = (m_catEnabled and m_pttMethodIndex==0 and m_rig==9999);
+  bool b2 = (m_catEnabled and m_pttMethodIndex==1 and m_rig&lt;9900) or
+            (m_catEnabled and m_pttMethodIndex==2 and m_rig&lt;9900);
+  bool b3 = (m_catEnabled and m_pttMethodIndex==0 and m_rig&gt;=9900);
 //  ui.testPTTButton-&gt;setEnabled(b1 or b2);
-  ui.testPTTButton-&gt;setEnabled(b1 or b2 or b3);  //Include PTT via HRD
+  ui.testPTTButton-&gt;setEnabled(b1 or b2 or b3);  //Include PTT via HRD or Commander
 }
+
+void DevSetup::on_cbSplit_toggled(bool checked)
+{
+  m_bSplit=checked;
+  if(m_bSplit and m_bXIT) ui.cbXIT-&gt;setChecked(false);
+}
+
+void DevSetup::on_cbXIT_toggled(bool checked)
+{
+  m_bXIT=checked;
+  if(m_bSplit and m_bXIT) ui.cbSplit-&gt;setChecked(false);
+}

Modified: branches/wsjtx/devsetup.h
===================================================================
--- branches/wsjtx/devsetup.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/devsetup.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -35,9 +35,7 @@
   qint32  m_stopBits;
   qint32  m_stopBitsIndex;
   qint32  m_handshakeIndex;
-  qint32  m_iptt;
   qint32  m_test;
-  qint32  m_COMportOpen;
   qint32  m_poll;
   qint32  m_tmp;
 
@@ -50,6 +48,8 @@
   bool    m_bRigOpen;
   bool    m_bDTRoff;
   bool    m_pttData;
+  bool    m_bSplit;
+  bool    m_bXIT;
 
   QString m_myCall;
   QString m_myGrid;
@@ -93,6 +93,10 @@
   void on_pttComboBox_currentIndexChanged(int index);
   void on_pttMethodComboBox_currentIndexChanged(int index);
 
+  void on_cbSplit_toggled(bool checked);
+
+  void on_cbXIT_toggled(bool checked);
+
 private:
   Rig* rig;
   void msgBox(QString t);

Modified: branches/wsjtx/devsetup.ui
===================================================================
--- branches/wsjtx/devsetup.ui	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/devsetup.ui	2013-07-08 13:17:22 UTC (rev 3462)
@@ -6,7 +6,7 @@
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
-    &lt;width&gt;548&lt;/width&gt;
+    &lt;width&gt;569&lt;/width&gt;
     &lt;height&gt;493&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
@@ -584,6 +584,9 @@
            &lt;property name=&quot;orientation&quot;&gt;
             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;sizeType&quot;&gt;
+            &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+           &lt;/property&gt;
            &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
             &lt;size&gt;
              &lt;width&gt;40&lt;/width&gt;
@@ -593,6 +596,29 @@
           &lt;/spacer&gt;
          &lt;/item&gt;
          &lt;item&gt;
+          &lt;widget class=&quot;QCheckBox&quot; name=&quot;cbDTRoff&quot;&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;RTS/DTR OFF&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/widget&gt;
+         &lt;/item&gt;
+         &lt;item&gt;
+          &lt;spacer name=&quot;horizontalSpacer_14&quot;&gt;
+           &lt;property name=&quot;orientation&quot;&gt;
+            &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;sizeType&quot;&gt;
+            &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+            &lt;size&gt;
+             &lt;width&gt;40&lt;/width&gt;
+             &lt;height&gt;20&lt;/height&gt;
+            &lt;/size&gt;
+           &lt;/property&gt;
+          &lt;/spacer&gt;
+         &lt;/item&gt;
+         &lt;item&gt;
           &lt;widget class=&quot;QLabel&quot; name=&quot;label_24&quot;&gt;
            &lt;property name=&quot;sizePolicy&quot;&gt;
             &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Preferred&quot;&gt;
@@ -741,6 +767,9 @@
            &lt;property name=&quot;orientation&quot;&gt;
             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;sizeType&quot;&gt;
+            &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+           &lt;/property&gt;
            &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
             &lt;size&gt;
              &lt;width&gt;40&lt;/width&gt;
@@ -750,13 +779,29 @@
           &lt;/spacer&gt;
          &lt;/item&gt;
          &lt;item&gt;
-          &lt;widget class=&quot;QCheckBox&quot; name=&quot;cbDTRoff&quot;&gt;
+          &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbData&quot;&gt;
+           &lt;property name=&quot;toolTip&quot;&gt;
+            &lt;string&gt;Use special Tx command for &quot;data&quot;&lt;/string&gt;
+           &lt;/property&gt;
            &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;RTS/DTR OFF&lt;/string&gt;
+            &lt;string&gt;Data&lt;/string&gt;
            &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item&gt;
+          &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbMic&quot;&gt;
+           &lt;property name=&quot;toolTip&quot;&gt;
+            &lt;string&gt;Use normal Tx command&lt;/string&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;Mic&lt;/string&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;checked&quot;&gt;
+            &lt;bool&gt;true&lt;/bool&gt;
+           &lt;/property&gt;
+          &lt;/widget&gt;
+         &lt;/item&gt;
+         &lt;item&gt;
           &lt;spacer name=&quot;horizontalSpacer_5&quot;&gt;
            &lt;property name=&quot;orientation&quot;&gt;
             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
@@ -899,7 +944,7 @@
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item&gt;
-          &lt;spacer name=&quot;horizontalSpacer_14&quot;&gt;
+          &lt;spacer name=&quot;horizontalSpacer_16&quot;&gt;
            &lt;property name=&quot;orientation&quot;&gt;
             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
            &lt;/property&gt;
@@ -915,29 +960,13 @@
           &lt;/spacer&gt;
          &lt;/item&gt;
          &lt;item&gt;
-          &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbData&quot;&gt;
-           &lt;property name=&quot;toolTip&quot;&gt;
-            &lt;string&gt;Use special Tx command for &quot;data&quot;&lt;/string&gt;
-           &lt;/property&gt;
+          &lt;widget class=&quot;QCheckBox&quot; name=&quot;cbSplit&quot;&gt;
            &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;Data&lt;/string&gt;
+            &lt;string&gt;Split Tx&lt;/string&gt;
            &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item&gt;
-          &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbMic&quot;&gt;
-           &lt;property name=&quot;toolTip&quot;&gt;
-            &lt;string&gt;Use normal Tx command&lt;/string&gt;
-           &lt;/property&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;Mic&lt;/string&gt;
-           &lt;/property&gt;
-           &lt;property name=&quot;checked&quot;&gt;
-            &lt;bool&gt;true&lt;/bool&gt;
-           &lt;/property&gt;
-          &lt;/widget&gt;
-         &lt;/item&gt;
-         &lt;item&gt;
           &lt;spacer name=&quot;horizontalSpacer_6&quot;&gt;
            &lt;property name=&quot;orientation&quot;&gt;
             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
@@ -1011,6 +1040,29 @@
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item&gt;
+          &lt;spacer name=&quot;horizontalSpacer_17&quot;&gt;
+           &lt;property name=&quot;orientation&quot;&gt;
+            &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;sizeType&quot;&gt;
+            &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+            &lt;size&gt;
+             &lt;width&gt;40&lt;/width&gt;
+             &lt;height&gt;20&lt;/height&gt;
+            &lt;/size&gt;
+           &lt;/property&gt;
+          &lt;/spacer&gt;
+         &lt;/item&gt;
+         &lt;item&gt;
+          &lt;widget class=&quot;QCheckBox&quot; name=&quot;cbXIT&quot;&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;XIT&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/widget&gt;
+         &lt;/item&gt;
+         &lt;item&gt;
           &lt;spacer name=&quot;horizontalSpacer_12&quot;&gt;
            &lt;property name=&quot;orientation&quot;&gt;
             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
@@ -1313,6 +1365,9 @@
              &lt;height&gt;16777215&lt;/height&gt;
             &lt;/size&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;5W DPL 73 GL&lt;/string&gt;
+           &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item row=&quot;2&quot; column=&quot;1&quot;&gt;
@@ -1360,6 +1415,9 @@
              &lt;height&gt;16777215&lt;/height&gt;
             &lt;/size&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;20W DPL 73 GL&lt;/string&gt;
+           &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item row=&quot;4&quot; column=&quot;1&quot;&gt;
@@ -1554,6 +1612,9 @@
              &lt;height&gt;16777215&lt;/height&gt;
             &lt;/size&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string/&gt;
+           &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item row=&quot;3&quot; column=&quot;2&quot;&gt;
@@ -1576,6 +1637,9 @@
              &lt;height&gt;16777215&lt;/height&gt;
             &lt;/size&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;TNX 73 GL&lt;/string&gt;
+           &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item row=&quot;1&quot; column=&quot;2&quot;&gt;
@@ -1598,6 +1662,9 @@
              &lt;height&gt;16777215&lt;/height&gt;
             &lt;/size&gt;
            &lt;/property&gt;
+           &lt;property name=&quot;text&quot;&gt;
+            &lt;string&gt;10W DPL 73 GL&lt;/string&gt;
+           &lt;/property&gt;
           &lt;/widget&gt;
          &lt;/item&gt;
          &lt;item row=&quot;8&quot; column=&quot;2&quot;&gt;
@@ -2457,11 +2524,8 @@
   &lt;tabstop&gt;catPortComboBox&lt;/tabstop&gt;
   &lt;tabstop&gt;dataBitsComboBox&lt;/tabstop&gt;
   &lt;tabstop&gt;serialRateComboBox&lt;/tabstop&gt;
-  &lt;tabstop&gt;cbDTRoff&lt;/tabstop&gt;
   &lt;tabstop&gt;stopBitsComboBox&lt;/tabstop&gt;
   &lt;tabstop&gt;handshakeComboBox&lt;/tabstop&gt;
-  &lt;tabstop&gt;rbData&lt;/tabstop&gt;
-  &lt;tabstop&gt;rbMic&lt;/tabstop&gt;
   &lt;tabstop&gt;testCATButton&lt;/tabstop&gt;
   &lt;tabstop&gt;testPTTButton&lt;/tabstop&gt;
   &lt;tabstop&gt;pollSpinBox&lt;/tabstop&gt;

Modified: branches/wsjtx/getfile.cpp
===================================================================
--- branches/wsjtx/getfile.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/getfile.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,11 +1,19 @@
 #include &quot;getfile.h&quot;
 #include &lt;QDir&gt;
-#include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;math.h&gt;
 
 #ifdef WIN32
 #include &lt;windows.h&gt;
+#else
+#include &lt;sys/types.h&gt;
+#include &lt;sys/stat.h&gt;
+#include &lt;termios.h&gt;
+#include &lt;fcntl.h&gt;
+#include &lt;sys/ioctl.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;unistd.h&gt;
+#include &lt;err.h&gt;
 #endif
 
 void getfile(QString fname, int ntrperiod)
@@ -123,6 +131,7 @@
 
 int ptt(int nport, int ntx, int* iptt, int* nopen)
 {
+//  qDebug() &lt;&lt; &quot;getfile ptt(), line 129:&quot; &lt;&lt; nport &lt;&lt; ntx &lt;&lt; *iptt &lt;&lt; *nopen;
 #ifdef WIN32
   static HANDLE hFile;
   char s[10];
@@ -130,7 +139,7 @@
 
   if(nport==0) {
     *iptt=ntx;
-    return(0);
+    return 0;
   }
 
   if(ntx &amp;&amp; (!(*nopen))) {
@@ -160,7 +169,35 @@
     *nopen=0;
   }
   if((i3+i4+i5+i6+i9+i00)==-999) return 1;    //Silence compiler warning
+//  qDebug() &lt;&lt; &quot;getfile ptt(), line 167:&quot; &lt;&lt; nport &lt;&lt; ntx &lt;&lt; *iptt &lt;&lt; *nopen;
   return 0;
+#else
+//  qDebug() &lt;&lt; &quot;getfile ptt(), line 170:&quot; &lt;&lt; nport &lt;&lt; ntx &lt;&lt; *iptt &lt;&lt; *nopen;
+//  ptt_(nport,ntx, iptt, nopen);
+
+//  int control=TIOCM_RTS | TIOCM_DTR;
+  int control = TIOCM_RTS;
+  static int fd;
+
+  if(*nopen==0) {
+    fd=open(&quot;/dev/ttyUSB0&quot;,O_RDWR | O_NONBLOCK);
+    if(fd&lt;0) {
+      return -1;
+    }
+    *nopen=1;
+  }
+
+  if(ntx) {
+    ioctl(fd, TIOCMBIS, &amp;control);
+    *iptt=1;
+    *nopen=1;
+  } else {
+    ioctl(fd, TIOCMBIC, &amp;control);
+    close(fd);
+    *iptt=0;
+    *nopen=0;
+  }
+  return 0;
 #endif
   if((nport+ntx+(*iptt)==-99999)) *nopen=0;   //Silence compiler warning
   return 0;

Modified: branches/wsjtx/getfile.h
===================================================================
--- branches/wsjtx/getfile.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/getfile.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -10,5 +10,4 @@
 //int ptt(int* nport, int* ntx, int* iptt);
 int ptt(int nport, int ntx, int* iptt, int* nopen);
 
-
 #endif // GETFILE_H

Modified: branches/wsjtx/lib/Makefile.MinGW
===================================================================
--- branches/wsjtx/lib/Makefile.MinGW	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/Makefile.MinGW	2013-07-08 13:17:22 UTC (rev 3462)
@@ -20,7 +20,7 @@
 %.o: %.F90
 	${FC} ${FFLAGS} -c $&lt;
 
-all:    libjt9.a jt9sim.exe jt9.exe jt9code.exe test9.exe
+all:    libjt9.a jt9sim.exe jt9.exe jt9code.exe jt65.exe
 
 OBJS1 = pctile.o graycode.o sort.o ssort.o \
 	unpackmsg.o igray.o unpackcall.o unpackgrid.o \
@@ -30,10 +30,15 @@
 	symspec.o analytic.o db.o genjt9.o \
 	packbits.o unpackbits.o encode232.o interleave9.o \
 	entail.o fano232.o gran.o sync9.o decode9.o \
-	fil3.o redsync.o decoder.o grid2n.o n2grid.o timer.o \
+	fil3.o decoder.o grid2n.o n2grid.o timer.o \
 	softsym.o getlags.o afc9.o fchisq.o twkfreq.o downsam9.o \
 	peakdt9.o symspec2.o stdmsg.o morse.o azdist.o geodist.o \
-	fillcom.o chkss2.o zplot9.o
+	fillcom.o chkss2.o zplot9.o flat2.o \
+	jt65a.o symspec65.o flat65.o ccf65.o decode65a.o \
+	filbig.o fil6521.o afc65b.o decode65b.o setup65.o \
+	extract.o fchisq65.o demod64a.o chkhist.o interleave63.o ccf2.o \
+	move.o indexx.o graycode65.o twkfreq65.o smo121.o \
+	wrapkarn.o init_rs.o encode_rs.o decode_rs.o gen65.o
 
 libjt9.a: $(OBJS1)
 	ar cr libjt9.a $(OBJS1) 
@@ -54,16 +59,10 @@
 jt9code.exe: $(OBJS4) libjt9.a
 	$(FC) -o jt9code.exe $(OBJS4) libjt9.a
 
-OBJS5 = test9.o 
-test9.exe: $(OBJS5) libjt9.a 
-	$(FC) -o test9.exe $(OBJS5) libjt9.a ../libfftw3f_win.a
+OBJS5 = jt65.o 
+jt65.exe: $(OBJS5) libjt9.a 
+	$(FC) -o jt65.exe $(OBJS5) libjt9.a ../libfftw3f_win.a
 
-OBJS6 = wsjt24d.o wsjt24.o sync24.o decode24.o ps24.o flat1.o \
-	xcor24.o slope.o peakup.o interleave24.o getmet24.o smo.o \
-	deep24.o encode4.o chkmsg.o avemsg4.o extract4.o
-wsjt24d.exe: $(OBJS6) libjt9.a 
-	$(FC) -o wsjt24d.exe $(OBJS6) libjt9.a ../libfftw3f_win.a
-
 INCPATH = -I'c:/QtSDK/Desktop/Qt/4.7.4/mingw/include/QtCore' \
 	 -I'c:/QtSDK/Desktop/Qt/4.7.4/mingw/include' \
 	 -I'c:/QtSDK/Desktop/Qt/4.7.4/mingw/include/ActiveQt' \
@@ -75,9 +74,6 @@
 spec9.o: spec9.f90 jt9sync.f90
 	$(FC) $(FFLAGS) -c spec9.f90
 
-peakdf9.o: peakdf9.f90 jt9sync.f90
-	$(FC) $(FFLAGS) -c peakdf9.f90
-
 peakdt9.o: peakdt9.f90 jt9sync.f90
 	$(FC) $(FFLAGS) -c peakdt9.f90
 
@@ -105,7 +101,17 @@
 tstrig.o: tstrig.c
 	$(CC) -c -Wall -I..\..\..\hamlib-1.2.15.3\include tstrig.c
 
+init_rs.o: init_rs.c
+	$(CC) -c -DBIGSYM=1 -o init_rs.o init_rs.c
+
+encode_rs.o: encode_rs.c
+	$(CC) -c -DBIGSYM=1 -o encode_rs.o encode_rs.c
+
+decode_rs.o: decode_rs.c
+	$(CC) -c -DBIGSYM=1 -o decode_rs.o decode_rs.c
+
+
 .PHONY : clean
 
 clean:
-	rm -f *.o libjt9.a wsjtx.exe jt9sim.exe jt9.exe jt9test.exe
+	rm -f *.o libjt9.a wsjtx.exe jt9sim.exe jt9.exe jt65.exe

Modified: branches/wsjtx/lib/Makefile.linux
===================================================================
--- branches/wsjtx/lib/Makefile.linux	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/Makefile.linux	2013-07-08 13:17:22 UTC (rev 3462)
@@ -23,14 +23,19 @@
 	grid2k.o unpacktext.o getpfx2.o packmsg.o deg2grid.o \
 	packtext.o getpfx1.o packcall.o k2grid.o packgrid.o \
 	nchar.o four2a.o grid2deg.o pfxdump.o f77_wisdom.o \
-	symspec.o analytic.o db.o genjt9.o ptt_unix.o \
+	symspec.o analytic.o db.o genjt9.o \
 	packbits.o unpackbits.o encode232.o interleave9.o \
 	entail.o fano232.o gran.o sync9.o decode9.o \
-	fil3.o redsync.o decoder.o grid2n.o n2grid.o timer.o \
+	fil3.o decoder.o grid2n.o n2grid.o timer.o \
 	softsym.o peakdt9.o getlags.o afc9.o fchisq.o \
 	twkfreq.o downsam9.o symspec2.o ipcomm.o sleep_msec.o \
 	stdmsg.o sec_midn.o cutil.o azdist.o geodist.o morse.o \
-	fillcom.o chkss2.o 
+	fillcom.o chkss2.o zplot9.o flat2.o \
+	jt65a.o symspec65.o flat65.o ccf65.o decode65a.o \
+	filbig.o fil6521.o afc65b.o decode65b.o setup65.o \
+	extract.o fchisq65.o demod64a.o chkhist.o interleave63.o ccf2.o \
+	move.o indexx.o graycode65.o twkfreq65.o smo121.o \
+	wrapkarn.o init_rs.o encode_rs.o decode_rs.o gen65.o
 
 libjt9.a: $(OBJS1)
 	ar cr libjt9.a $(OBJS1) 
@@ -38,7 +43,7 @@
 
 OBJS2 = jt9.o jt9a.o jt9b.o jt9c.o
 
-jt9: 	$(OBJS2) libjt9.a
+jt9: 	$(OBJS2) libjt9.a 
 	g++ -o jt9 $(OBJS2) libjt9.a -lfftw3f -lgfortran -lQtCore
 	cp jt9 ../../wsjtx_install
 
@@ -84,6 +89,15 @@
 sec_midn.o: sec_midn.f90
 	$(FC) -c -fno-second-underscore sec_midn.f90
 
+init_rs.o: init_rs.c
+	$(CC) -c -DBIGSYM=1 -o init_rs.o init_rs.c
+
+encode_rs.o: encode_rs.c
+	$(CC) -c -DBIGSYM=1 -o encode_rs.o encode_rs.c
+
+decode_rs.o: decode_rs.c
+	$(CC) -c -DBIGSYM=1 -o decode_rs.o decode_rs.c
+
 .PHONY : clean
 
 clean:

Copied: branches/wsjtx/lib/afc65b.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/afc65b.f90)
===================================================================
--- branches/wsjtx/lib/afc65b.f90	                        (rev 0)
+++ branches/wsjtx/lib/afc65b.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,59 @@
+subroutine afc65b(cx,npts,fsample,nflip,a,ccfbest,dtbest)
+
+! Find delta f, f1, f2 ==&gt; a(1:3)
+
+  complex cx(npts)
+  real a(5),deltaa(5)
+
+  a(1)=0.
+  a(2)=0.
+  a(3)=0.
+  a(4)=0.
+  deltaa(1)=2.0
+  deltaa(2)=2.0
+  deltaa(3)=2.0
+  deltaa(4)=0.05
+  nterms=3                                  !Maybe 2 is enough?
+
+!  Start the iteration
+  chisqr=0.
+  chisqr0=1.e6
+  do iter=1,3                               !One iteration is enough?
+     do j=1,nterms
+        chisq1=fchisq65(cx,npts,fsample,nflip,a,ccfmax,dtmax)
+        fn=0.
+        delta=deltaa(j)
+10      a(j)=a(j)+delta
+        chisq2=fchisq65(cx,npts,fsample,nflip,a,ccfmax,dtmax)
+        if(chisq2.eq.chisq1) go to 10
+        if(chisq2.gt.chisq1) then
+           delta=-delta                      !Reverse direction
+           a(j)=a(j)+delta
+           tmp=chisq1
+           chisq1=chisq2
+           chisq2=tmp
+        endif
+20      fn=fn+1.0
+        a(j)=a(j)+delta
+        chisq3=fchisq65(cx,npts,fsample,nflip,a,ccfmax,dtmax)
+        if(chisq3.lt.chisq2) then
+           chisq1=chisq2
+           chisq2=chisq3
+           go to 20
+        endif
+
+! Find minimum of parabola defined by last three points
+        delta=delta*(1./(1.+(chisq1-chisq2)/(chisq3-chisq2))+0.5)
+        a(j)=a(j)-delta
+        deltaa(j)=deltaa(j)*fn/3.
+     enddo
+     chisqr=fchisq65(cx,npts,fsample,nflip,a,ccfmax,dtmax)
+     if(chisqr/chisqr0.gt.0.9999) go to 30
+     chisqr0=chisqr
+  enddo
+
+30 ccfbest=ccfmax * (1378.125/fsample)**2
+  dtbest=dtmax
+
+  return
+end subroutine afc65b

Copied: branches/wsjtx/lib/ccf2.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/ccf2.f90)
===================================================================
--- branches/wsjtx/lib/ccf2.f90	                        (rev 0)
+++ branches/wsjtx/lib/ccf2.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,45 @@
+subroutine ccf2(ss,nz,nflip,ccfbest,lagpk)
+
+  parameter (LAGMAX=60)
+!  parameter (LAGMAX=200)
+  real ss(nz)
+  real ccf(-LAGMAX:LAGMAX)
+  integer npr(126)
+
+! The JT65 pseudo-random sync pattern:
+  data npr/                                    &amp;
+      1,0,0,1,1,0,0,0,1,1,1,1,1,1,0,1,0,1,0,0, &amp;
+      0,1,0,1,1,0,0,1,0,0,0,1,1,1,0,0,1,1,1,1, &amp;
+      0,1,1,0,1,1,1,1,0,0,0,1,1,0,1,0,1,0,1,1, &amp;
+      0,0,1,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,1, &amp;
+      1,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,1, &amp;
+      0,1,0,1,0,0,1,1,0,0,1,0,0,1,0,0,0,0,1,1, &amp;
+      1,1,1,1,1,1/
+  save
+
+  ccfbest=0.
+  lag1=-LAGMAX
+  lag2=LAGMAX
+  do lag=lag1,lag2
+     s0=0.
+     s1=0.
+     do i=1,126
+        j=2*(8*i + 43) + lag
+        if(j.ge.1 .and. j.le.nz-8) then
+           x=ss(j)+ss(j+8)             !Add two half-symbol contributions
+           if(npr(i).eq.0) then
+              s0=s0 + x
+           else
+              s1=s1 + x
+           endif
+        endif
+     enddo
+     ccf(lag)=nflip*(s1-s0)
+     if(ccf(lag).gt.ccfbest) then
+        ccfbest=ccf(lag)
+        lagpk=lag
+     endif
+  enddo
+
+  return
+end subroutine ccf2

Copied: branches/wsjtx/lib/ccf65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/ccf65.f90)
===================================================================
--- branches/wsjtx/lib/ccf65.f90	                        (rev 0)
+++ branches/wsjtx/lib/ccf65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,117 @@
+subroutine ccf65(ss,nhsym,ssmax,sync1,dt1,flipk,syncshort,snr2,dt2)
+
+  parameter (NFFT=512,NH=NFFT/2)
+  real ss(322)                     !Input: half-symbol normalized powers
+  real s(NFFT)                     !CCF = ss*pr
+  complex cs(0:NH)                 !Complex FT of s
+  real s2(NFFT)                    !CCF = ss*pr2
+  complex cs2(0:NH)                !Complex FT of s2
+  real pr(NFFT)                    !JT65 pseudo-random sync pattern
+  complex cpr(0:NH)                !Complex FT of pr
+  real pr2(NFFT)                   !JT65 shorthand pattern
+  complex cpr2(0:NH)               !Complex FT of pr2
+  real tmp1(322)
+  real ccf(-11:54)
+  logical first
+  integer npr(126)
+  data first/.true./
+  equivalence (s,cs),(pr,cpr),(s2,cs2),(pr2,cpr2)
+  save
+
+! The JT65 pseudo-random sync pattern:
+  data npr/                                        &amp;
+      1,0,0,1,1,0,0,0,1,1,1,1,1,1,0,1,0,1,0,0,     &amp;
+      0,1,0,1,1,0,0,1,0,0,0,1,1,1,0,0,1,1,1,1,     &amp;
+      0,1,1,0,1,1,1,1,0,0,0,1,1,0,1,0,1,0,1,1,     &amp;
+      0,0,1,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,1,     &amp;
+      1,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,1,     &amp;
+      0,1,0,1,0,0,1,1,0,0,1,0,0,1,0,0,0,0,1,1,     &amp;
+      1,1,1,1,1,1/
+
+  if(first) then
+! Initialize pr, pr2; compute cpr, cpr2.
+     fac=1.0/NFFT
+     do i=1,NFFT
+        pr(i)=0.
+        pr2(i)=0.
+        k=2*mod((i-1)/8,2)-1
+        if(i.le.NH) pr2(i)=fac*k
+     enddo
+     do i=1,126
+        j=2*i
+        pr(j)=fac*(2*npr(i)-1)
+! Not sure why, but it works significantly better without the following line:
+!        pr(j-1)=pr(j)
+     enddo
+     call four2a(cpr,NFFT,1,-1,0)
+     call four2a(cpr2,NFFT,1,-1,0)
+     first=.false.
+  endif
+
+! Look for JT65 sync pattern and shorthand square-wave pattern.
+  ccfbest=0.
+  ccfbest2=0.
+  do i=1,nhsym-1
+     s(i)=min(ssmax,ss(i)+ss(i+1))
+!     s(i)=ss(i)+ss(i+1)
+  enddo
+
+  call pctile(s,nhsym-1,50,base)
+  s(1:nhsym-1)=s(1:nhsym-1)-base
+  s(nhsym:NFFT)=0.
+  call four2a(cs,NFFT,1,-1,0)               !Real-to-complex FFT
+  do i=0,NH
+!     cs2(i)=cs(i)*conjg(cpr2(i))            !Mult by complex FFT of pr2
+     cs(i)=cs(i)*conjg(cpr(i))              !Mult by complex FFT of pr
+  enddo
+  call four2a(cs,NFFT,1,1,-1)               !Complex-to-real inv-FFT
+!  call four2a(cs2,NFFT,1,1,-1)              !Complex-to-real inv-FFT
+
+  do lag=-11,54                             !Check for best JT65 sync
+     j=lag
+     if(j.lt.1) j=j+NFFT
+     ccf(lag)=s(j)
+!     if(abs(ccf(lag)).gt.ccfbest) then
+     if(ccf(lag).gt.ccfbest) then           !No inverted sync for use at HF
+!        ccfbest=abs(ccf(lag))
+        ccfbest=ccf(lag)
+        lagpk=lag
+        flipk=1.0
+!        if(ccf(lag).lt.0.0) flipk=-1.0
+     endif
+  enddo
+
+!  do lag=-11,54                             !Check for best shorthand
+!     ccf2=s2(lag+28)
+!     if(ccf2.gt.ccfbest2) then
+!        ccfbest2=ccf2
+!        lagpk2=lag
+!     endif
+!  enddo
+
+! Find rms level on baseline of &quot;ccfblue&quot;, for normalization.
+  sum=0.
+  do lag=-11,54
+     if(abs(lag-lagpk).gt.1) sum=sum + ccf(lag)
+  enddo
+  base=sum/50.0
+  sq=0.
+  do lag=-11,54
+     if(abs(lag-lagpk).gt.1) sq=sq + (ccf(lag)-base)**2
+  enddo
+  rms=sqrt(sq/49.0)
+  sync1=ccfbest/rms - 4.0
+  dt1=lagpk*(2048.0/11025.0) - 2.5
+
+! Find base level for normalizing snr2.
+  do i=1,nhsym
+     tmp1(i)=ss(i)
+  enddo
+  call pctile(tmp1,nhsym,40,base)
+  snr2=0.398107*ccfbest2/base                !### empirical
+  syncshort=0.5*ccfbest2/rms - 4.0           !### better normalizer than rms?
+!  dt2=(2.5 + lagpk2*(2048.0/11025.0))
+  dt2=0.
+
+  return
+end subroutine ccf65

Copied: branches/wsjtx/lib/char.h (from rev 3461, branches/wsjtx_k1jt_p1/lib/char.h)
===================================================================
--- branches/wsjtx/lib/char.h	                        (rev 0)
+++ branches/wsjtx/lib/char.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,57 @@
+/* Include file to configure the RS codec for character symbols
+ *
+ * Copyright 2002, Phil Karn, KA9Q
+ * May be used under the terms of the GNU General Public License (GPL)
+ */
+#define DTYPE unsigned char
+
+/* Reed-Solomon codec control block */
+struct rs {
+  int mm;              /* Bits per symbol */
+  int nn;              /* Symbols per block (= (1&lt;&lt;mm)-1) */
+  DTYPE *alpha_to;     /* log lookup table */
+  DTYPE *index_of;     /* Antilog lookup table */
+  DTYPE *genpoly;      /* Generator polynomial */
+  int nroots;     /* Number of generator roots = number of parity symbols */
+  int fcr;        /* First consecutive root, index form */
+  int prim;       /* Primitive element, index form */
+  int iprim;      /* prim-th root of 1, index form */
+  int pad;        /* Padding bytes in shortened block */
+};
+
+static inline int modnn(struct rs *rs,int x){
+  while (x &gt;= rs-&gt;nn) {
+    x -= rs-&gt;nn;
+    x = (x &gt;&gt; rs-&gt;mm) + (x &amp; rs-&gt;nn);
+  }
+  return x;
+}
+#define MODNN(x) modnn(rs,x)
+
+#define MM (rs-&gt;mm)
+#define NN (rs-&gt;nn)
+#define ALPHA_TO (rs-&gt;alpha_to) 
+#define INDEX_OF (rs-&gt;index_of)
+#define GENPOLY (rs-&gt;genpoly)
+#define NROOTS (rs-&gt;nroots)
+#define FCR (rs-&gt;fcr)
+#define PRIM (rs-&gt;prim)
+#define IPRIM (rs-&gt;iprim)
+#define PAD (rs-&gt;pad)
+#define A0 (NN)
+
+#define ENCODE_RS encode_rs_char
+#define DECODE_RS decode_rs_char
+#define INIT_RS init_rs_char
+#define FREE_RS free_rs_char
+
+void ENCODE_RS(void *p,DTYPE *data,DTYPE *parity);
+int DECODE_RS(void *p,DTYPE *data,int *eras_pos,int no_eras);
+void *INIT_RS(int symsize,int gfpoly,int fcr,
+		    int prim,int nroots,int pad);
+void FREE_RS(void *p);
+
+
+
+
+

Copied: branches/wsjtx/lib/chkhist.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/chkhist.f90)
===================================================================
--- branches/wsjtx/lib/chkhist.f90	                        (rev 0)
+++ branches/wsjtx/lib/chkhist.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,21 @@
+subroutine chkhist(mrsym,nmax,ipk)
+
+  integer mrsym(63)
+  integer hist(0:63)
+
+  hist=0
+  do j=1,63
+     i=mrsym(j)
+     hist(i)=hist(i)+1
+  enddo
+
+  nmax=0
+  do i=0,63
+     if(hist(i).gt.nmax) then
+        nmax=hist(i)
+        ipk=i+1
+     endif
+  enddo
+
+  return
+end subroutine chkhist

Copied: branches/wsjtx/lib/constants.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/constants.f90)
===================================================================
--- branches/wsjtx/lib/constants.f90	                        (rev 0)
+++ branches/wsjtx/lib/constants.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,5 @@
+  parameter (NTMAX=120)
+  parameter (NMAX=NTMAX*12000)        !Total sample intervals per 30 minutes
+  parameter (NDMAX=NTMAX*1500)        !Sample intervals at 1500 Hz rate
+  parameter (NSMAX=6827)              !Max length of saved spectra
+  parameter (MAXFFT3=16384)

Deleted: branches/wsjtx/lib/decode24.f90
===================================================================
--- branches/wsjtx/lib/decode24.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/decode24.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,176 +0,0 @@
-subroutine decode24(dat,npts,dtx,dfx,flip,mode,mode4,decoded,ncount,   &amp;
-     deepbest,qbest,submode)
-
-! Decodes JT65 data, assuming that DT and DF have already been determined.
-
-  parameter (MAXAVE=120)
-  real dat(npts)                        !Raw data
-  character decoded*22,deepmsg*22,deepbest*22
-  character*12 mycall,hiscall
-  character*6 hisgrid
-  character*72 c72
-  character submode*1
-  real*8 dt,df,phi,f0,dphi,twopi,phi1,dphi1
-  complex*16 cz,cz1,c0,c1
-  integer*1 symbol(207)
-  real*4 rsymbol(207,7)
-  real*4 sym(207)
-  integer nsum(7)
-  integer*1 data1(13)                   !Decoded data (8-bit bytes)
-  integer   data4a(9)                   !Decoded data (8-bit bytes)
-  integer   data4(12)                   !Decoded data (6-bit bytes)
-  integer amp,delta
-  integer mettab(0:255,0:1)             !Metric table
-  integer nch(7)
-  integer npr2(207)
-  common/ave/ppsave(207,7,MAXAVE),nflag(MAXAVE),nsave,iseg(MAXAVE)
-  data mode0/-999/
-  data nsum/7*0/,rsymbol/1449*0.0/
-  data npr2/                                                         &amp;
-       0,0,0,0,1,1,0,0,0,1,1,0,1,1,0,0,1,0,1,0,0,0,0,0,0,0,1,1,0,0,  &amp;
-       0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,1,0,1,0,0,0,  &amp;
-       1,0,0,1,0,0,1,1,1,1,1,0,0,0,1,0,1,0,0,0,1,1,1,1,0,1,1,0,0,1,  &amp;
-       0,0,0,1,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1,0,1,0,1,  &amp;
-       0,1,1,1,0,0,1,0,1,1,0,1,1,1,1,0,0,0,0,1,1,0,1,1,0,0,0,1,1,1,  &amp;
-       0,1,1,1,0,1,1,1,0,0,1,0,0,0,1,1,0,1,1,0,0,1,0,0,0,1,1,1,1,1,  &amp;
-       1,0,0,1,1,0,0,0,0,1,1,0,0,0,1,0,1,1,0,1,1,1,1,0,1,0,1/
-
-  data nch/1,2,4,9,18,36,72/
-  save mettab,mode0,nsum,rsymbol
-
-  if(mode.ne.mode0) call getmet24(mode,mettab)
-  mode0=mode
-  twopi=8*atan(1.d0)
-  dt=2.d0/11025             !Sample interval (2x downsampled data)
-  df=11025.d0/2520.d0
-  nsym=206
-  amp=15
-  istart=nint(dtx/dt)              !Start index for synced FFTs
-  if(istart.lt.0) istart=0
-  nchips=0
-  ich=0
-  qbest=0.
-  deepmsg='                      '
-  ichbest=-1
-
-! Should amp be adjusted according to signal strength?
-
-! Compute soft symbols using differential BPSK demodulation
-  c0=0.                                !### C0=amp ???
-  k=istart
-  phi=0.d0
-  phi1=0.d0
-
-40 ich=ich+1
-  nchips=nch(ich)
-  nspchip=1260/nchips
-  k=istart
-  phi=0.d0
-  phi1=0.d0
-  fac2=1.e-8 * sqrt(float(mode4))
-  do j=1,nsym+1
-     if(flip.gt.0.0) then
-        f0=1270.46 + dfx + (npr2(j)-1.5)*mode4*df
-        f1=1270.46 + dfx + (2+npr2(j)-1.5)*mode4*df
-     else
-        f0=1270.46 + dfx + (1-npr2(j)-1.5)*mode4*df
-        f1=1270.46 + dfx + (3-npr2(j)-1.5)*mode4*df
-     endif
-     dphi=twopi*dt*f0
-     dphi1=twopi*dt*f1
-     sq0=0.
-     sq1=0.
-     do nc=1,nchips
-        phi=0.d0
-        phi1=0.d0
-        c0=0.
-        c1=0.
-        do i=1,nspchip
-           k=k+1
-           phi=phi+dphi
-           phi1=phi1+dphi1
-           cz=dcmplx(cos(phi),-sin(phi))
-           cz1=dcmplx(cos(phi1),-sin(phi1))
-           if(k.le.npts) then
-              c0=c0 + dat(k)*cz
-              c1=c1 + dat(k)*cz1
-           endif
-        enddo
-        sq0=sq0 + real(c0)**2 + aimag(c0)**2
-        sq1=sq1 + real(c1)**2 + aimag(c1)**2
-     enddo
-     sq0=fac2*sq0
-     sq1=fac2*sq1
-     rsym=amp*(sq1-sq0)
-     r=rsym+128.
-     if(r.gt.255.0) r=255.0
-     if(r.lt.0.0) r=0.0
-     i4=nint(r)
-     if(i4.gt.127) i4=i4-256
-     if(j.ge.1) then
-        symbol(j)=i4
-!        rsymbol(j,ich)=rsymbol(j,ich) + rsym
-        rsymbol(j,ich)=rsym
-        sym(j)=rsym
-     endif
-  enddo
-  
-!###  The following does simple message averaging:
-!  nsum(ich)=nsum(ich)+1
-!  do j=1,207
-!     sym(j)=rsymbol(j,ich)/nsum(ich)
-!     r=sym(j) + 128.
-!     if(r.gt.255.0) r=255.0
-!     if(r.lt.0.0) r=0.0
-!     i4=nint(r)
-!     if(i4.gt.127) i4=i4-256
-!     symbol(j)=i4
-!  enddo
-!###
-  
-  call extract4(sym,nadd,ncount,decoded)     !Do the KV decode
-
-  qual=0.                                    !Now try deep search
-  neme=1
-  mycall='VK7MO'
-  hiscall='W5LUA'
-  hisgrid='EM13'
-  call deep24(sym(2),neme,flip,mycall,hiscall,hisgrid,deepmsg,qual)
-  if(qual.gt.qbest) then
-     qbest=qual
-     deepbest=deepmsg
-     ichbest=ich
-  endif
-
-  if(ncount.ge.0) go to 100
-  if(mode.eq.7 .and. nchips.lt.mode4) go to 40
-
-100 continue
-!100 do i=1,9
-!     i4=data1(i)
-!     if(i4.lt.0) i4=i4+256
-!     data4a(i)=i4
-!  enddo
-!  write(c72,1100) (data4a(i),i=1,9)
-!1100 format(9b8.8)
-!  read(c72,1102) data4
-!1102 format(12b6)
-
-!  decoded='                      '
-!  submode=' '
-
-  if(ncount.lt.0) then
-     decoded=deepbest
-     submode=char(ichar('A')+ichbest-1)
-     qual=qbest
-  endif
-!  if(decoded(1:6).eq.'000AAA') then
-!     decoded='***WRONG MODE?***'
-!     ncount=-1
-!  endif
-
-! Save symbol spectra for possible decoding of average.
-  ppsave(1:207,1:7,nsave)=rsymbol(1:207,1:7)
-
-  return
-end subroutine decode24

Copied: branches/wsjtx/lib/decode65a.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/decode65a.f90)
===================================================================
--- branches/wsjtx/lib/decode65a.f90	                        (rev 0)
+++ branches/wsjtx/lib/decode65a.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,95 @@
+subroutine decode65a(dd,npts,newdat,f0,nflip,mode65,sync2,a,dt,    &amp;
+     nbmkv,nhist,decoded)
+
+! Apply AFC corrections to a candidate JT65 signal, then decode it.
+
+  parameter (NMAX=60*12000)          !Samples per 60 s
+  real*4  dd(NMAX)                   !92 MB: raw data from Linrad timf2
+  complex cx(NMAX/8)                 !Data at 1378.125 samples/s
+  complex c5x(NMAX/32)               !Data at 344.53125 Hz
+  complex c5a(512)
+  real s2(66,126)
+  real a(5)
+  logical first
+  character decoded*22
+  data first/.true./,jjjmin/1000/,jjjmax/-1000/
+  data nhz0/-9999999/
+  save
+
+! Mix sync tone to baseband, low-pass filter, downsample to 1378.125 Hz
+  dt00=dt
+  call timer('filbig  ',0)
+  call filbig(dd,npts,f0,newdat,cx,n5,sq0)
+  call timer('filbig  ',1)
+
+! NB: cx has sample rate 12000*77125/672000 = 1378.125 Hz
+
+! Find best DF, f1, f2, and DT.  Start by downsampling to 344.53125 Hz
+  call timer('fil6521 ',0)
+! Add some zeros at start of c5 arrays -- empirical fix for negative DT's
+  nadd=1089
+  c5x(:nadd)=0.
+  call fil6521(cx,n5,c5x(nadd+1),n6)
+  n6=n6+nadd
+  call timer('fil6521 ',1)
+
+  fsample=1378.125/4.
+  a(5)=dt00
+  i0=nint((a(5)+0.5)*fsample) - 2 + nadd
+  if(i0.lt.1) then
+!     write(23,*) 'i0 too small in decode1a:',i0,f0,a(5),fsample,nadd
+!     flush(23)
+     i0=1
+  endif
+  nz=n6+1-i0
+
+! We're looking only at sync tone here... so why not downsample by another
+! factor of 1/8, say?  Should be a significant execution speed-up.
+  call timer('afc65b  ',0)
+! Best fit for DF, f1, and f2
+  call afc65b(c5x(i0),nz,fsample,nflip,a,ccfbest,dtbest)
+  call timer('afc65b  ',1)
+
+  sync2=3.7e-4*ccfbest/sq0                    !Constant is empirical 
+
+! Apply AFC corrections to the time-domain signal
+! Now we are back to using the 1378.125 Hz sample rate, enough to 
+! accommodate the full JT65C bandwidth.
+
+  call timer('twkfreq ',0)
+  call twkfreq65(cx,n5,a)
+  call timer('twkfreq ',1)
+
+! Compute spectrum for each half symbol.
+! Adding or subtracting a small number (e.g., 5) to j may make it decode.\
+! NB: might want to try computing full-symbol spectra (nfft=512, even for
+! submodes B and C).
+
+  nsym=126
+  nfft=512
+  j=(dt00+dtbest+2.685)*1378.125
+  if(j.lt.0) j=0
+
+  call timer('sh_ffts ',0)
+  do k=1,nsym
+     do i=1,nfft
+        j=j+1
+        c5a(i)=cx(j)
+     enddo
+     call four2a(c5a,nfft,1,1,1)
+     do i=1,66
+        jj=i
+        if(mode65.eq.2) jj=2*i-1
+        if(mode65.eq.4) jj=4*i-3
+        s2(i,k)=real(c5a(jj))**2 + aimag(c5a(jj))**2
+     enddo
+  enddo
+  call timer('sh_ffts ',1)
+
+  call timer('dec65b  ',0)
+  call decode65b(s2,nflip,mode65,nbmkv,nhist,decoded)
+  dt=dt00 + dtbest + 1.7
+  call timer('dec65b  ',1)
+
+  return
+end subroutine decode65a

Copied: branches/wsjtx/lib/decode65b.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/decode65b.f90)
===================================================================
--- branches/wsjtx/lib/decode65b.f90	                        (rev 0)
+++ branches/wsjtx/lib/decode65b.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,36 @@
+subroutine decode65b(s2,nflip,mode65,nbmkv,nhist,decoded)
+
+  real s2(66,126)
+  real s3(64,63)
+  logical first,ltext
+  character decoded*22
+  common/prcom/pr(126),mdat(126),mref(126,2),mdat2(126),mref2(126,2)
+  data first/.true./
+  save
+
+  if(first) call setup65
+  first=.false.
+
+  do j=1,63
+     k=mdat(j)                       !Points to data symbol
+     if(nflip.lt.0) k=mdat2(j)
+     do i=1,64
+        s3(i,j)=s2(i+2,k)
+     enddo
+     k=mdat2(j)                       !Points to data symbol
+     if(nflip.lt.0) k=mdat(j)
+  enddo
+
+  nadd=mode65
+  call extract(s3,nadd,ncount,nhist,decoded,ltext,nbmkv)   !Extract the message
+! Suppress &quot;birdie messages&quot; and other garbage decodes:
+  if(decoded(1:7).eq.'000AAA ') ncount=-1
+  if(decoded(1:7).eq.'0L6MWK ') ncount=-1
+  if(nflip.lt.0 .and. ltext) ncount=-1
+  if(ncount.lt.0) then 
+     nbmkv=0
+     decoded='                      '
+  endif
+
+  return
+end subroutine decode65b

Modified: branches/wsjtx/lib/decode9.f90
===================================================================
--- branches/wsjtx/lib/decode9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/decode9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -16,7 +16,7 @@
   logical first
   integer*4 mettab(0:255,0:1)
   data first/.true./
-  data xx0/                                                      &amp;
+  data xx0/                                                      &amp; !Metric table
         1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000,  &amp;
         1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000,  &amp;
         1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000, 1.000,  &amp;
@@ -53,9 +53,8 @@
 
   if(first) then
 ! Get the metric table
-!     bias=0.37                         !To be optimized, in decoder program
      bias=0.5
-     scale=10                           !  ... ditto ...
+     scale=10
      do i=0,255
         mettab(i,0)=nint(scale*(xx0(i)-bias))
         if(i.ge.1) mettab(256-i,1)=mettab(i,0)

Modified: branches/wsjtx/lib/decode_rs.c
===================================================================
--- branches/wsjtx/lib/decode_rs.c	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/decode_rs.c	2013-07-08 13:17:22 UTC (rev 3462)
@@ -9,7 +9,7 @@
 
 #include &lt;string.h&gt;
 
-#define NULL ((void *)0)
+//#define NULL ((void *)0)
 #define	min(a,b)	((a) &lt; (b) ? (a) : (b))
 
 #ifdef FIXED

Modified: branches/wsjtx/lib/decoder.f90
===================================================================
--- branches/wsjtx/lib/decoder.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/decoder.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,23 +1,21 @@
-subroutine decoder(ss,c0,nstandalone)
+subroutine decoder(ss,id2)
 
 ! Decoder for JT9.
 
-  parameter (NTMAX=120)
-  parameter (NMAX=NTMAX*12000)        !Total sample intervals per 30 minutes
-  parameter (NDMAX=NTMAX*1500)        !Sample intervals at 1500 Hz rate
-  parameter (NSMAX=1365)             !Max length of saved spectra
+  include 'constants.f90'
   real ss(184,NSMAX)
   character*22 msg
-  character*80 fmt
   character*20 datetime
   real*4 ccfred(NSMAX)
   real*4 red2(NSMAX)
   logical ccfok(NSMAX)
   logical done(NSMAX)
+  logical done65
+  integer*2 id2(NTMAX*12000)
+  real*4 dd(NTMAX*12000)
   integer*1 i1SoftSymbols(207)
-  complex c0(NDMAX)
   common/npar/nutc,ndiskdat,ntrperiod,nfqso,newdat,npts8,nfa,nfb,ntol,  &amp;
-       kin,nzhsym,nsave,nagain,ndepth,nrxlog,nfsample,datetime
+       kin,nzhsym,nsave,nagain,ndepth,ntxmode,nmode,datetime
   common/tracer/limtrace,lu
   save
 
@@ -27,48 +25,40 @@
   ndecodes0=0
   ndecodes1=0
 
-  call timer('decoder ',0)
-
   open(13,file='decoded.txt',status='unknown')
-  ntrMinutes=ntrperiod/60
-  newdat=1
+  open(22,file='kvasd.dat',access='direct',recl=1024,status='unknown')
+
+  npts65=52*12000
+  ntol65=20
+  done65=.false.
+  if(nmode.ge.65 .and. ntxmode.eq.65) then
+     if(newdat.ne.0) dd(1:npts65)=id2(1:npts65)
+     call jt65a(dd,npts65,newdat,nutc,nfa,nfqso,ntol65,nagain,ndecoded)
+     done65=.true.
+  endif
+
+  if(nmode.eq.65) go to 800
+
   nsynced=0
   ndecoded=0
   nsps=0
 
-  if(ntrMinutes.eq.1) then
-     nsps=6912
-     df3=1500.0/2048.0
-     fmt='(i4.4,i4,i5,f6.1,f8.0,i4,3x,a22)'
-  else if(ntrMinutes.eq.2) then
-     nsps=15360
-     df3=1500.0/2048.0
-     fmt='(i4.4,i4,i5,f6.1,f8.0,i4,3x,a22)'
-  else if(ntrMinutes.eq.5) then
-     nsps=40960
-     df3=1500.0/6144.0
-     fmt='(i4.4,i4,i5,f6.1,f8.1,i4,3x,a22)'
- else if(ntrMinutes.eq.10) then
-     nsps=82944
-     df3=1500.0/12288.0
-     fmt='(i4.4,i4,i5,f6.1,f8.2,i4,3x,a22)'
-  else if(ntrMinutes.eq.30) then
-     nsps=252000
-     df3=1500.0/32768.0
-     fmt='(i4.4,i4,i5,f6.1,f8.2,i4,3x,a22)'
-  endif
-  if(nsps.eq.0) stop 'Error: bad TRperiod'    !Better: return an error code###
+  nsps=6912                                   !Params for JT9-1
+  df3=1500.0/2048.0
 
   tstep=0.5*nsps/12000.0                      !Half-symbol step (seconds)
   done=.false.
 
-  ia=max(1,nint((nfa-1000)/df3))
-  ib=min(NSMAX,nint((nfb-1000)/df3))
+  nf0=0
+  ia=max(1,nint((nfa-nf0)/df3))
+  ib=min(NSMAX,nint((nfb-nf0)/df3))
   lag1=-(2.5/tstep + 0.9999)
   lag2=5.0/tstep + 0.9999
-  call timer('sync9   ',0)
-  call sync9(ss,nzhsym,lag1,lag2,ia,ib,ccfred,red2,ipk)
-  call timer('sync9   ',1)
+  if(newdat.ne.0) then
+     call timer('sync9   ',0)
+     call sync9(ss,nzhsym,lag1,lag2,ia,ib,ccfred,red2,ipk)
+     call timer('sync9   ',1)
+  endif
 
   nsps8=nsps/8
   df8=1500.0/nsps8
@@ -94,24 +84,22 @@
         ccfok(ia:ib)=.true.
         nfa1=nfqso-ntol
         nfb1=nfqso+ntol
-        ia=max(1,nint((nfa1-1000)/df3))
-        ib=min(NSMAX,nint((nfb1-1000)/df3))
+        ia=max(1,nint((nfa1-nf0)/df3))
+        ib=min(NSMAX,nint((nfb1-nf0)/df3))
         ia1=ia
         ib1=ib
      else
         nfa1=nfa
         nfb1=nfb
-        ia=max(1,nint((nfa1-1000)/df3))
-        ib=min(NSMAX,nint((nfb1-1000)/df3))
+        ia=max(1,nint((nfa1-nf0)/df3))
+        ib=min(NSMAX,nint((nfb1-nf0)/df3))
         do i=ia,ib
            ccfok(i)=ccfred(i).gt.ccflim .and. red2(i).gt.red2lim
         enddo
         ccfok(ia1:ib1)=.false.
      endif
 
-     nRxLog=0
      fgood=0.
-
      do i=ia,ib
         f=(i-1)*df3
         if(done(i) .or. (.not.ccfok(i)) .or. (ccfred(i).lt.ccflim-1.0)) cycle
@@ -122,9 +110,9 @@
            if(nqd.eq.1) nfreqs1=nfreqs1+1
 
            call timer('softsym ',0)
-           fpk=1000.0 + df3*(i-1)
-           call softsym(c0,npts8,nsps8,newdat,fpk,syncpk,snrdb,xdt,freq,   &amp;
-                drift,schk,i1SoftSymbols)
+           fpk=nf0 + df3*(i-1)
+           call softsym(id2,npts8,nsps8,newdat,fpk,syncpk,snrdb,xdt,    &amp;
+                freq,drift,schk,i1SoftSymbols)
            call timer('softsym ',1)
 
            if(schk.ge.schklim) then
@@ -140,16 +128,14 @@
               nsnr=nint(snrdb)
               ndrift=nint(drift/df3)
               
-!              write(38,3002) nutc,nqd,nsnr,i,freq,ndrift,ccfred(i),    &amp;
-!                   red2(i),schk,nlim,msg
-!3002          format(i4.4,i2,i4,i5,f7.1,i4,f5.1,f6.1,f5.1,i8,1x,a22)
-
               if(msg.ne.'                      ') then
                  if(nqd.eq.0) ndecodes0=ndecodes0+1
                  if(nqd.eq.1) ndecodes1=ndecodes1+1
                  
-                 write(*,fmt) nutc,nsync,nsnr,xdt,freq,ndrift,msg
-                 write(13,fmt) nutc,nsync,nsnr,xdt,freq,ndrift,msg
+                 write(*,1000) nutc,nsnr,xdt,nint(freq),msg
+1000             format(i4.4,i4,f5.1,i5,1x,'@',1x,a22)
+                 write(13,1002) nutc,nsync,nsnr,xdt,freq,ndrift,msg
+1002             format(i4.4,i4,i5,f6.1,f8.0,i4,3x,a22,' JT9')
 
                  iaa=max(1,i-1)
                  ibb=min(NSMAX,i+22)
@@ -160,8 +146,6 @@
                  done(iaa:ibb)=.true.              
                  call flush(6)
               endif
-           else
-!              write(38,3002) nutc,nqd,-99,i,freq,ndrift,ccfred(i),red2(i),schk,0
            endif
         endif
      enddo
@@ -169,21 +153,17 @@
      if(nagain.ne.0) exit
   enddo
 
-  write(*,1010) nsynced,ndecoded
+  if(nmode.ge.65 .and. (.not.done65)) then
+     if(newdat.ne.0) dd(1:npts65)=id2(1:npts65)
+     call jt65a(dd,npts65,newdat,nutc,nfa,nfqso,ntol65,nagain,ndecoded)
+  endif
+
+!### JT65 is not yet producing info for nsynced, ndecoded.
+800 write(*,1010) nsynced,ndecoded
 1010 format('&lt;DecodeFinished&gt;',2i4)
   call flush(6)
   close(13)
-!  call flush(14)
+  close(22)
 
-  call timer('decoder ',1)
-  if(nstandalone.eq.0) call timer('decoder ',101)
-
-  call system_clock(iclock,iclock_rate,iclock_max)
-!  write(39,3001) nutc,nfreqs1,nfreqs0,ndecodes1,ndecodes0,       &amp;
-!       float(iclock-iclock0)/iclock_rate
-!3001 format(5i8,f10.3)
-!  call flush(38)
-!  call flush(39)
-
   return
 end subroutine decoder

Copied: branches/wsjtx/lib/demod64a.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/demod64a.f90)
===================================================================
--- branches/wsjtx/lib/demod64a.f90	                        (rev 0)
+++ branches/wsjtx/lib/demod64a.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,73 @@
+subroutine demod64a(s3,nadd,mrsym,mrprob,mr2sym,mr2prob,ntest,nlow)
+
+! Demodulate the 64-bin spectra for each of 63 symbols in a frame.
+
+! Parameters
+!    nadd     number of spectra already summed
+!    mrsym    most reliable symbol value
+!    mr2sym   second most likely symbol value
+!    mrprob   probability that mrsym was the transmitted value
+!    mr2prob  probability that mr2sym was the transmitted value
+
+  implicit real*8 (a-h,o-z)
+  real*4 s3(64,63)
+  real*8 fs(64)
+  integer mrsym(63),mrprob(63),mr2sym(63),mr2prob(63)
+!  common/mrscom/ mrs(63),mrs2(63)
+
+  if(nadd.eq.-999) return
+  afac=1.1 * float(nadd)**0.64
+  scale=255.999
+
+! Compute average spectral value
+  sum=0.
+  do j=1,63
+     do i=1,64
+        sum=sum+s3(i,j)
+     enddo
+  enddo
+  ave=sum/(64.*63.)
+  i1=1                                      !Silence warning
+  i2=1
+
+! Compute probabilities for most reliable symbol values
+  do j=1,63
+     s1=-1.e30
+     fsum=0.
+     do i=1,64
+        x=min(afac*s3(i,j)/ave,50.d0)
+        fs(i)=exp(x)
+        fsum=fsum+fs(i)
+        if(s3(i,j).gt.s1) then
+           s1=s3(i,j)
+           i1=i                              !Most reliable
+        endif
+     enddo
+
+     s2=-1.e30
+     do i=1,64
+        if(i.ne.i1 .and. s3(i,j).gt.s2) then
+           s2=s3(i,j)
+           i2=i                              !Second most reliable
+        endif
+     enddo
+     p1=fs(i1)/fsum                          !Normalized probabilities
+     p2=fs(i2)/fsum
+     mrsym(j)=i1-1
+     mr2sym(j)=i2-1
+     mrprob(j)=scale*p1
+     mr2prob(j)=scale*p2
+!     mrs(j)=i1
+!     mrs2(j)=i2
+  enddo
+
+  sum=0.
+  nlow=0
+  do j=1,63
+     sum=sum+mrprob(j)
+     if(mrprob(j).le.5) nlow=nlow+1
+  enddo
+  ntest=sum/63
+
+  return
+end subroutine demod64a

Modified: branches/wsjtx/lib/downsam9.f90
===================================================================
--- branches/wsjtx/lib/downsam9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/downsam9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,58 +1,60 @@
-subroutine downsam9(c0,npts8,nsps8,newdat,nspsd,fpk,c2,nz2)
+subroutine downsam9(id2,npts8,nsps8,newdat,nspsd,fpk,c2,nz2)
 
-!Downsample to nspsd samples per symbol, info centered at fpk
+!Downsample from id2() into C2() so as to yield nspsd samples per symbol, 
+!mixing from fpk down to zero frequency.
 
-  parameter (NMAX=128*31500)
-  complex c0(0:npts8-1)
-  complex c1(0:NMAX-1)
+  include 'constants.f90'
+  parameter (NMAX1=1024*1920)
+  integer*2 id2(0:8*npts8-1)
+  real*4 x1(0:NMAX1-1)
+  complex c1(0:NMAX1/2)
   complex c2(0:4096-1)
-  real s(1000)
+  real s(5000)
+  equivalence (c1,x1)
   save
 
-  nfft1=128*nsps8                          !Forward FFT length
-  nh1=nfft1/2
-  df1=1500.0/nfft1
+  nfft1=1024*nsps8                          !Forward FFT length
+  df1=12000.0/nfft1
+  npts=8*npts8
 
   if(newdat.eq.1) then
-     fac=1.e-4
-     do i=0,npts8-1,2
-        c1(i)=fac*conjg(c0(i))
-        c1(i+1)=-fac*conjg(c0(i+1))
+     fac=6.963e-6                             !Why this weird constant?
+     do i=0,npts-1
+        x1(i)=fac*id2(i)
      enddo
-     c1(npts8:)=0.                            !Zero the rest of c1
-     call four2a(c1,nfft1,1,-1,1)             !Forward FFT
-     
+     x1(npts:nfft1-1)=0.                      !Zero the rest of x1
+     call four2a(c1,nfft1,1,-1,0)             !Forward FFT, r2c
+
      nadd=1.0/df1
-     j=250/df1
      s=0.
-     do i=1,1000
+     do i=1,5000
+        j=(i-1)/df1
         do n=1,nadd
            j=j+1
            s(i)=s(i)+real(c1(j))**2 + aimag(c1(j))**2
         enddo
-!        write(37,3001) i+1000,s(i),db(s(i)),nadd
-!3001    format(i5,2f12.3,i8)
      enddo
-     call pctile(s,1000,40,avenoise)
   endif
 
-  ndown=nsps8/16                           !Downsample factor
+  ndown=8*nsps8/nspsd                      !Downsample factor
   nfft2=nfft1/ndown                        !Backward FFT length
   nh2=nfft2/2
-   
-  fshift=fpk-1500.0
-  i0=nh1 + fshift/df1
+  nf=nint(fpk)
+  i0=fpk/df1
+
+  nw=100
+  ia=max(1,nf-nw)
+  ib=min(5000,nf+nw)
+  call pctile(s(ia),ib-ia+1,40,avenoise)
+
   fac=sqrt(1.0/avenoise)
   do i=0,nfft2-1
      j=i0+i
      if(i.gt.nh2) j=j-nfft2
      c2(i)=fac*c1(j)
   enddo
+  call four2a(c2,nfft2,1,1,1)              !FFT back to time domain
+  nz2=8*npts8/ndown
 
-  call four2a(c2,nfft2,1,1,1)              !Backward FFT
-
-  nspsd=nsps8/ndown
-  nz2=npts8/ndown
-
   return
 end subroutine downsam9

Copied: branches/wsjtx/lib/extract.F90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/extract.F90)
===================================================================
--- branches/wsjtx/lib/extract.F90	                        (rev 0)
+++ branches/wsjtx/lib/extract.F90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,102 @@
+subroutine extract(s3,nadd,ncount,nhist,decoded,ltext,nbmkv)
+
+  real s3(64,63)
+  character decoded*22
+  integer era(51),dat4(12),indx(64)
+  integer mrsym(63),mr2sym(63),mrprob(63),mr2prob(63)
+  logical nokv,ltext
+  data nokv/.false./,nsec1/0/
+  save
+
+  nbmkv=0
+  nfail=0
+1 continue
+  call demod64a(s3,nadd,mrsym,mrprob,mr2sym,mr2prob,ntest,nlow)
+  if(ntest.lt.50 .or. nlow.gt.20) then
+     ncount=-999                         !Flag bad data
+     go to 900
+  endif
+  call chkhist(mrsym,nhist,ipk)
+
+  if(nhist.ge.20) then
+     nfail=nfail+1
+     call pctile(s3,4032,50,base)     ! ### or, use ave from demod64a
+     do j=1,63
+        s3(ipk,j)=base
+     enddo
+     if(nfail.gt.30) then
+        decoded='                      '
+        ncount=-1
+        go to 900
+     endif
+     go to 1
+  endif
+
+  call graycode65(mrsym,63,-1)
+  call interleave63(mrsym,-1)
+  call interleave63(mrprob,-1)
+
+! Decode using Berlekamp-Massey algorithm
+  nemax=30                                         !Max BM erasures
+  call indexx(63,mrprob,indx)
+  do i=1,nemax
+     j=indx(i)
+     if(mrprob(j).gt.120) then
+        ne2=i-1
+        go to 2
+     endif
+     era(i)=j-1
+  enddo
+  ne2=nemax
+2 decoded='                      '
+  do nerase=0,ne2,2
+     call rs_decode(mrsym,era,nerase,dat4,ncount)
+     if(ncount.ge.0) then
+        call unpackmsg(dat4,decoded)
+        if(iand(dat4(10),8).ne.0) ltext=.true.
+        nbmkv=1
+        go to 900
+     endif
+  enddo
+
+! Berlekamp-Massey algorithm failed, try Koetter-Vardy
+
+  if(nokv) go to 900
+
+  maxe=8                             !Max KV errors in 12 most reliable symbols
+  xlambda=10.0
+  call graycode65(mr2sym,63,-1)
+  call interleave63(mr2sym,-1)
+  call interleave63(mr2prob,-1)
+
+  nsec1=nsec1+1
+  write(22,rec=1) nsec1,xlambda,maxe,200,mrsym,mrprob,mr2sym,mr2prob
+  call flush(22)
+  call timer('kvasd   ',0)
+#ifdef UNIX
+  iret=system('./kvasd -q &gt; dev_null')
+#else
+  iret=system('kvasd -q &gt; dev_null')
+#endif
+  call timer('kvasd   ',1)
+  if(iret.ne.0) then
+     if(.not.nokv) write(*,1000) 
+1000 format('Error in KV decoder, or no KV decoder present.')
+     nokv=.true.
+     go to 900
+  endif
+
+  read(22,rec=2,err=900) nsec2,ncount,dat4
+  j=nsec2                !Silence compiler warning
+  decoded='                      '
+  ltext=.false.
+  if(ncount.ge.0) then
+     call unpackmsg(dat4,decoded)     !Unpack the user message
+     if(iand(dat4(10),8).ne.0) ltext=.true.
+     nbmkv=2
+  endif
+
+900 continue
+
+  return
+end subroutine extract

Copied: branches/wsjtx/lib/fchisq65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/fchisq65.f90)
===================================================================
--- branches/wsjtx/lib/fchisq65.f90	                        (rev 0)
+++ branches/wsjtx/lib/fchisq65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,68 @@
+real function fchisq65(cx,npts,fsample,nflip,a,ccfmax,dtmax)
+
+  parameter (NMAX=60*12000)          !Samples per 60 s
+  complex cx(npts)
+  real a(5)
+  complex w,wstep,z
+  real ss(3000)
+  complex csx(0:NMAX/8)
+  data twopi/6.283185307/a1,a2,a3/99.,99.,99./
+  save
+
+  call timer('fchisq65',0)
+  baud=11025.0/4096.0
+  nsps=nint(fsample/baud)                  !Samples per symbol
+  nsph=nsps/2                              !Samples per half-symbol
+  ndiv=16                                  !Output ss() steps per symbol
+  nout=ndiv*npts/nsps
+  dtstep=1.0/(ndiv*baud)                   !Time per output step
+
+  if(a(1).ne.a1 .or. a(2).ne.a2 .or. a(3).ne.a3) then
+     a1=a(1)
+     a2=a(2)
+     a3=a(3)
+
+! Mix and integrate the complex signal
+     csx(0)=0.
+     w=1.0
+     x0=0.5*(npts+1)
+     s=2.0/npts
+     do i=1,npts
+        x=s*(i-x0)
+        if(mod(i,100).eq.1) then
+           p2=1.5*x*x - 0.5
+           dphi=(a(1) + x*a(2) + p2*a(3)) * (twopi/fsample)
+           wstep=cmplx(cos(dphi),sin(dphi))
+        endif
+        w=w*wstep
+        csx(i)=csx(i-1) + w*cx(i)
+     enddo
+  endif
+
+! Compute 1/2-symbol powers at 1/16-symbol steps.
+  fac=1.e-4
+  
+  do i=1,nout
+     j=i*nsps/ndiv
+     k=j-nsph
+     ss(i)=0.
+     if(k.ge.1) then
+        z=csx(j)-csx(k)
+        ss(i)=fac*(real(z)**2 + aimag(z)**2)
+     endif
+  enddo
+
+  ccfmax=0.
+  call timer('ccf2    ',0)
+  call ccf2(ss,nout,nflip,ccf,lagpk)
+  call timer('ccf2    ',1)
+  if(ccf.gt.ccfmax) then
+     ccfmax=ccf
+     dtmax=lagpk*dtstep
+  endif
+  fchisq65=-ccfmax
+
+  call timer('fchisq65',1)
+
+  return
+end function fchisq65

Copied: branches/wsjtx/lib/fil6521.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/fil6521.f90)
===================================================================
--- branches/wsjtx/lib/fil6521.f90	                        (rev 0)
+++ branches/wsjtx/lib/fil6521.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,44 @@
+subroutine fil6521(c1,n1,c2,n2)
+
+! FIR lowpass filter designed using ScopeFIR
+
+!                  Pass #1   Pass #2  
+! -----------------------------------------------
+! fsample    (Hz)  1378.125   Input sample rate
+! Ntaps            21         Number of filter taps
+! fc         (Hz)  40         Cutoff frequency
+! fstop      (Hz)  172.266    Lower limit of stopband
+! Ripple     (dB)  0.1        Ripple in passband
+! Stop Atten (dB)  38         Stopband attenuation
+! fout       (Hz)  344.531    Output sample rate
+
+  parameter (NTAPS=21)
+  parameter (NH=NTAPS/2)
+  parameter (NDOWN=4)                !Downsample ratio = 1/4
+  complex c1(n1)
+  complex c2(n1/NDOWN)
+
+! Filter coefficients:
+  real a(-NH:NH)
+  data a/                                                                &amp;
+       -0.011958606980,-0.013888627387,-0.015601306443,-0.010602249570,  &amp;
+        0.003804023436, 0.028320058273, 0.060903935217, 0.096841904411,  &amp;
+        0.129639871228, 0.152644580853, 0.160917511283, 0.152644580853,  &amp;
+        0.129639871228, 0.096841904411, 0.060903935217, 0.028320058273,  &amp;
+        0.003804023436,-0.010602249570,-0.015601306443,-0.013888627387,  &amp;
+       -0.011958606980/
+
+  n2=(n1-NTAPS+NDOWN)/NDOWN
+  k0=NH-NDOWN+1
+
+! Loop over all output samples
+  do i=1,n2
+     c2(i)=0.
+     k=k0 + NDOWN*i
+     do j=-NH,NH
+        c2(i)=c2(i) + c1(j+k)*a(j)
+     enddo
+  enddo
+
+  return
+end subroutine fil6521

Copied: branches/wsjtx/lib/filbig.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/filbig.f90)
===================================================================
--- branches/wsjtx/lib/filbig.f90	                        (rev 0)
+++ branches/wsjtx/lib/filbig.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,127 @@
+subroutine filbig(dd,npts,f0,newdat,c4a,n4,sq0)
+
+! Filter and downsample the real data in array dd(npts), sampled at 12000 Hz.
+! Output is complex, sampled at 1378.125 Hz.
+
+  parameter (NSZ=3413)
+  parameter (NFFT1=672000,NFFT2=77175)
+  parameter (NZ2=1000)
+  real*4  dd(npts)                           !Input data
+  complex ca(NFFT1)                          !FFT of input
+  complex c4a(NFFT2)                         !Output data
+  real*4 s(NZ2)
+  real*8 df
+  real halfpulse(8)                 !Impulse response of filter (one sided)
+  complex cfilt(NFFT2)                       !Filter (complex; imag = 0)
+  real rfilt(NFFT2)                          !Filter (real)
+  integer*8 plan1,plan2,plan3
+  logical first
+  include 'fftw3.f90'
+  equivalence (rfilt,cfilt)
+  data first/.true./,npatience/0/
+  data halfpulse/114.97547150,36.57879257,-20.93789101,              &amp;
+       5.89886379,1.59355187,-2.49138308,0.60910773,-0.04248129/
+  common/refspec/dfref,ref(NSZ)
+  save
+
+  if(npts.lt.0) go to 900                    !Clean up at end of program
+
+  if(first) then
+     nflags=FFTW_ESTIMATE
+     if(npatience.eq.1) nflags=FFTW_ESTIMATE_PATIENT
+     if(npatience.eq.2) nflags=FFTW_MEASURE
+     if(npatience.eq.3) nflags=FFTW_PATIENT
+     if(npatience.eq.4) nflags=FFTW_EXHAUSTIVE
+! Plan the FFTs just once
+     call timer('FFTplans ',0)
+     call sfftw_plan_dft_1d(plan1,nfft1,ca,ca,FFTW_BACKWARD,nflags)
+     call sfftw_plan_dft_1d(plan2,nfft2,c4a,c4a,FFTW_FORWARD,nflags)
+     call sfftw_plan_dft_1d(plan3,nfft2,cfilt,cfilt,FFTW_BACKWARD,nflags)
+     call timer('FFTplans ',1)
+
+! Convert impulse response to filter function
+     do i=1,nfft2
+        cfilt(i)=0.
+     enddo
+     fac=0.00625/nfft1
+     cfilt(1)=fac*halfpulse(1)
+     do i=2,8
+        cfilt(i)=fac*halfpulse(i)
+        cfilt(nfft2+2-i)=fac*halfpulse(i)
+     enddo
+     call timer('FFTfilt ',0)
+     call sfftw_execute(plan3)
+     call timer('FFTfilt ',1)
+
+     base=cfilt(nfft2/2+1)
+     do i=1,nfft2
+        rfilt(i)=real(cfilt(i))-base
+     enddo
+
+     df=12000.d0/nfft1
+     first=.false.
+  endif
+
+! When new data comes along, we need to compute a new &quot;big FFT&quot;
+! If we just have a new f0, continue with the existing data in ca.
+
+  if(newdat.ne.0) then
+     nz=min(npts,nfft1)
+     ca(1:nz)=dd(1:nz)
+     ca(nz+1:)=0.                   !### Should change this to r2c FFT ###
+     call timer('FFTbig  ',0)
+     call sfftw_execute(plan1)
+     call timer('FFTbig  ',1)
+
+     do i=1,NFFT1/2                             !Flatten the spectrum
+        j=nint(i*df/dfref)
+        if(j.lt.1) j=1
+        if(j.gt.NSZ) j=NSZ
+        fac=sqrt(min(30.0,1.0/ref(j)))
+        ca(i)=fac * ca(i)
+     enddo
+  endif
+
+! NB: f0 is the frequency at which we want our filter centered.
+!     i0 is the bin number in ca closest to f0.
+
+  i0=nint(f0/df) + 1
+  nh=nfft2/2
+  do i=1,nh                                !Copy data into c4a and apply
+     j=i0+i-1                              !the filter function
+     if(j.ge.1 .and. j.le.nfft1) then
+        c4a(i)=rfilt(i)*ca(j)
+     else
+        c4a(i)=0.
+     endif
+  enddo
+  do i=nh+1,nfft2
+     j=i0+i-1-nfft2
+     if(j.lt.1) j=j+nfft1                  !nfft1 was nfft2
+     c4a(i)=rfilt(i)*ca(j)
+  enddo
+
+  nadd=nfft2/NZ2
+  i=0
+  do j=1,NZ2
+     s(j)=0.
+     do n=1,nadd
+        i=i+1
+        s(j)=s(j) + real(c4a(i))**2 + aimag(c4a(i))**2
+     enddo
+  enddo
+  call pctile(s,NZ2,30,sq0)
+
+! Do the short reverse transform, to go back to time domain.
+  call timer('FFTsmall',0)
+  call sfftw_execute(plan2)
+  call timer('FFTsmall',1)
+  n4=min(npts/8,nfft2)
+  return
+
+900 call sfftw_destroy_plan(plan1)
+  call sfftw_destroy_plan(plan2)
+  call sfftw_destroy_plan(plan3)
+  
+  return
+end subroutine filbig

Modified: branches/wsjtx/lib/fillcom.f90
===================================================================
--- branches/wsjtx/lib/fillcom.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/fillcom.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,24 +1,24 @@
 subroutine fillcom(nutc0,ndepth0)
   character*20 datetime
   common/npar/nutc,ndiskdat,ntrperiod,nfqso,newdat,npts8,nfa,nfb,ntol,  &amp;
-       kin,nzhsym,nsave,nagain,ndepth,nrxlog,nfsample,datetime
+       kin,nzhsym,nsave,nagain,ndepth,ntxmode,nmode,datetime
   save
 
   nutc=nutc0
   ndiskdat=1
   ntrperiod=60
-  nfqso=1500
+  nfqso=1197
   newdat=1
   npts8=74736
-  nfa=1000
-  nfb=2000
+  nfa=2700
+  nfb=4007
   ntol=3
   kin=1024
   nzhsym=173
   nsave=0
   ndepth=ndepth0
-  nrxlog=1
-  nfsample=12000
+  ntxmode=9
+  nmode=9+65
   datetime=&quot;2013-Apr-16 15:13&quot;
   
   return

Copied: branches/wsjtx/lib/flat2.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/flat2.f90)
===================================================================
--- branches/wsjtx/lib/flat2.f90	                        (rev 0)
+++ branches/wsjtx/lib/flat2.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,18 @@
+subroutine flat2(s,nz,ref)
+
+  parameter (NSMAX=6827)
+  real s(NSMAX)
+  real ref(NSMAX)
+
+  nsmo=10
+  ia=nsmo+1
+  ib=nz-nsmo-1
+  do i=ia,ib
+     call pctile(s(i-nsmo),2*nsmo+1,5,ref(i))
+  enddo
+
+  ref(:ia-1)=ref(ia)
+  ref(ib+1:)=ref(ib)
+
+  return
+end subroutine flat2

Copied: branches/wsjtx/lib/flat65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/flat65.f90)
===================================================================
--- branches/wsjtx/lib/flat65.f90	                        (rev 0)
+++ branches/wsjtx/lib/flat65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,25 @@
+subroutine flat65(ss,nhsym,maxhsym,nsz,ref)
+
+  real stmp(nsz)
+  real ss(maxhsym,nsz)
+  real ref(nsz)
+
+  npct=28                                       !Somewhat arbitrary
+  do i=1,nsz
+     call pctile(ss(1,i),nhsym,npct,stmp(i))
+  enddo
+
+  nsmo=33
+  ia=nsmo/2 + 1
+  ib=nsz - nsmo/2 - 1
+  do i=ia,ib
+     call pctile(stmp(i-nsmo/2),nsmo,npct,ref(i))
+  enddo
+  ref(:ia-1)=ref(ia)
+  ref(ib+1:)=ref(ib)
+  ref=4.0*ref
+
+  return
+end subroutine flat65
+
+      

Copied: branches/wsjtx/lib/gen65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/gen65.f90)
===================================================================
--- branches/wsjtx/lib/gen65.f90	                        (rev 0)
+++ branches/wsjtx/lib/gen65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,65 @@
+subroutine gen65(msg0,ichk,msgsent,itone,itext)
+
+! Encodes a JT65 message to yieild itone(1:126)
+! Temporarily, does not implement EME shorthands
+
+  character*22 msg0
+  character*22 message          !Message to be generated
+  character*22 msgsent          !Message as it will be received
+  integer itone(126)
+!  character*3 cok               !'   ' or 'OOO'
+  integer dgen(13)
+  integer sent(63)
+  logical text
+  integer nprc(126)
+  data nprc/1,0,0,1,1,0,0,0,1,1,1,1,1,1,0,1,0,1,0,0,  &amp;
+            0,1,0,1,1,0,0,1,0,0,0,1,1,1,0,0,1,1,1,1,  &amp;
+            0,1,1,0,1,1,1,1,0,0,0,1,1,0,1,0,1,0,1,1,  &amp;
+            0,0,1,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,1,  &amp;
+            1,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,1,  &amp;
+            0,1,0,1,0,0,1,1,0,0,1,0,0,1,0,0,0,0,1,1,  &amp;
+            1,1,1,1,1,1/
+  save
+
+  message=msg0
+  do i=1,22
+     if(ichar(message(i:i)).eq.0) then
+        message(i:)='                      '
+        exit
+     endif
+  enddo
+
+  do i=1,22                               !Strip leading blanks
+     if(message(1:1).ne.' ') exit
+     message=message(i+1:)
+  enddo
+
+  nspecial=0
+!  call chkmsg(message,cok,nspecial,flip)
+  if(nspecial.eq.0) then
+     call packmsg(message,dgen,text)     !Pack message into 72 bits
+     itext=0
+     if(text) itext=1
+     call unpackmsg(dgen,msgsent)        !Unpack to get message sent
+     if(ichk.ne.0) go to 999             !Return if checking only
+
+     call rs_encode(dgen,sent)           !Apply Reed-Solomon code
+     call interleave63(sent,1)           !Apply interleaving
+     call graycode65(sent,63,1)          !Apply Gray code
+     nsym=126                            !Symbols per transmission
+  else
+     nsym=32
+  endif
+
+  k=0
+  do j=1,nsym
+     if(nprc(j).eq.0) then
+        k=k+1
+        itone(j)=sent(k)+2
+     else
+        itone(j)=0
+     endif
+  enddo
+
+999 return
+end subroutine gen65

Modified: branches/wsjtx/lib/genjt9.f90
===================================================================
--- branches/wsjtx/lib/genjt9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/genjt9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -26,7 +26,7 @@
      endif
   enddo
 
-  do i=1,22                               !Omit leading blanks
+  do i=1,22                               !Strip leading blanks
      if(message(1:1).ne.' ') exit
      message=message(i+1:)
   enddo

Copied: branches/wsjtx/lib/graycode65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/graycode65.f90)
===================================================================
--- branches/wsjtx/lib/graycode65.f90	                        (rev 0)
+++ branches/wsjtx/lib/graycode65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,9 @@
+subroutine graycode65(dat,n,idir)
+
+  integer dat(n)
+  do i=1,n
+     dat(i)=igray(dat(i),idir)
+  enddo
+
+  return
+end subroutine graycode65

Modified: branches/wsjtx/lib/init_rs.c
===================================================================
--- branches/wsjtx/lib/init_rs.c	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/init_rs.c	2013-07-08 13:17:22 UTC (rev 3462)
@@ -13,7 +13,7 @@
 #include &quot;char.h&quot;
 #endif
 
-#define NULL ((void *)0)
+//#define NULL ((void *)0)
 
 void FREE_RS(void *p){
   struct rs *rs = (struct rs *)p;

Copied: branches/wsjtx/lib/interleave63.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/interleave63.f90)
===================================================================
--- branches/wsjtx/lib/interleave63.f90	                        (rev 0)
+++ branches/wsjtx/lib/interleave63.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,25 @@
+subroutine interleave63(d1,idir)
+
+! Interleave (idir=1) or de-interleave (idir=-1) the array d1.
+
+  integer d1(0:6,0:8)
+  integer d2(0:8,0:6)
+
+  if(idir.ge.0) then
+     do i=0,6
+        do j=0,8
+           d2(j,i)=d1(i,j)
+        enddo
+     enddo
+     call move(d2,d1,63)
+  else
+     call move(d1,d2,63)
+     do i=0,6
+        do j=0,8
+           d1(i,j)=d2(j,i)
+        enddo
+     enddo
+  endif
+         
+  return
+end subroutine interleave63

Copied: branches/wsjtx/lib/jt65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/jt65.f90)
===================================================================
--- branches/wsjtx/lib/jt65.f90	                        (rev 0)
+++ branches/wsjtx/lib/jt65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,68 @@
+program jt65
+
+! Test the JT65 decoder for WSJT-X
+
+  parameter (NZMAX=60*12000)
+  integer*4 ihdr(11)
+  integer*2 id2(NZMAX)
+  real*4 dd(NZMAX)
+  character*80 infile
+  integer*2 nfmt2,nchan2,nbitsam2,nbytesam2
+  character*4 ariff,awave,afmt,adata
+  common/hdr/ariff,lenfile,awave,afmt,lenfmt,nfmt2,nchan2, &amp;
+     nsamrate,nbytesec,nbytesam2,nbitsam2,adata,ndata
+  common/tracer/limtrace,lu
+  equivalence (ariff,ihdr)
+
+  nargs=iargc()
+  if(nargs.lt.1) then
+     print*,'Usage: jt65 file1 [file2 ...]'
+     go to 999
+  endif
+  limtrace=0
+  lu=12
+
+  newdat=1
+  ntol=50
+  nfa=2700
+!  nfb=4000
+  nfqso=933
+  nagain=0
+
+  open(12,file='timer.out',status='unknown')
+  open(22,file='kvasd.dat',access='direct',recl=1024,status='unknown')
+
+  call timer('jt65    ',0)
+
+  do ifile=1,nargs
+     call getarg(ifile,infile)
+     open(10,file=infile,access='stream',status='old',err=998)
+
+     call timer('read    ',0)
+     read(10) ihdr
+     nutc=ihdr(1)                           !Silence compiler warning
+     i1=index(infile,'.wav')
+     read(infile(i1-4:i1-1),*,err=10) nutc
+     go to 20
+10    nutc=0
+20    npts=52*12000
+     read(10) id2(1:npts)
+     call timer('read    ',1)
+     dd(1:npts)=id2(1:npts)
+     dd(npts+1:)=0.
+
+     call timer('jt65a   ',0)
+     call jt65a(dd,npts,newdat,nutc,ntol,nfa,nfqso,nagain,ndecoded)
+     call timer('jt65a   ',1)
+  enddo
+
+  call timer('jt65    ',1)
+  call timer('jt65    ',101)
+  call four2a(a,-1,1,1,1)                  !Free the memory used for plans
+  call filbig(a,-1,1,0.0,0,0,0,0,0)        ! (ditto)
+  go to 999
+
+998 print*,'Cannot open file:'
+  print*,infile
+
+999 end program jt65

Copied: branches/wsjtx/lib/jt65a.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/jt65a.f90)
===================================================================
--- branches/wsjtx/lib/jt65a.f90	                        (rev 0)
+++ branches/wsjtx/lib/jt65a.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,91 @@
+subroutine jt65a(dd,npts,newdat,nutc,nfa,nfqso,ntol,nagain,ndecoded)
+
+!  Process dd() data to find and decode JT65 signals.
+
+  parameter (NSZ=3413)
+  parameter (NZMAX=60*12000)
+  parameter (NFFT=8192)
+  real dd(NZMAX)
+  real*4 ss(322,NSZ)
+  real*4 savg(NSZ)
+  logical done(NSZ)
+  real a(5)
+  character decoded*22
+  save
+
+  if(newdat.ne.0) then
+     call timer('symsp65 ',0)
+     call symspec65(dd,npts,ss,nhsym,savg)    !Get normalized symbol spectra
+     call timer('symsp65 ',1)
+  endif
+
+  df=12000.0/NFFT                     !df = 12000.0/16384 = 0.732 Hz
+  ftol=15.0                           !Frequency tolerance (Hz)
+  mode65=1                            !Decoding JT65A only, for now.
+  done=.false.
+
+  do nqd=1,0,-1
+     if(nqd.eq.1) then                !Quick decode, at fQSO
+        fa=nfqso - ntol
+        fb=nfqso + ntol
+     else                             !Wideband decode at all freqs
+        fa=200
+        fb=nfa
+     endif
+     ia=max(51,nint(fa/df))
+     ib=min(NSZ-51,nint(fb/df))
+     
+     freq0=-999.
+     thresh0=1.5
+
+     do i=ia,ib                               !Search over freq range
+        if(savg(i).lt.thresh0 .or. done(i)) cycle
+        freq=i*df
+
+        call timer('ccf65   ',0)
+        call ccf65(ss(1,i),nhsym,savg(i),sync1,dt,flipk,syncshort,snr2,dt2)
+        call timer('ccf65   ',1)
+
+! ########################### Search for Shorthand Messages #################
+!  include 'shorthand1.f90'
+
+! ########################### Search for Normal Messages ###########
+        thresh1=1.0
+!  Use lower thresh1 at fQSO
+        if(nqd.eq.1 .and. ntol.le.100) thresh1=0.
+
+!  Is sync1 above threshold?
+        if(sync1.lt.thresh1) cycle
+
+!  Keep only the best candidate within ftol.
+        if(freq-freq0.lt.ftol) cycle
+
+        nflip=nint(flipk)
+        call timer('decod65a',0)
+        call decode65a(dd,npts,newdat,freq,nflip,mode65,sync2,a,dt,   &amp;
+             nbmkv,nhist,decoded)
+        call timer('decod65a',1)
+
+        if(decoded.ne.'                      ') then
+           ndecoded=1
+           nfreq=nint(freq+a(1))
+           ndrift=nint(2.0*a(2))
+           s2db=10.0*log10(sync2) - 32             !### empirical (was 40) ###
+           nsnr=nint(s2db)
+           if(nsnr.lt.-30) nsnr=-30
+           if(nsnr.gt.-1) nsnr=-1
+           write(*,1010) nutc,nsnr,dt,nfreq,decoded
+1010       format(i4.4,i4,f5.1,i5,1x,'#',1x,a22)
+           write(13,1012) nutc,nint(sync1),nsnr,dt,float(nfreq),ndrift,  &amp;
+                decoded,nbmkv
+1012       format(i4.4,i4,i5,f6.1,f8.0,i4,3x,a22,' JT65',i4)
+           freq0=freq
+           i2=min(NSZ,i+15)                !### ??? ###
+           done(i:i2)=.true.
+        endif
+     enddo
+     if(nagain.eq.1) exit
+  enddo
+
+  return
+end subroutine jt65a

Modified: branches/wsjtx/lib/jt9.f90
===================================================================
--- branches/wsjtx/lib/jt9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/jt9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -3,18 +3,12 @@
 ! Decoder for JT9.  Can run stand-alone, reading data from *.wav files;
 ! or as the back end of wsjt-x, with data placed in a shared memory region.
 
-  parameter (NTMAX=120)
-  parameter (NMAX=NTMAX*12000)        !Total sample intervals per 30 minutes
-  parameter (NDMAX=NTMAX*1500)        !Sample intervals at 1500 Hz rate
-  parameter (NSMAX=1365)              !Max length of saved spectra
+  include 'constants.f90'
   integer*4 ihdr(11)
   real*4 s(NSMAX)
-  real*4 ccfred(NSMAX)
-  logical*1 lstrong(0:1023)
   integer*2 id2
-  complex c0
   character*80 arg,infile
-  common/jt9com/ss(184,NSMAX),savg(NSMAX),c0(NDMAX),id2(NMAX),nutc,ndiskdat,  &amp;
+  common/jt9com/ss(184,NSMAX),savg(NSMAX),id2(NMAX),nutc,ndiskdat,       &amp;
        ntr,mousefqso,newdat,nfa,nfb,ntol,kin,nzhsym,nsynced,ndecoded
   common/tracer/limtrace,lu
 
@@ -39,11 +33,6 @@
 
   limtrace=0
   lu=12
-  nfa=1000
-  nfb=2000
-  mousefqso=1500
-  newdat=1
-  ndiskdat=1
 
   do ifile=ifile1,nargs
      call getarg(ifile,infile)
@@ -82,10 +71,6 @@
         call timer('jt9     ',0)
      endif
 
-!     do i=1,npts
-!        id2(i)=100.0*sin(6.283185307*1600.0*i/12000.0)
-!     enddo
-
      id2=0                               !??? Why is this necessary ???
 
      do iblk=1,npts/kstep
@@ -99,8 +84,7 @@
 ! Emit signal readyForFFT
            ingain=0
            call timer('symspec ',0)
-           call symspec(k,ntrperiod,nsps,ingain,pxdb,s,ccfred,df3,  &amp;
-                ihsym,nzap,slimit,lstrong,npts8)
+           call symspec(k,ntrperiod,nsps,ingain,slope,pxdb,s,df3,ihsym,npts8)
            call timer('symspec ',1)
            nhsym0=nhsym
            if(ihsym.ge.173) go to 10
@@ -109,7 +93,7 @@
 
 10   close(10)
      call fillcom(nutc0,ndepth)
-     call decoder(ss,c0,1)
+     call decoder(ss,id2)
   enddo
 
   call timer('jt9     ',1)

Modified: branches/wsjtx/lib/jt9a.f90
===================================================================
--- branches/wsjtx/lib/jt9a.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/jt9a.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -20,6 +20,7 @@
   open(12,file='timer.out',status='unknown')
 
   limtrace=0
+!  limtrace=-1                            !Disable all calls to timer()
   lu=12
   i1=attach_jt9()
 
@@ -44,12 +45,16 @@
      go to 999
   endif
   p_jt9=&gt;address_jt9()
+  call timer('jt9b    ',0)
   call jt9b(p_jt9,nbytes)
+  call timer('jt9b    ',1)
 
 100 inquire(file=trim(cwd)//'/.lock',exist=fileExists)
   if(fileExists) go to 10
   call sleep_msec(100)
   go to 100
 
-999 return
+999 call timer('jt9b    ',101)
+
+  return
 end subroutine jt9a

Modified: branches/wsjtx/lib/jt9b.f90
===================================================================
--- branches/wsjtx/lib/jt9b.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/jt9b.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,14 +1,12 @@
 subroutine jt9b(jt9com,nbytes)
 
-  parameter (NTMAX=120)
-  parameter (NSMAX=1365)
+  include 'constants.f90'
   integer*1 jt9com(0:nbytes-1)
   kss=0
   ksavg=kss + 4*184*NSMAX
-  kc0=ksavg + 4*NSMAX
-  kid2=kc0 + 2*4*NTMAX*1500
+  kid2=ksavg + 4*NSMAX
   knutc=kid2 + 2*NTMAX*12000
-  call jt9c(jt9com(kss),jt9com(ksavg),jt9com(kc0),jt9com(kid2),jt9com(knutc))
+  call jt9c(jt9com(kss),jt9com(ksavg),jt9com(kid2),jt9com(knutc))
 
   return
 end subroutine jt9b

Modified: branches/wsjtx/lib/jt9c.f90
===================================================================
--- branches/wsjtx/lib/jt9c.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/jt9c.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,21 +1,21 @@
-subroutine jt9c(ss,savg,c0,id2,nparams0)
+subroutine jt9c(ss,savg,id2,nparams0)
 
-  parameter (NSMAX=22000)
+  include 'constants.f90'
   real*4 ss(184*NSMAX),savg(NSMAX)
-  complex c0(1800*1500)
-  integer*2 id2(1800*12000)
+  integer*2 id2(NTMAX*12000)
 
   integer nparams0(21),nparams(21)
   character*20 datetime
   common/npar/nutc,ndiskdat,ntrperiod,nfqso,newdat,npts8,nfa,nfb,ntol,  &amp;
-       kin,nzhsym,nsave,nagain,ndepth,nrxlog,nfsample,datetime
+       kin,nzhsym,nsave,nagain,ndepth,ntxmode,nmode,datetime
   equivalence (nparams,nutc)
 
   nutc=id2(1)+int(savg(1))             !Silence compiler warning
   nparams=nparams0                     !Copy parameters into common/npar/
 
   call flush(6)
-  if(sum(nparams).ne.0) call decoder(ss,c0,0)
+!  if(sum(nparams).ne.0) call decoder(ss,id2)
+  call decoder(ss,id2)
 
   return
 end subroutine jt9c

Deleted: branches/wsjtx/lib/jt9test.f90
===================================================================
--- branches/wsjtx/lib/jt9test.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/jt9test.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,183 +0,0 @@
-program jt9test
-
-! Decoder for JT9.  Can run stand-alone, reading data from *.wav files;
-! or as the back end of wsjt-x, with data placed in a shared memory region.
-
-! NB: For unknown reason, ***MUST*** be compiled by g95 with -O0 !!!
-
-  parameter (NTMAX=120)
-  parameter (NMAX=NTMAX*12000)        !Total sample intervals per 30 minutes
-  parameter (NDMAX=NTMAX*1500)        !Sample intervals at 1500 Hz rate
-  parameter (NSMAX=1365)              !Max length of saved spectra
-  integer*4 ihdr(11)
-  real*4 s(NSMAX)
-  real*4 ccfred(NSMAX)
-  logical*1 lstrong(0:1023)
-  integer*1 i1SoftSymbols(207)
-  character*22 msg
-  character*33 line
-  character*80 arg,infile
-  integer*2 id2
-  complex c0
-  complex c1(0:2700000)
-  common/jt9com/ss(184,NSMAX),savg(NSMAX),c0(NDMAX),id2(NMAX),nutc,ndiskdat,  &amp;
-       ntr,mousefqso,newdat,nfa,nfb,ntol,kin,nzhsym,nsynced,ndecoded
-  common/tracer/limtrace,lu
-
-  nargs=iargc()
-  if(nargs.lt.1) then
-     print*,'Usage: jt9 TRperiod file1 [file2 ...]'
-     print*,'       Reads data from *.wav files.'
-     print*,''
-     print*,'       jt9 -s'
-     print*,'       Gets data from shared memory region.'
-     go to 999
-  endif
-  call getarg(1,arg)
-  if(arg(1:2).eq.'-s') then
-!     call jt9a
-!    call ftnquit
-     go to 999
-  endif
-  read(arg,*) ntrperiod
-
-  ifile1=2
-
-  limtrace=0
-  lu=12
-  nfa=1000
-  nfb=2000
-  ntol=500
-  nfqso=1500
-  newdat=1
-  nb=0
-  nbslider=100
-  limit=20000
-  ndiskdat=1
-
-  do ifile=ifile1,nargs
-     call getarg(ifile,infile)
-     open(10,file=infile,access='stream',status='old',err=998)
-     read(10) ihdr
-     i1=index(infile,'.wav')
-     read(infile(i1-4:i1-1),*,err=1) nutc0
-     go to 2
-1    nutc0=0
-2    nsps=0
-     if(ntrperiod.eq.1)  then
-        nsps=6912
-        nzhsym=181
-     else if(ntrperiod.eq.2)  then
-        nsps=15360
-        nzhsym=178
-     else if(ntrperiod.eq.5)  then
-        nsps=40960
-        nzhsym=172
-     else if(ntrperiod.eq.10) then
-        nsps=82944
-        nzhsym=171
-     else if(ntrperiod.eq.30) then
-        nsps=252000
-        nzhsym=167
-     endif
-     if(nsps.eq.0) stop 'Error: bad TRperiod'
-
-     kstep=nsps/2
-     tstep=kstep/12000.0
-     k=0
-     nhsym0=-999
-     npts=(60*ntrperiod-6)*12000
-     if(ifile.eq.ifile1) then
-        open(12,file='timer.out',status='unknown')
-        call timer('jt9     ',0)
-     endif
-
-!     do i=1,npts
-!        id2(i)=100.0*sin(6.283185307*1600.0*i/12000.0)
-!     enddo
-
-     do iblk=1,npts/kstep
-        k=iblk*kstep
-        call timer('read_wav',0)
-        read(10,end=10) id2(k-kstep+1:k)
-        call timer('read_wav',1)
-
-        nhsym=(k-2048)/kstep
-        if(nhsym.ge.1 .and. nhsym.ne.nhsym0) then
-! Emit signal readyForFFT
-           ingain=0
-           call timer('symspec ',0)
-           call symspec(k,ntrperiod,nsps,ingain,nb,nbslider,pxdb,   &amp;
-                s,ccfred,df3,ihsym,nzap,slimit,lstrong,npts8)
-           call timer('symspec ',1)
-           nhsym0=nhsym
-           if(ihsym.ge.184) go to 10
-        endif
-     enddo
-10   close(10)
-
-     nsps8=nsps/8
-     iz=1000.0/df3
-     nutc=nutc0
-
-     call timer('sync9   ',0)
-     call sync9(ss,nzhsym,tstep,df3,ccfred,ia,ib,ipk) !Get sync, freq
-     call timer('sync9   ',1)
-
-     fgood=0.
-     df8=1500.0/(nsps/8)
-     sbest=0.
-     do i=ia,ib
-        f=(i-1)*df3
-        if((i.eq.ipk .or. ccfred(i).ge.3.0) .and. f.gt.fgood+10.0*df8) then
-
-           call timer('test9   ',0)
-           fpk=1000.0 + df3*(i-1)
-           c1(0:npts8-1)=conjg(c0(1:npts8))
-           call test9(c1,npts8,nsps8,fpk,syncpk,snrdb,xdt,freq,drift,   &amp;
-                i1SoftSymbols)
-           call timer('test9   ',1)
-
-           call timer('decode9 ',0)
-           call decode9(i1SoftSymbols,limit,nlim,msg)
-           call timer('decode9 ',1)
-           snr=snrdb
-           sync=syncpk - 2.0
-           if(sync.lt.0.0) sync=0.0
-           nsync=sync
-           if(nsync.gt.10) nsync=10
-           nsnr=nint(snr)
-           width=0.0
-
-           if(sync.gt.sbest .and. fgood.eq.0.0) then
-              sbest=sync
-              write(line,1010) nutc,nsync,nsnr,xdt,1000.0+fpk,width
-              if(nsync.gt.0) nsynced=1
-           endif
-
-           if(msg.ne.'                      ') then
-              write(*,1010) nutc,nsync,nsnr,xdt,freq,drift,msg
-1010          format(i4.4,i4,i5,f6.1,f8.2,f6.2,3x,a22)
-              fgood=f
-              nsynced=1
-              ndecoded=1
-           endif
-        endif
-     enddo
-
-     if(fgood.eq.0.0) then
-        write(*,1020) line
-1020    format(a33)
-     endif
-
-  enddo
-
-  call timer('jt9     ',1)
-  call timer('jt9     ',101)
-!  call ftnquit
-  go to 999
-
-998 print*,'Cannot open file:'
-  print*,infile
-
-999 end program jt9test

Copied: branches/wsjtx/lib/move.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/move.f90)
===================================================================
--- branches/wsjtx/lib/move.f90	                        (rev 0)
+++ branches/wsjtx/lib/move.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,7 @@
+subroutine move(x,y,n)
+  real x(n),y(n)
+  do i=1,n
+     y(i)=x(i)
+  enddo
+  return
+end subroutine move

Deleted: branches/wsjtx/lib/peakdf9.f90
===================================================================
--- branches/wsjtx/lib/peakdf9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/peakdf9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,32 +0,0 @@
-subroutine peakdf9(c0,npts8,nsps8,istart,foffset,idfpk)
-
-  complex c0(0:npts8-1)
-  complex zsum
-  include 'jt9sync.f90'
-
-  twopi=8.0*atan(1.0)
-  df=1500.0/nsps8
-  smax=0.
-  do idf=-5,5
-     f0=foffset + 0.1*df*idf
-     dphi=twopi*f0/1500.0
-     sum=0.
-     do j=1,16
-        i1=(ii(j)-1)*nsps8 + istart
-        phi=0.
-        zsum=0.
-        do i=i1,i1+nsps8-1
-           if(i.lt.0 .or. i.gt.npts8-1) cycle
-           phi=phi + dphi
-           zsum=zsum + c0(i) * cmplx(cos(phi),-sin(phi))
-        enddo
-        sum=sum + real(zsum)**2 + aimag(zsum)**2
-     enddo
-     if(sum.gt.smax) then
-        idfpk=idf
-        smax=sum
-     endif
-  enddo
-
-  return
-end subroutine peakdf9

Modified: branches/wsjtx/lib/peakdt9.f90
===================================================================
--- branches/wsjtx/lib/peakdt9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/peakdt9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -9,11 +9,8 @@
   p=0.
   i0=5*nspsd
   do i=0,nz2-1
-     z=1.e-3*sum(c2(max(i-(nspsd-1),0):i))       !Integrate
-     p(i0+i)=real(z)**2 + aimag(z)**2      !Symbol power at freq=0
-! Option here for coherent processing ?
-!     write(53,3301) i,z,p(i0+i),atan2(aimag(z),real(z))
-!3301 format(i6,4e12.3)
+     z=1.e-3*sum(c2(max(i-(nspsd-1),0):i))
+     p(i0+i)=real(z)**2 + aimag(z)**2      !Integrated symbol power at freq=0
   enddo
 
   call getlags(nsps8,lag0,lag1,lag2)
@@ -35,8 +32,6 @@
      enddo
      ss=(sum1/16.0)/(sum0/69.0) - 1.0
      xdt=(lag-lag0)*dtlag
-!     write(52,3001) lag,xdt,ss
-!3001 format(i5,2f12.3)
      if(ss.gt.smax) then
         smax=ss
         lagpk=lag

Modified: branches/wsjtx/lib/ptt_unix.c
===================================================================
--- branches/wsjtx/lib/ptt_unix.c	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/ptt_unix.c	2013-07-08 13:17:22 UTC (rev 3462)
@@ -68,7 +68,7 @@
 /* parport functions */
 
 int dev_is_parport(int fd);
-int ptt_parallel(int fd, int *ntx, int *iptt);
+int ptt_parallel(int fd, int ntx, int *iptt);
 int ptt_serial(int fd, int *ntx, int *iptt);
 
 int fd=-1;		/* Used for both serial and parallel */
@@ -91,53 +91,42 @@
 #define STATE_PORT_OPEN_PARALLEL	1
 #define STATE_PORT_OPEN_SERIAL		2
 
-//int ptt_(int *unused, char *ptt_port, int *ntx, int *iptt)
-int ptt_(int *unused, int *ntx, int *iptt)
+//int ptt_(int *unused, int *ntx, int *iptt)
+int ptt_(int nport, int ntx, int *iptt, int *nopen)
 {
   static int state=0;
   char *p;
+  char ptt_port[]=&quot;/dev/ttyUSB0&quot;;
+  fflush(stdout);
 
-// ### Temporary:
-  char* ptt_port;
-  if(*unused != -99) {
-    *iptt=*ntx;
-    return 0;
-  }
-// ###
-
-  /* In the very unlikely event of a NULL pointer, just return.
-   * Yes, I realise this should not be possible in WSJT.
-   */
+  // In the very unlikely event of a NULL pointer, just return.
   if (ptt_port == NULL) {
-    *iptt = *ntx;
+    *iptt = ntx;
     return (0);
   }
-    
   switch (state) {
   case STATE_PORT_CLOSED:
-
-     /* Remove trailing ' ' */
+ 
+  // Remove trailing ' '
     if ((p = strchr(ptt_port, ' ')) != NULL)
       *p = '\0';
 
-    /* If all that is left is a '\0' then also just return */
+  //  If all that is left is a '\0' then also just return
     if (*ptt_port == '\0') {
-      *iptt = *ntx;
+      *iptt = ntx;
       return(0);
     }
-
     if ((fd = open(ptt_port, O_RDWR|O_NONBLOCK)) &lt; 0) {
 	fprintf(stderr, &quot;Can't open %s.\n&quot;, ptt_port);
 	return (1);
     }
-
     if (dev_is_parport(fd)) {
       state = STATE_PORT_OPEN_PARALLEL;
       lp_reset(fd);
       ptt_parallel(fd, ntx, iptt);
     } else {
       state = STATE_PORT_OPEN_SERIAL;
-      ptt_serial(fd, ntx, iptt);
+      ptt_serial(fd, &amp;ntx, iptt);
     }
     break;
 
@@ -146,7 +135,7 @@
     break;
 
   case STATE_PORT_OPEN_SERIAL:
-    ptt_serial(fd, ntx, iptt);
+    ptt_serial(fd, &amp;ntx, iptt);
     break;
 
   default:
@@ -155,9 +144,11 @@
     state = STATE_PORT_CLOSED;
     break;
   }
+  *iptt=ntx;
   return(0);
 }
 
+
 /*
  * ptt_serial
  *
@@ -180,6 +171,8 @@
     ioctl(fd, TIOCMBIC, &amp;control);
     *iptt = 0;
   }
+  printf(&quot;ptt_serial: %d %d&quot;,*ntx,*iptt);
+  fflush(stdout);
   return(0);
 }
 
@@ -379,10 +372,9 @@
  * iptt		- pointer to fortran command status on or off
  */
 
-int
-ptt_parallel(int fd, int *ntx, int *iptt)
+int ptt_parallel(int fd, int ntx, int *iptt)
 {
-  if(*ntx) {
+  if(ntx) {
     lp_ptt(fd, 1);
     *iptt=1;
   }  else {

Deleted: branches/wsjtx/lib/redsync.f90
===================================================================
--- branches/wsjtx/lib/redsync.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/redsync.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,44 +0,0 @@
-subroutine redsync(ss,ntrperiod,ihsym,iz,red)
-
-! Compute the red curve (approx JT9 sync amplitude).
-! NB: red() is used for real-time display only.  A better ccfred() is
-! computed during the decode procedure.
-
-  Parameter (NSMAX=1365)
-  real*4 ss(184,NSMAX)
-  real*4 red(NSMAX)
-  include 'jt9sync.f90'
-
-  lagmax=9
-  if(ntrperiod.eq.2) lagmax=5
-  if(ntrperiod.eq.5) lagmax=2
-  if(ntrperiod.eq.10) lagmax=1
-  if(ntrperiod.eq.30) lagmax=1
-
-  do i=1,iz                                !Loop over frequency range
-     smax=0.
-     do lag=-lagmax,lagmax                 !Loop over DT lags
-        sig=0.
-        do j=1,16
-           k=ii2(j)+lag
-           if(k.ge.5 .and. k.le.ihsym) then
-              sig=sig + ss(k,i) - 0.5*(ss(k-2,i)+ss(k-4,i))
-           endif
-        enddo
-        if(sig.gt.smax) smax=sig
-     enddo
-     red(i)=smax
-  enddo
-  call pctile(red,iz,40,xmed)
-  if(xmed.le.0.0) xmed=1.0
-  red=red/xmed
-  smax=0.
-  do i=1,iz
-     red(i)=0.2*db(red(i))
-     smax=max(smax,red(i))
-  enddo
-  h=10.
-  if(smax.gt.h) red=red*(h/smax)
-
-  return
-end subroutine redsync

Copied: branches/wsjtx/lib/s3avg.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/s3avg.f90)
===================================================================
--- branches/wsjtx/lib/s3avg.f90	                        (rev 0)
+++ branches/wsjtx/lib/s3avg.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,60 @@
+subroutine s3avg(nsave,mode65,nutc,nhz,xdt,npol,ntol,s3,nsum,nkv,decoded)
+
+! Save the current synchronized spectra, s3(64,63), for possible
+! decoding of average.
+
+  real s3(64,63)                        !Synchronized spectra for 63 symbols
+  real s3a(64,63,64)                    !Saved spectra
+  real s3b(64,63)                       !Average spectra
+  integer iutc(64),ihz(64),ipol(64)
+  real dt(64)
+  character*22 decoded
+  logical ltext,first
+  data first/.true./
+  save
+
+  if(first) then
+     iutc=-1
+     ihz=0
+     ipol=0
+     first=.false.
+     ihzdiff=min(100,ntol)
+     dtdiff=0.2
+  endif
+
+  do i=1,64
+     if(nutc.eq.iutc(i) .and. abs(nhz-ihz(i)).lt.ihzdiff) then
+        nsave=mod(nsave-1+64,64)+1
+        go to 10
+     endif
+  enddo
+  
+  iutc(nsave)=nutc                          !Save UTC
+  ihz(nsave)=nhz                            !Save freq in Hz
+  ipol(nsave)=npol                          !Save pol
+  dt(nsave)=xdt                             !Save DT
+  s3a(1:64,1:63,nsave)=s3                   !Save the spectra
+
+10 s3b=0.
+  do i=1,64                                 !Accumulate avg spectra
+     if(iutc(i).lt.0) cycle
+     if(mod(iutc(i),2).ne.mod(nutc,2)) cycle !Use only same sequence
+     if(abs(nhz-ihz(i)).gt.ihzdiff) cycle   !Freq must match
+     if(abs(xdt-dt(i)).gt.dtdiff) cycle     !DT must match
+     s3b=s3b + s3a(1:64,1:63,i)
+     nsum=nsum+1
+  enddo
+ 
+  decoded='                      '
+  if(nsum.ge.2) then                        !Try decoding the sverage
+     nadd=mode65*nsum
+     call extract(s3b,nadd,ncount,nhist,decoded,ltext)     !Extract the message
+     nkv=nsum
+     if(ncount.lt.0) then 
+        nkv=0
+        decoded='                      '
+     endif
+  endif
+
+  return
+end subroutine s3avg

Copied: branches/wsjtx/lib/setup65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/setup65.f90)
===================================================================
--- branches/wsjtx/lib/setup65.f90	                        (rev 0)
+++ branches/wsjtx/lib/setup65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,96 @@
+subroutine setup65
+
+! Defines arrays related to the JT65 pseudo-random synchronizing pattern.
+! Executed at program start.
+
+  integer nprc(126)
+  common/prcom/pr(126),mdat(126),mref(126,2),mdat2(126),mref2(126,2)
+
+! JT65
+  data nprc/                                   &amp;
+      1,0,0,1,1,0,0,0,1,1,1,1,1,1,0,1,0,1,0,0, &amp;
+      0,1,0,1,1,0,0,1,0,0,0,1,1,1,0,0,1,1,1,1, &amp;
+      0,1,1,0,1,1,1,1,0,0,0,1,1,0,1,0,1,0,1,1, &amp;
+      0,0,1,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,1, &amp;
+      1,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,1, &amp;
+      0,1,0,1,0,0,1,1,0,0,1,0,0,1,0,0,0,0,1,1, &amp;
+      1,1,1,1,1,1/
+  data mr2/0/                !Silence compiler warning
+
+! Put the appropriate pseudo-random sequence into pr
+  nsym=126
+  do i=1,nsym
+     pr(i)=2*nprc(i)-1
+  enddo
+
+! Determine locations of data and reference symbols
+  k=0
+  mr1=0
+  do i=1,nsym
+     if(pr(i).lt.0.0) then
+        k=k+1
+        mdat(k)=i
+     else
+        mr2=i
+        if(mr1.eq.0) mr1=i
+     endif
+  enddo
+  nsig=k
+
+! Determine the reference symbols for each data symbol.
+  do k=1,nsig
+     m=mdat(k)
+     mref(k,1)=mr1
+     do n=1,10                     !Get ref symbol before data
+        if((m-n).gt.0) then
+           if (pr(m-n).gt.0.0) go to 10
+        endif
+     enddo
+     go to 12
+10   mref(k,1)=m-n
+12   mref(k,2)=mr2
+     do n=1,10                     !Get ref symbol after data
+        if((m+n).le.nsym) then
+           if (pr(m+n).gt.0.0) go to 20
+        endif
+     enddo
+     cycle
+20   mref(k,2)=m+n
+  enddo
+
+! Now do it all again, using opposite logic on pr(i)
+  k=0
+  mr1=0
+  do i=1,nsym
+     if(pr(i).gt.0.0) then
+        k=k+1
+        mdat2(k)=i
+     else
+        mr2=i
+        if(mr1.eq.0) mr1=i
+     endif
+  enddo
+  nsig=k
+
+  do k=1,nsig
+     m=mdat2(k)
+     mref2(k,1)=mr1
+     do n=1,10
+        if((m-n).gt.0) then
+           if (pr(m-n).lt.0.0) go to 110
+        endif
+     enddo
+     go to 112
+110  mref2(k,1)=m-n
+112  mref2(k,2)=mr2
+     do n=1,10
+        if((m+n).le.nsym) then
+           if (pr(m+n).lt.0.0) go to 120
+        endif
+     enddo
+     cycle
+120  mref2(k,2)=m+n
+  enddo
+
+  return
+end subroutine setup65

Copied: branches/wsjtx/lib/smo121.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/smo121.f90)
===================================================================
--- branches/wsjtx/lib/smo121.f90	                        (rev 0)
+++ branches/wsjtx/lib/smo121.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,13 @@
+subroutine smo121(x,nz)
+
+  real x(nz)
+
+  x0=x(1)
+  do i=2,nz-1
+     x1=x(i)
+     x(i)=0.5*x(i) + 0.25*(x0+x(i+1))
+     x0=x1
+  enddo
+
+  return
+end subroutine smo121

Modified: branches/wsjtx/lib/softsym.f90
===================================================================
--- branches/wsjtx/lib/softsym.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/softsym.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,9 +1,8 @@
-subroutine softsym(c0,npts8,nsps8,newdat,fpk,syncpk,snrdb,xdt,freq,drift,   &amp;
-     schk,i1SoftSymbols)
+subroutine softsym(id2,npts8,nsps8,newdat,fpk,syncpk,snrdb,xdt,        &amp;
+     freq,drift,schk,i1SoftSymbols)
 
 ! Compute the soft symbols
 
-  complex c0(0:npts8-1)
   complex c2(0:4096-1)
   complex c3(0:4096-1)
   complex c5(0:4096-1)
@@ -16,7 +15,7 @@
   ndown=nsps8/nspsd
 
 ! Mix, low-pass filter, and downsample to 16 samples per symbol
-  call downsam9(c0,npts8,nsps8,newdat,nspsd,fpk,c2,nz2)
+  call downsam9(id2,npts8,nsps8,newdat,nspsd,fpk,c2,nz2)
 
   call peakdt9(c2,nz2,nsps8,nspsd,c3,nz3,xdt)  !Find DT
 
@@ -26,7 +25,7 @@
   freq=fpk - a(1)
   drift=-2.0*a(2)
 
-  call twkfreq(c3,c5,nz3,fsample,a)   !Correct for deltaF, fDot, fDDot
+  call twkfreq(c3,c5,nz3,fsample,a)   !Correct for delta f, f1, f2 ==&gt; a(1:3)
 
 ! Compute soft symbols (in scrambled order)
   call symspec2(c5,nz3,nsps8,nspsd,fsample,freq,drift,snrdb,schk,      &amp;

Modified: branches/wsjtx/lib/symspec.f90
===================================================================
--- branches/wsjtx/lib/symspec.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/symspec.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,4 +1,4 @@
-subroutine symspec(k,ntrperiod,nsps,ingain,pxdb,s,red,df3,ihsym,npts8)
+subroutine symspec(k,ntrperiod,nsps,ingain,slope,pxdb,s,df3,ihsym,npts8)
 
 ! Input:
 !  k         pointer to the most recent new data
@@ -10,111 +10,89 @@
 
 ! Output:
 !  pxdb      power (0-60 dB)
-!  s()       spectrum for waterfall display
-!  red()     first cut at JT9 sync amplitude
+!  s()       current spectrum for waterfall display
 !  ihsym     index number of this half-symbol (1-184)
 
-  parameter (NTMAX=120)
-  parameter (NMAX=NTMAX*12000)        !Total sample intervals per 30 minutes
-  parameter (NDMAX=NTMAX*1500)        !Sample intervals at 1500 Hz rate
-  parameter (NSMAX=1365)              !Max length of saved spectra
-  parameter (NFFT1=1024)
-  parameter (NFFT2=1024,NFFT2A=NFFT2/8)
-  parameter (MAXFFT3=32768)
-  real*4 s(NSMAX),w3(MAXFFT3)
-  real*4 x1(NFFT1)
-  real*4 x2(NFFT1+105)
+! jt9com
+!  ss()      JT9 symbol spectra at half-symbol steps
+!  savg()    average spectra for waterfall display
+
+  include 'constants.f90'
+  real*4 w3(MAXFFT3)
+  real*4 s(NSMAX)
+  real*4 scale(NSMAX)
   real*4 ssum(NSMAX)
-  real*4 red(NSMAX)
-  complex cx(0:MAXFFT3-1)
+  real*4 xc(0:MAXFFT3-1)
+  complex cx(0:MAXFFT3/2)
   integer*2 id2
-  complex c0
-  common/jt9com/ss(184,NSMAX),savg(NSMAX),c0(NDMAX),id2(NMAX),nutc,ndiskdat, &amp;
+  common/jt9com/ss(184,NSMAX),savg(NSMAX),id2(NMAX),nutc,ndiskdat,         &amp;
        ntr,mousefqso,newdat,nfa,nfb,ntol,kin,nzhsym,nsynced,ndecoded
-  data rms/999.0/,k0/99999999/,ntrperiod0/0/,nfft3z/0/
+  data rms/999.0/,k0/99999999/,nfft3z/0/,slope0/0.0/
+  equivalence (xc,cx)
   save
 
-  if(ntrperiod.eq.1)  nfft3=2048
-  if(ntrperiod.eq.2)  nfft3=2048
-  if(ntrperiod.eq.5)  nfft3=6144
-  if(ntrperiod.eq.10) nfft3=12288
-  if(ntrperiod.eq.30) nfft3=32768
-
-  jstep=nsps/16                                !Step size = half-symbol in c0()
-  if(k.gt.NMAX) go to 999
-  if(k.lt.nfft3) then
+  if(ntrperiod.eq.-999) stop                   !Silence compiler warning
+  nfft3=16384                                  !df=12000.0/16384 = 0.732422
+  jstep=nsps/2                                 !Step size = half-symbol in id2()
+  if(k.gt.NMAX) go to 900
+  if(k.lt.2048) then                !(2048 was nfft3)  (Any need for this ???)
      ihsym=0
-     go to 999                                 !Wait for enough samples to start
+     go to 900                                 !Wait for enough samples to start
   endif
-  if(nfft3.ne.nfft3z) then                     !New nfft3, compute window
+
+  if(nfft3.ne.nfft3z .or. slope.ne.slope0) then    !New nfft3, compute window
      pi=4.0*atan(1.0)
-     if(ntrperiod.eq.1) then                 !Compute window for nfft3 spectrun
-        do i=1,nfft3
-           xx=float(i-1)/(nfft3-1)
-           w3(i)=0.40897 -0.5*cos(2.0*pi*xx) + 0.09103*cos(4.0*pi*xx)
-!           w3(i)=0.355768 - 0.487306*cos(2.0*pi*xx) + 0.144232*cos(4.0*pi*xx) &amp;
-!                - 0.012604*cos(6.0*pi*xx)
-        enddo
-     else
-        do i=1,nfft3
-           w3(i)=2.0*(sin(i*pi/nfft3))**2         !Window for nfft3 spectrum
-        enddo
-     endif
+     do i=1,nfft3
+        w3(i)=2.0*(sin(i*pi/nfft3))**2         !Window for nfft3 spectrum
+     enddo
      nfft3z=nfft3
+     nh=NSMAX/2
+     do i=1,NSMAX
+        x=slope*float(i)/nh - 1.0 + 2.6
+        scale(i)=10.0**x
+     enddo
+     slope0=slope
   endif
 
   if(k.lt.k0) then                             !Start a new data block
      ja=0
      ssum=0.
      ihsym=0
-     k1=0
-     k8=0
-     x2=0.
-     if(ndiskdat.eq.0) then
-        id2(k+1:)=0
-        c0=0.          !This is necessary to prevent &quot;ghosts&quot;.  Not sure why.
-     endif
+     if(ndiskdat.eq.0) id2(k+1:)=0   !Needed to prevent &quot;ghosts&quot;. Not sure why.
   endif
-  k0=k
-  kstep1=NFFT1
-  fac=2.0/NFFT1
-  nblks=(k-k1)/kstep1
   gain=10.0**(0.05*ingain)
   sq=0.
-  do nblk=1,nblks
-     do i=1,NFFT1
-        x1(i)=gain*id2(k1+i)
-     enddo
-     sq=sq + dot_product(x1,x1)
-! Mix at 1500 Hz, lowpass at +/-750 Hz, and downsample to 1500 Hz complex.
-     x2(106:105+kstep1)=x1(1:kstep1)
-     call fil3(x2,kstep1+105,c0(k8+1),n2)
-     x2(1:105)=x1(kstep1-104:kstep1)   !Save 105 trailing samples
-     k1=k1+kstep1
-     k8=k8+kstep1/8
+  do i=k0+1,k
+     x1=id2(i)
+     sq=sq + x1*x1
   enddo
-
-  npts8=k8
-  ja=ja+jstep                         !Index of first sample
-  rms=sqrt(sq/(nblks*NFFT1))
+  sq=sq * gain**2
+  rms=sqrt(sq/(k-k0))
   pxdb=0.
   if(rms.gt.0.0) pxdb=20.0*log10(rms)
   if(pxdb.gt.60.0) pxdb=60.0
 
+
+  k0=k
+  ja=ja+jstep                         !Index of first sample
+
+  fac0=0.1
   do i=0,nfft3-1                      !Copy data into cx
      j=ja+i-(nfft3-1)
-     cx(i)=0.
-     if(j.ge.1 .and. j.le.NDMAX) cx(i)=c0(j)
+     xc(i)=0.
+     if(j.ge.1) xc(i)=fac0*id2(j)
   enddo
 
   if(ihsym.lt.184) ihsym=ihsym+1
-  cx(0:nfft3-1)=w3(1:nfft3)*cx(0:nfft3-1)  !Apply window w3
-  call four2a(cx,nfft3,1,1,1)              !Third FFT (forward)
 
+  xc(0:nfft3-1)=w3(1:nfft3)*xc(0:nfft3-1)    !Apply window w3
+  call four2a(xc,nfft3,1,-1,0)               !Real-to-complex FFT
+
   n=min(184,ihsym)
-  df3=1500.0/nfft3                    !JT9-a: 0.732 Hz = 0.42 * tone spacing
-  i0=nint(-500.0/df3)
-  iz=min(NSMAX,nint(1000.0/df3))
+  df3=12000.0/nfft3                   !JT9-1: 0.732 Hz = 0.42 * tone spacing
+!  i0=nint(1000.0/df3)
+  i0=0
+  iz=min(NSMAX,nint(5000.0/df3))
   fac=(1.0/nfft3)**2
   do i=1,iz
      j=i0+i-1
@@ -125,18 +103,11 @@
      s(i)=sx
   enddo
 
-999 continue
+!  s=0.05*s/ref
+  s=scale*s
+  savg=scale*ssum/ihsym
 
-  fac00=0.35
-  npct=20
-  call pctile(s,iz,npct,xmed0)
-  fac0=fac00/max(xmed0,0.006)
-  s(1:iz)=fac0*s(1:iz)
-  call pctile(ssum,iz,npct,xmed1)
-  fac1=fac00/max(xmed1,0.006*ihsym)
-  savg(1:iz)=fac1*ssum(1:iz)
-!  savg(iz+1:iz+20)=savg(iz)
-  call redsync(ss,ntrperiod,ihsym,iz,red)
+900 npts8=k/8
 
   return
 end subroutine symspec

Copied: branches/wsjtx/lib/symspec65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/symspec65.f90)
===================================================================
--- branches/wsjtx/lib/symspec65.f90	                        (rev 0)
+++ branches/wsjtx/lib/symspec65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,47 @@
+subroutine symspec65(dd,npts,ss,nhsym,savg)
+
+! Compute JT65 symbol spectra at half-symbol steps
+
+  parameter (NFFT=8192)
+  parameter (NSZ=3413)                         !NFFT*5000/12000
+  parameter (MAXHSYM=322)
+  real*8 hstep
+  real*4 dd(npts)
+  real*4 ss(MAXHSYM,NSZ)
+  real*4 savg(NSZ)
+  real*4 x(NFFT)
+  complex c(0:NFFT/2)
+  common/refspec/dfref,ref(NSZ)
+  equivalence (x,c)
+  save /refspec/
+
+  hstep=2048.d0*12000.d0/11025.d0              !half-symbol = 2229.116 samples
+  nsps=nint(2*hstep)
+  df=12000.0/NFFT
+  nhsym=npts/hstep - 1.0
+  savg=0.
+  fac1=1.e-3
+
+  do j=1,nhsym
+     i0=(j-1)*hstep
+     x(1:nsps)=fac1*dd(i0+1:i0+nsps)
+     x(nsps+1:)=0.
+     call four2a(c,NFFT,1,-1,0)                !r2c forward FFT
+     do i=1,NSZ
+        s=real(c(i))**2 + aimag(c(i))**2
+        ss(j,i)=s
+        savg(i)=savg(i)+s
+     enddo
+  enddo
+  savg=savg/nhsym
+
+  call flat65(ss,nhsym,MAXHSYM,NSZ,ref)  !Flatten the 2d spectrum, saving
+  dfref=df                               ! the reference spectrum ref()
+
+  savg=savg/ref
+  do j=1,nhsym
+     ss(j,1:NSZ)=ss(j,1:NSZ)/ref
+  enddo
+
+  return
+end subroutine symspec65

Modified: branches/wsjtx/lib/sync9.f90
===================================================================
--- branches/wsjtx/lib/sync9.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/sync9.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,6 +1,7 @@
 subroutine sync9(ss,nzhsym,lag1,lag2,ia,ib,ccfred,red2,ipkbest)
 
-  parameter (NSMAX=1365)             !Max length of saved spectra
+  include 'constants.f90'
+!  parameter (NSMAX=1365)             !Max length of saved spectra
   real ss(184,NSMAX)
   real ss1(184)
   real ccfred(NSMAX)

Modified: branches/wsjtx/lib/timer.f90
===================================================================
--- branches/wsjtx/lib/timer.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/timer.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -7,7 +7,7 @@
   character*8 dname,name(50),space,ename
   character*16 sname
   logical on(50)
-  real ut(50),ut0(50),dut(50),tt(2)
+  real ut(50),ut0(50),dut(50)
   integer ncall(50),nlevel(50),nparent(50)
   integer onlevel(0:10)
   common/tracer/ limtrace,lu
@@ -36,7 +36,8 @@
      if(on(n)) print*,'Error in timer: ',dname,' already on.'
      level=level+1                                !Increment the level
      on(n)=.true.
-     ut0(n)=etime(tt)
+     call system_clock(icount,irate)
+     ut0(n)=float(icount)/irate
      ncall(n)=ncall(n)+1
      if(ncall(n).gt.1.and.nlevel(n).ne.level) then
         nlevel(n)=-1
@@ -49,7 +50,8 @@
   else if(k.eq.1) then        !Get stop times and accumulate sums. (k=1)
      if(on(n)) then
         on(n)=.false.
-        ut1=etime(tt)
+        call system_clock(icount,irate)
+        ut1=float(icount)/irate
         ut(n)=ut(n)+ut1-ut0(n)
      endif
      level=level-1

Modified: branches/wsjtx/lib/twkfreq.f90
===================================================================
--- branches/wsjtx/lib/twkfreq.f90	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/lib/twkfreq.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -13,13 +13,13 @@
   s=2.0/npts
   do i=1,npts
      x=s*(i-x0)
-!     if(mod(i,100).eq.1) then
+     if(mod(i,100).eq.1) then
         p2=1.5*x*x - 0.5
 !          p3=2.5*(x**3) - 1.5*x
 !          p4=4.375*(x**4) - 3.75*(x**2) + 0.375
         dphi=(a(1) + x*a(2) + p2*a(3)) * (twopi/fsample)
         wstep=cmplx(cos(dphi),sin(dphi))
-!     endif
+     endif
      w=w*wstep
      c4(i)=w*c3(i)
   enddo

Copied: branches/wsjtx/lib/twkfreq65.f90 (from rev 3461, branches/wsjtx_k1jt_p1/lib/twkfreq65.f90)
===================================================================
--- branches/wsjtx/lib/twkfreq65.f90	                        (rev 0)
+++ branches/wsjtx/lib/twkfreq65.f90	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,25 @@
+subroutine twkfreq65(c4aa,n5,a)
+
+  complex c4aa(n5)
+  real a(5)
+  complex w,wstep
+  data twopi/6.283185307/
+
+! Apply AFC corrections to the c4aa data
+  w=1.0
+  wstep=1.0
+  x0=0.5*(n5+1)
+  s=2.0/n5
+  do i=1,n5
+     x=s*(i-x0)
+     if(mod(i,100).eq.1) then
+        p2=1.5*x*x - 0.5
+        dphi=(a(1) + x*a(2) + p2*a(3)) * (twopi/1378.125)
+        wstep=cmplx(cos(dphi),sin(dphi))
+     endif
+     w=w*wstep
+     c4aa(i)=w*c4aa(i)
+  enddo
+
+  return
+end subroutine twkfreq65

Copied: branches/wsjtx/lib/wrapkarn.c (from rev 3461, branches/wsjtx_k1jt_p1/lib/wrapkarn.c)
===================================================================
--- branches/wsjtx/lib/wrapkarn.c	                        (rev 0)
+++ branches/wsjtx/lib/wrapkarn.c	2013-07-08 13:17:22 UTC (rev 3462)
@@ -0,0 +1,70 @@
+#include &lt;math.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;float.h&gt;
+#include &lt;limits.h&gt;
+#include &lt;stdlib.h&gt;
+#include &quot;rs.h&quot;
+
+static void *rs;
+static int first=1;
+
+void rs_encode_(int *dgen, int *sent)
+// Encode JT65 data dgen[12], producing sent[63].
+{
+  int dat1[12];
+  int b[51];
+  int i;
+
+  if(first) {
+    // Initialize the JT65 codec
+    rs=init_rs_int(6,0x43,3,1,51,0);
+    first=0;
+  }
+
+  // Reverse data order for the Karn codec.
+  for(i=0; i&lt;12; i++) {
+    dat1[i]=dgen[11-i];
+  }
+  // Compute the parity symbols
+  encode_rs_int(rs,dat1,b);
+
+  // Move parity symbols and data into sent[] array, in reverse order.
+  for (i = 0; i &lt; 51; i++) sent[50-i] = b[i];
+  for (i = 0; i &lt; 12; i++) sent[i+51] = dat1[11-i];
+}
+
+void rs_decode_(int *recd0, int *era0, int *numera0, int *decoded, int *nerr)
+// Decode JT65 received data recd0[63], producing decoded[12].
+// Erasures are indicated in era0[numera].  The number of corrected
+// errors is *nerr.  If the data are uncorrectable, *nerr=-1 is returned.
+{
+  int numera;
+  int i;
+  int era_pos[50];
+  int recd[63];
+
+  if(first) {
+    rs=init_rs_int(6,0x43,3,1,51,0);
+    first=0;
+  }
+
+  numera=*numera0;
+  for(i=0; i&lt;12; i++) recd[i]=recd0[62-i];
+  for(i=0; i&lt;51; i++) recd[12+i]=recd0[50-i];
+  if(numera) 
+    for(i=0; i&lt;numera; i++) era_pos[i]=era0[i];
+  *nerr=decode_rs_int(rs,recd,era_pos,numera);
+  for(i=0; i&lt;12; i++) decoded[i]=recd[11-i];
+}
+
+
+void rs_encode__(int *dgen, int *sent)
+{
+  rs_encode_(dgen, sent);
+}
+
+void rs_decode__(int *recd0, int *era0, int *numera0, int *decoded, int *nerr)
+{
+  rs_decode_(recd0, era0, numera0, decoded, nerr);
+}
+

Modified: branches/wsjtx/logqso.cpp
===================================================================
--- branches/wsjtx/logqso.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/logqso.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -141,9 +141,12 @@
     m.exec();
   } else {
     QString logEntry=m_dateTime.date().toString(&quot;yyyy-MMM-dd,&quot;) +
-        m_dateTime.time().toString(&quot;hh:mm,&quot;) + hisCall + &quot;,&quot; +
-        hisGrid + &quot;,&quot; + strDialFreq + &quot;,&quot; + mode +
-            &quot;,&quot; + rptSent + &quot;,&quot; + rptRcvd + &quot;,&quot; + comments;
+           m_dateTime.time().toString(&quot;hh:mm,&quot;) + hisCall + &quot;,&quot; +
+           hisGrid + &quot;,&quot; + strDialFreq + &quot;,&quot; + mode +
+               &quot;,&quot; + rptSent + &quot;,&quot; + rptRcvd;
+       if(m_txPower!=&quot;&quot;) logEntry += &quot;,&quot; + m_txPower;
+       if(comments!=&quot;&quot;) logEntry += &quot;,&quot; + comments;
+       if(name!=&quot;&quot;) logEntry += &quot;,&quot; + name;
     QTextStream out(&amp;f);
     out &lt;&lt; logEntry &lt;&lt; endl;
     f.close();

Modified: branches/wsjtx/mainwindow.cpp
===================================================================
--- branches/wsjtx/mainwindow.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/mainwindow.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,4 +1,4 @@
-//------------------------------------------------------------- MainWindow
+//--------------------------------------------------------------- MainWindow
 #include &quot;mainwindow.h&quot;
 #include &quot;ui_mainwindow.h&quot;
 #include &quot;devsetup.h&quot;
@@ -15,10 +15,12 @@
 #include &lt;QtConcurrent/QtConcurrentRun&gt;
 #endif
 
-int itone[85];                        //Tx audio tones for 85 symbols
+int itone[126];                       //Audio tones for all Tx symbols
 int icw[250];                         //Dits for CW ID
 int outBufSize;
 int rc;
+qint32  g_COMportOpen;
+qint32  g_iptt;
 static int nc1=1;
 wchar_t buffer[256];
 bool btxok;                           //True if OK to transmit
@@ -31,9 +33,10 @@
 LogQSO* logDlg = NULL;
 Rig* rig = NULL;
 QTextEdit* pShortcuts;
+QTcpSocket* socket = new QTcpSocket(0);
 
 QString rev=&quot;$Rev$&quot;;
-QString Program_Title_Version=&quot;  WSJT-X   v1.0, r&quot; + rev.mid(6,4) +
+QString Program_Title_Version=&quot;  WSJT-X   v1.1, r&quot; + rev.mid(6,4) +
                               &quot;    by K1JT&quot;;
 
 //-------------------------------------------------- MainWindow constructor
@@ -52,14 +55,12 @@
 
   QActionGroup* modeGroup = new QActionGroup(this);
   ui-&gt;actionJT9_1-&gt;setActionGroup(modeGroup);
-  ui-&gt;actionJT9_2-&gt;setActionGroup(modeGroup);
-  ui-&gt;actionJT9_5-&gt;setActionGroup(modeGroup);
-  ui-&gt;actionJT9_10-&gt;setActionGroup(modeGroup);
-  ui-&gt;actionJT9_30-&gt;setActionGroup(modeGroup);
+  ui-&gt;actionJT65-&gt;setActionGroup(modeGroup);
+  ui-&gt;actionJT9_JT65-&gt;setActionGroup(modeGroup);
 
+
   QActionGroup* saveGroup = new QActionGroup(this);
   ui-&gt;actionNone-&gt;setActionGroup(saveGroup);
-  ui-&gt;actionSave_synced-&gt;setActionGroup(saveGroup);
   ui-&gt;actionSave_decoded-&gt;setActionGroup(saveGroup);
   ui-&gt;actionSave_all-&gt;setActionGroup(saveGroup);
 
@@ -150,24 +151,24 @@
   m_myGrid=&quot;FN20qi&quot;;
   m_appDir = QApplication::applicationDirPath();
   m_saveDir=&quot;/users/joe/wsjtx/install/save&quot;;
+  m_rxFreq=1500;
   m_txFreq=1500;
   m_setftx=0;
   m_loopall=false;
   m_startAnother=false;
-  m_saveSynced=false;
   m_saveDecoded=false;
   m_saveAll=false;
   m_sec0=-1;
-  m_palette=&quot;CuteSDR&quot;;
+  m_palette=&quot;Linrad&quot;;
   m_RxLog=1;                     //Write Date and Time to RxLog
   m_nutc0=9999;
-  m_mode=&quot;JT9-1&quot;;
+  m_mode=&quot;JT9&quot;;
   m_rpt=&quot;-15&quot;;
   m_TRperiod=60;
   m_inGain=0;
   m_dataAvailable=false;
-  m_iptt=0;
-  m_COMportOpen=0;
+  g_iptt=0;
+  g_COMportOpen=0;
   m_secID=0;
   m_promptToLog=false;
   m_blankLine=false;
@@ -185,11 +186,14 @@
   m_secBandChanged=0;
   m_bMultipleOK=false;
   m_dontReadFreq=false;
+  m_lockTxFreq=false;
   ui-&gt;readFreq-&gt;setEnabled(false);
   m_QSOmsg=&quot;&quot;;
+  m_CATerror=false;
   decodeBusy(false);
 
-  ui-&gt;xThermo-&gt;setFillBrush(Qt::green);
+  ui-&gt;xThermo-&gt;setMaximumWidth(12);
+  ui-&gt;xThermo-&gt;setTextVisible(false);
   ui-&gt;labAz-&gt;setStyleSheet(&quot;border: 0px;&quot;);
   ui-&gt;labDist-&gt;setStyleSheet(&quot;border: 0px;&quot;);
 
@@ -236,14 +240,20 @@
 
   genStdMsgs(m_rpt);
   on_actionWide_Waterfall_triggered();                   //###
+  g_pWideGraph-&gt;setRxFreq(m_rxFreq);
   g_pWideGraph-&gt;setTxFreq(m_txFreq);
-  g_pWideGraph-&gt;m_lockTxFreq=m_lockTxFreq;
+  g_pWideGraph-&gt;setLockTxFreq(m_lockTxFreq);
+  g_pWideGraph-&gt;setFmin(m_fMin);
+  g_pWideGraph-&gt;setModeTx(m_mode);
+  g_pWideGraph-&gt;setModeTx(m_modeTx);
 
-  if(m_mode==&quot;JT9-1&quot;) on_actionJT9_1_triggered();
-  if(m_mode==&quot;JT9-2&quot;) on_actionJT9_2_triggered();
-  if(m_mode==&quot;JT9-5&quot;) on_actionJT9_5_triggered();
-  if(m_mode==&quot;JT9-10&quot;) on_actionJT9_10_triggered();
-  if(m_mode==&quot;JT9-30&quot;) on_actionJT9_30_triggered();
+  connect(g_pWideGraph, SIGNAL(setFreq3(int,int)),this,
+          SLOT(setFreq4(int,int)));
+
+  if(m_mode==&quot;JT9&quot;) on_actionJT9_1_triggered();
+  if(m_mode==&quot;JT65&quot;) on_actionJT65_triggered();
+  if(m_mode==&quot;JT9+JT65&quot;) on_actionJT9_JT65_triggered();
+
   future1 = new QFuture&lt;void&gt;;
   watcher1 = new QFutureWatcher&lt;void&gt;;
   connect(watcher1, SIGNAL(finished()),this,SLOT(diskDat()));
@@ -281,7 +291,7 @@
 
   ui-&gt;decodedTextLabel-&gt;setFont(ui-&gt;decodedTextBrowser2-&gt;font());
   ui-&gt;decodedTextLabel2-&gt;setFont(ui-&gt;decodedTextBrowser-&gt;font());
-  t=&quot;UTC  dB   DT Freq   Message&quot;;
+  t=&quot;UTC   dB   DT Freq   Message&quot;;
   ui-&gt;decodedTextLabel-&gt;setText(t);
   ui-&gt;decodedTextLabel2-&gt;setText(t);
 
@@ -352,6 +362,7 @@
   if(g_pWideGraph-&gt;isVisible()) {
     m_wideGraphGeom = g_pWideGraph-&gt;geometry();
     settings.setValue(&quot;WideGraphGeom&quot;,m_wideGraphGeom);
+    m_fMin=g_pWideGraph-&gt;getFmin();
   }
   settings.endGroup();
 
@@ -362,23 +373,32 @@
   settings.setValue(&quot;PTTmethod&quot;,m_pttMethodIndex);
   settings.setValue(&quot;PTTport&quot;,m_pttPort);
   settings.setValue(&quot;SaveDir&quot;,m_saveDir);
-  settings.setValue(&quot;SoundInIndex&quot;,m_nDevIn);
-  settings.setValue(&quot;paInDevice&quot;,m_paInDevice);
-  settings.setValue(&quot;SoundOutIndex&quot;,m_nDevOut);
-  settings.setValue(&quot;paOutDevice&quot;,m_paOutDevice);
+  char soundName[128];
+  if (Pa_GetDeviceInfo( m_paInDevice)) {  // store name, number may be different next time
+    snprintf( soundName, sizeof( soundName), &quot;%s:%s&quot;,
+      Pa_GetHostApiInfo( Pa_GetDeviceInfo( m_paInDevice)-&gt;hostApi)-&gt;name,
+      Pa_GetDeviceInfo( m_paInDevice)-&gt;name);
+    settings.setValue(&quot;SoundInName&quot;, soundName);
+  }
+  if (Pa_GetDeviceInfo( m_paOutDevice)) {  // store name, number may be different next time
+    snprintf( soundName, sizeof( soundName), &quot;%s:%s&quot;,
+      Pa_GetHostApiInfo( Pa_GetDeviceInfo( m_paOutDevice)-&gt;hostApi)-&gt;name,
+      Pa_GetDeviceInfo( m_paOutDevice)-&gt;name);
+    settings.setValue(&quot;SoundOutName&quot;, soundName);
+  }
   settings.setValue(&quot;PaletteCuteSDR&quot;,ui-&gt;actionCuteSDR-&gt;isChecked());
   settings.setValue(&quot;PaletteLinrad&quot;,ui-&gt;actionLinrad-&gt;isChecked());
   settings.setValue(&quot;PaletteAFMHot&quot;,ui-&gt;actionAFMHot-&gt;isChecked());
   settings.setValue(&quot;PaletteBlue&quot;,ui-&gt;actionBlue-&gt;isChecked());
   settings.setValue(&quot;Mode&quot;,m_mode);
+  settings.setValue(&quot;ModeTx&quot;,m_modeTx);
   settings.setValue(&quot;SaveNone&quot;,ui-&gt;actionNone-&gt;isChecked());
-  settings.setValue(&quot;SaveSynced&quot;,ui-&gt;actionSave_synced-&gt;isChecked());
   settings.setValue(&quot;SaveDecoded&quot;,ui-&gt;actionSave_decoded-&gt;isChecked());
   settings.setValue(&quot;SaveAll&quot;,ui-&gt;actionSave_all-&gt;isChecked());
   settings.setValue(&quot;NDepth&quot;,m_ndepth);
-  settings.setValue(&quot;KB8RQ&quot;,m_kb8rq);
   settings.setValue(&quot;MonitorOFF&quot;,m_monitorStartOFF);
   settings.setValue(&quot;DialFreq&quot;,m_dialFreq);
+  settings.setValue(&quot;RxFreq&quot;,m_rxFreq);
   settings.setValue(&quot;TxFreq&quot;,m_txFreq);
   settings.setValue(&quot;InGain&quot;,m_inGain);
   settings.setValue(&quot;PSKReporter&quot;,m_pskReporter);
@@ -423,6 +443,9 @@
   settings.setValue(&quot;TxPower&quot;,m_txPower);
   settings.setValue(&quot;LogComments&quot;,m_logComments);
   settings.setValue(&quot;PSKantenna&quot;,m_pskAntenna);
+  settings.setValue(&quot;Fmin&quot;,m_fMin);
+  settings.setValue(&quot;TxSplit&quot;,m_bSplit);
+  settings.setValue(&quot;UseXIT&quot;,m_bXIT);
   settings.endGroup();
 }
 
@@ -450,49 +473,63 @@
   m_pttMethodIndex=settings.value(&quot;PTTmethod&quot;,1).toInt();
   m_pttPort=settings.value(&quot;PTTport&quot;,0).toInt();
   m_saveDir=settings.value(&quot;SaveDir&quot;,m_appDir + &quot;/save&quot;).toString();
-  m_nDevIn = settings.value(&quot;SoundInIndex&quot;, 0).toInt();
-  m_paInDevice = settings.value(&quot;paInDevice&quot;, paNoDevice).toInt();
-  if (m_paInDevice == paNoDevice) { // no saved input device?
+
+  char soundName[128];
+  QString savedName = settings.value( &quot;SoundInName&quot;, &quot;default&quot;).toString();
+  for (m_paInDevice = Pa_GetDeviceCount() - 1; m_paInDevice &gt;= 0; m_paInDevice--) {
+    snprintf( soundName, sizeof( soundName), &quot;%s:%s&quot;,
+      Pa_GetHostApiInfo( Pa_GetDeviceInfo( m_paInDevice)-&gt;hostApi)-&gt;name,
+      Pa_GetDeviceInfo( m_paInDevice)-&gt;name);
+    if ((savedName == soundName) &amp;&amp; (Pa_GetDeviceInfo(m_paInDevice)-&gt;maxInputChannels &gt; 0))
+      break;
+  }
+  if (m_paInDevice &lt; 0) { // no match for device name?
     m_paInDevice = Pa_GetDefaultInputDevice();
-    if (m_paInDevice == paNoDevice) { // no default input device?
+    if (m_paInDevice == paNoDevice)  // no default input device?
       m_paInDevice = 0;
-    }
   }
-  m_nDevOut = settings.value(&quot;SoundOutIndex&quot;, 0).toInt();
-  m_paOutDevice = settings.value(&quot;paOutDevice&quot;, paNoDevice).toInt();
-  if (m_paOutDevice == paNoDevice) { // no saved output device?
+
+  savedName = settings.value(&quot;SoundOutName&quot;, &quot;default&quot;).toString();
+  for (m_paOutDevice = Pa_GetDeviceCount() - 1; m_paOutDevice &gt;= 0; m_paOutDevice--) {
+    snprintf( soundName, sizeof( soundName), &quot;%s:%s&quot;,
+      Pa_GetHostApiInfo( Pa_GetDeviceInfo( m_paOutDevice)-&gt;hostApi)-&gt;name,
+      Pa_GetDeviceInfo( m_paOutDevice)-&gt;name);
+    if ((savedName == soundName) &amp;&amp; (Pa_GetDeviceInfo(m_paOutDevice)-&gt;maxOutputChannels &gt; 0))
+      break;
+  }
+  if (m_paOutDevice &lt; 0) { // no match for device name?
     m_paOutDevice = Pa_GetDefaultOutputDevice();
-    if (m_paOutDevice == paNoDevice) { // no default output device?
+    if (m_paOutDevice == paNoDevice)  // no default output device?
       m_paOutDevice = 0;
-    }
   }
+
   ui-&gt;actionCuteSDR-&gt;setChecked(settings.value(
-                                  &quot;PaletteCuteSDR&quot;,true).toBool());
+                                  &quot;PaletteCuteSDR&quot;,false).toBool());
   ui-&gt;actionLinrad-&gt;setChecked(settings.value(
-                                 &quot;PaletteLinrad&quot;,false).toBool());
+                                 &quot;PaletteLinrad&quot;,true).toBool());
   ui-&gt;actionAFMHot-&gt;setChecked(settings.value(
                                  &quot;PaletteAFMHot&quot;,false).toBool());
   ui-&gt;actionBlue-&gt;setChecked(settings.value(
                                  &quot;PaletteBlue&quot;,false).toBool());
-  m_mode=settings.value(&quot;Mode&quot;,&quot;JT9-1&quot;).toString();
+  m_mode=settings.value(&quot;Mode&quot;,&quot;JT9&quot;).toString();
+  m_modeTx=settings.value(&quot;ModeTx&quot;,&quot;JT9&quot;).toString();
+  if(m_mode==&quot;JT9&quot;) ui-&gt;pbTxMode-&gt;setText(&quot;Tx JT9 @&quot;);
+  if(m_mode==&quot;JT65&quot;) ui-&gt;pbTxMode-&gt;setText(&quot;Tx JT65 #&quot;);
   ui-&gt;actionNone-&gt;setChecked(settings.value(&quot;SaveNone&quot;,true).toBool());
-  ui-&gt;actionSave_synced-&gt;setChecked(settings.value(
-                                        &quot;SaveSynced&quot;,false).toBool());
   ui-&gt;actionSave_decoded-&gt;setChecked(settings.value(
                                          &quot;SaveDecoded&quot;,false).toBool());
   ui-&gt;actionSave_all-&gt;setChecked(settings.value(&quot;SaveAll&quot;,false).toBool());
   m_dialFreq=settings.value(&quot;DialFreq&quot;,14.078).toDouble();
+  m_rxFreq=settings.value(&quot;RxFreq&quot;,1500).toInt();
+  ui-&gt;RxFreqSpinBox-&gt;setValue(m_rxFreq);
   m_txFreq=settings.value(&quot;TxFreq&quot;,1500).toInt();
   ui-&gt;TxFreqSpinBox-&gt;setValue(m_txFreq);
   soundOutThread.setTxFreq(m_txFreq);
-  m_saveSynced=ui-&gt;actionSave_synced-&gt;isChecked();
   m_saveDecoded=ui-&gt;actionSave_decoded-&gt;isChecked();
   m_saveAll=ui-&gt;actionSave_all-&gt;isChecked();
-  m_ndepth=settings.value(&quot;NDepth&quot;,2).toInt();
+  m_ndepth=settings.value(&quot;NDepth&quot;,3).toInt();
   m_inGain=settings.value(&quot;InGain&quot;,0).toInt();
   ui-&gt;inGain-&gt;setValue(m_inGain);
-  m_kb8rq=settings.value(&quot;KB8RQ&quot;,false).toBool();
-  ui-&gt;actionF4_sets_Tx6-&gt;setChecked(m_kb8rq);
   m_monitorStartOFF=settings.value(&quot;MonitorOFF&quot;,false).toBool();
   ui-&gt;actionMonitor_OFF_at_startup-&gt;setChecked(m_monitorStartOFF);
   m_pskReporter=settings.value(&quot;PSKReporter&quot;,false).toBool();
@@ -547,12 +584,15 @@
   m_logQSOgeom=settings.value(&quot;LogQSOgeom&quot;,QRect(500,400,424,283)).toRect();
   outBufSize=settings.value(&quot;OutBufSize&quot;,4096).toInt();
   m_lockTxFreq=settings.value(&quot;LockTxFreq&quot;,false).toBool();
-  ui-&gt;actionLockTxFreq-&gt;setChecked(m_lockTxFreq);
+  ui-&gt;cbTxLock-&gt;setChecked(m_lockTxFreq);
   m_saveTxPower=settings.value(&quot;SaveTxPower&quot;,false).toBool();
   m_saveComments=settings.value(&quot;SaveComments&quot;,false).toBool();
   m_txPower=settings.value(&quot;TxPower&quot;,&quot;&quot;).toString();
   m_logComments=settings.value(&quot;LogComments&quot;,&quot;&quot;).toString();
   m_pskAntenna=settings.value(&quot;PSKantenna&quot;,&quot;&quot;).toString();
+  m_fMin=settings.value(&quot;fMin&quot;,2500).toInt();
+  m_bSplit=settings.value(&quot;TxSplit&quot;,false).toBool();
+  m_bXIT=settings.value(&quot;UseXit&quot;,false).toBool();
   settings.endGroup();
 
   if(!ui-&gt;actionLinrad-&gt;isChecked() &amp;&amp; !ui-&gt;actionCuteSDR-&gt;isChecked() &amp;&amp;
@@ -570,13 +610,14 @@
 //-------------------------------------------------------------- dataSink()
 void MainWindow::dataSink(int k)
 {
-  static float s[NSMAX],red[NSMAX];
+  static float s[NSMAX];
   static int ihsym=0;
   static int nzap=0;
   static int trmin;
   static int npts8;
   static float px=0.0;
   static float df3;
+  static float slope;
 
   if(m_diskData) {
     jt9com_.ndiskdat=1;
@@ -586,7 +627,9 @@
 
 // Get power, spectrum, and ihsym
   trmin=m_TRperiod/60;
-  symspec_(&amp;k,&amp;trmin,&amp;m_nsps,&amp;m_inGain,&amp;px,s,red,&amp;df3,&amp;ihsym,&amp;npts8);
+  slope=0.0;
+  if(g_pWideGraph!=NULL) slope=(float)g_pWideGraph-&gt;getSlope();
+  symspec_(&amp;k,&amp;trmin,&amp;m_nsps,&amp;m_inGain,&amp;slope,&amp;px,s,&amp;df3,&amp;ihsym,&amp;npts8);
   if(ihsym &lt;=0) return;
   QString t;
   m_pctZap=nzap*100.0/m_nsps;
@@ -594,7 +637,7 @@
   lab2-&gt;setText(t);
   ui-&gt;xThermo-&gt;setValue((double)px);                    //Update thermometer
   if(m_monitoring || m_diskData) {
-    g_pWideGraph-&gt;dataSink2(s,red,df3,ihsym,m_diskData);
+    g_pWideGraph-&gt;dataSink2(s,df3,ihsym,m_diskData);
   }
 
   if(ihsym == m_hsymStop) {
@@ -637,8 +680,8 @@
   dlg.m_pttMethodIndex=m_pttMethodIndex;
   dlg.m_pttPort=m_pttPort;
   dlg.m_saveDir=m_saveDir;
-  dlg.m_nDevIn=m_nDevIn;
-  dlg.m_nDevOut=m_nDevOut;
+  dlg.m_paInDevice=m_paInDevice;
+  dlg.m_paOutDevice=m_paOutDevice;
   dlg.m_pskReporter=m_pskReporter;
   dlg.m_After73=m_After73;
   dlg.m_macro=m_macro;
@@ -659,14 +702,17 @@
   dlg.m_bDTRoff=m_bDTRoff;
   dlg.m_pttData=m_pttData;
   dlg.m_poll=m_poll;
+  dlg.m_bSplit=m_bSplit;
+  dlg.m_bXIT=m_bXIT;
 
   if(m_bRigOpen) {
     rig-&gt;close();
     ui-&gt;readFreq-&gt;setStyleSheet(&quot;&quot;);
     ui-&gt;readFreq-&gt;setEnabled(false);
-    if(m_rig!=9999) delete rig;
+    if(m_rig&lt;9900) delete rig;
     m_bRigOpen=false;
     m_catEnabled=false;
+    m_CATerror=false;
   }
 
   dlg.initDlg();
@@ -678,9 +724,7 @@
     m_pttMethodIndex=dlg.m_pttMethodIndex;
     m_pttPort=dlg.m_pttPort;
     m_saveDir=dlg.m_saveDir;
-    m_nDevIn=dlg.m_nDevIn;
     m_paInDevice=dlg.m_paInDevice;
-    m_nDevOut=dlg.m_nDevOut;
     m_paOutDevice=dlg.m_paOutDevice;
     m_macro=dlg.m_macro;
     m_dFreq=dlg.m_dFreq;
@@ -700,6 +744,8 @@
     m_bDTRoff=dlg.m_bDTRoff;
     m_pttData=dlg.m_pttData;
     m_poll=dlg.m_poll;
+    m_bSplit=dlg.m_bSplit;
+    m_bXIT=dlg.m_bXIT;
 
 #ifdef WIN32
     if(dlg.m_pskReporter!=m_pskReporter) {
@@ -718,12 +764,14 @@
       }
     }
 #endif
+    m_pskReporter=dlg.m_pskReporter;
 
 #ifdef UNIX
-    psk_Reporter-&gt;setLocalStation(m_myCall,m_myGrid, &quot;WSJT-X r&quot; + rev.mid(6,4) );
+    if(m_pskReporter) {
+      psk_Reporter-&gt;setLocalStation(m_myCall,m_myGrid, &quot;WSJT-X r&quot; + rev.mid(6,4) );
+    }
 #endif
 
-    m_pskReporter=dlg.m_pskReporter;
     m_After73=dlg.m_After73;
 
     if(dlg.m_restartSoundIn) {
@@ -743,6 +791,8 @@
 
   if(m_catEnabled) {
     rigOpen();
+  } else {
+    ui-&gt;readFreq-&gt;setStyleSheet(&quot;&quot;);
   }
 }
 
@@ -799,32 +849,32 @@
   {
   case Qt::Key_1:
     if(e-&gt;modifiers() &amp; Qt::AltModifier) {
-      ui-&gt;txrb1-&gt;setChecked(true);
+      on_txb1_clicked();
       break;
     }
   case Qt::Key_2:
     if(e-&gt;modifiers() &amp; Qt::AltModifier) {
-      ui-&gt;txrb2-&gt;setChecked(true);
+      on_txb2_clicked();
       break;
     }
   case Qt::Key_3:
     if(e-&gt;modifiers() &amp; Qt::AltModifier) {
-      ui-&gt;txrb3-&gt;setChecked(true);
+      on_txb3_clicked();
       break;
     }
   case Qt::Key_4:
     if(e-&gt;modifiers() &amp; Qt::AltModifier) {
-      ui-&gt;txrb4-&gt;setChecked(true);
+      on_txb4_clicked();
       break;
     }
   case Qt::Key_5:
     if(e-&gt;modifiers() &amp; Qt::AltModifier) {
-      ui-&gt;txrb5-&gt;setChecked(true);
+      on_txb5_clicked();
       break;
     }
   case Qt::Key_6:
     if(e-&gt;modifiers() &amp; Qt::AltModifier) {
-      ui-&gt;txrb6-&gt;setChecked(true);
+      on_txb6_clicked();
       break;
     }
   case Qt::Key_D:
@@ -839,10 +889,6 @@
   case Qt::Key_F4:
     ui-&gt;dxCallEntry-&gt;setText(&quot;&quot;);
     ui-&gt;dxGridEntry-&gt;setText(&quot;&quot;);
-    if(m_kb8rq) {
-      m_ntx=6;
-      ui-&gt;txrb6-&gt;setChecked(true);
-    }
   case Qt::Key_F6:
     if(e-&gt;modifiers() &amp; Qt::ShiftModifier) {
       on_actionDecode_remaining_files_in_directory_triggered();
@@ -898,10 +944,10 @@
   int i;
   bool ctrl = (n&gt;=100);
   n=n%100;
-  i=g_pWideGraph-&gt;QSOfreq();
+  i=g_pWideGraph-&gt;rxFreq();
   if(n==11) i--;
   if(n==12) i++;
-  g_pWideGraph-&gt;setQSOfreq(i);
+  g_pWideGraph-&gt;setRxFreq(i);
   if(ctrl) {
     ui-&gt;TxFreqSpinBox-&gt;setValue(i);
     g_pWideGraph-&gt;setTxFreq(i);
@@ -970,21 +1016,15 @@
 
   lab3 = new QLabel(&quot;&quot;);
   lab3-&gt;setAlignment(Qt::AlignHCenter);
-  lab3-&gt;setMinimumSize(QSize(90,18));
+  lab3-&gt;setMinimumSize(QSize(80,18));
   lab3-&gt;setFrameStyle(QFrame::Panel | QFrame::Sunken);
   statusBar()-&gt;addWidget(lab3);
 
   lab4 = new QLabel(&quot;&quot;);
   lab4-&gt;setAlignment(Qt::AlignHCenter);
-  lab4-&gt;setMinimumSize(QSize(50,18));
+  lab4-&gt;setMinimumSize(QSize(150,18));
   lab4-&gt;setFrameStyle(QFrame::Panel | QFrame::Sunken);
   statusBar()-&gt;addWidget(lab4);
-
-  lab5 = new QLabel(&quot;&quot;);
-  lab5-&gt;setAlignment(Qt::AlignHCenter);
-  lab5-&gt;setMinimumSize(QSize(150,18));
-  lab5-&gt;setFrameStyle(QFrame::Panel | QFrame::Sunken);
-  statusBar()-&gt;addWidget(lab5);
 }
 
 void MainWindow::on_actionExit_triggered()                     //Exit()
@@ -1029,7 +1069,7 @@
 void MainWindow::on_actionOnline_Users_Guide_triggered()      //Display manual
 {
   QDesktopServices::openUrl(QUrl(
-  &quot;<A HREF="http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide.pdf">http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide.pdf</A>&quot;,
+  &quot;<A HREF="http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide_v1.1.pdf">http://www.physics.princeton.edu/pulsar/K1JT/WSJT-X_Users_Guide_v1.1.pdf</A>&quot;,
                               QUrl::TolerantMode));
 }
 
@@ -1046,6 +1086,8 @@
             SLOT(freezeDecode(int)));
     connect(g_pWideGraph, SIGNAL(f11f12(int)),this,
             SLOT(bumpFqso(int)));
+    connect(g_pWideGraph, SIGNAL(setXIT2(int)),this,
+            SLOT(setXIT(int)));
 //    connect(g_pWideGraph, SIGNAL(dialFreqChanged(double)),this,
 //            SLOT(dialFreqChanged2(double)));
   }
@@ -1146,30 +1188,15 @@
   }
 }
 
-void MainWindow::on_actionF4_sets_Tx6_triggered()                //F4 sets Tx6
-{
-  m_kb8rq = !m_kb8rq;
-}
-
 void MainWindow::on_actionNone_triggered()                    //Save None
 {
-  m_saveSynced=false;
   m_saveDecoded=false;
   m_saveAll=false;
   ui-&gt;actionNone-&gt;setChecked(true);
 }
 
-void MainWindow::on_actionSave_synced_triggered()
-{
-  m_saveSynced=true;
-  m_saveDecoded=false;
-  m_saveAll=false;
-  ui-&gt;actionSave_synced-&gt;setChecked(true);
-}
-
 void MainWindow::on_actionSave_decoded_triggered()
 {
-  m_saveSynced=false;
   m_saveDecoded=true;
   m_saveAll=false;
   ui-&gt;actionSave_decoded-&gt;setChecked(true);
@@ -1177,7 +1204,6 @@
 
 void MainWindow::on_actionSave_all_triggered()                //Save All
 {
-  m_saveSynced=false;
   m_saveDecoded=false;
   m_saveAll=true;
   ui-&gt;actionSave_all-&gt;setChecked(true);
@@ -1248,7 +1274,7 @@
 void MainWindow::freezeDecode(int n)                          //freezeDecode()
 {
   bool ctrl = (n&gt;=100);
-  int i=g_pWideGraph-&gt;QSOfreq();
+  int i=g_pWideGraph-&gt;rxFreq();
   if(ctrl) {
     ui-&gt;TxFreqSpinBox-&gt;setValue(i);
     g_pWideGraph-&gt;setTxFreq(i);
@@ -1258,6 +1284,7 @@
 
 void MainWindow::decode()                                       //decode()
 {
+  if(!m_dataAvailable) return;
   ui-&gt;DecodeButton-&gt;setStyleSheet(m_pbdecoding_style1);
   if(jt9com_.nagain==0 &amp;&amp; (!m_diskData)) {
     qint64 ms = QDateTime::currentMSecsSinceEpoch() % 86400000;
@@ -1268,21 +1295,26 @@
     jt9com_.nutc=100*ihr + imin;
   }
 
-  jt9com_.nfqso=g_pWideGraph-&gt;QSOfreq();
+  jt9com_.nfqso=g_pWideGraph-&gt;rxFreq();
   jt9com_.ndepth=m_ndepth;
   jt9com_.ndiskdat=0;
   if(m_diskData) jt9com_.ndiskdat=1;
-  jt9com_.nfa=g_pWideGraph-&gt;getFmin();
-  jt9com_.nfb=g_pWideGraph-&gt;getFmax();
-
-  jt9com_.ntol=3;
+  int nfa=g_pWideGraph-&gt;getFmin();
+  int nfb=g_pWideGraph-&gt;getFmax();
+  if(m_mode==&quot;JT9&quot;) nfa=200;                //decode from 0 to fmax
+  if(m_mode==&quot;JT65&quot;) nfa=nfb;               //decode from 0 to fmax
+  jt9com_.nfa=nfa;
+  jt9com_.nfb=nfb;
+  jt9com_.ntol=20;
   if(jt9com_.nutc &lt; m_nutc0) m_RxLog |= 1;  //Date and Time to all.txt
   m_nutc0=jt9com_.nutc;
-  jt9com_.nrxlog=m_RxLog;
-  jt9com_.nfsample=12000;
+  jt9com_.ntxmode=9;
+  if(m_modeTx==&quot;JT65&quot;) jt9com_.ntxmode=65;
+  jt9com_.nmode=9;
+  if(m_mode==&quot;JT65&quot;) jt9com_.nmode=65;
+  if(m_mode==&quot;JT9+JT65&quot;) jt9com_.nmode=9+65;
   jt9com_.ntrperiod=m_TRperiod;
   m_nsave=0;
-  if(m_saveSynced) m_nsave=1;
   if(m_saveDecoded) m_nsave=2;
   jt9com_.nsave=m_nsave;
   strncpy(jt9com_.datetime, m_dateTime.toLatin1(), 20);
@@ -1294,7 +1326,7 @@
   char *from = (char*) jt9com_.ss;
   int size=sizeof(jt9com_);
   if(jt9com_.newdat==0) {
-    int noffset = 4*184*NSMAX + 4*NSMAX + 4*2*NTMAX*1500 + 2*NTMAX*12000;
+    int noffset = 4*184*NSMAX + 4*NSMAX + 2*NTMAX*12000;
     to += noffset;
     from += noffset;
     size -= noffset;
@@ -1325,10 +1357,8 @@
   while(proc_jt9.canReadLine()) {
     QByteArray t=proc_jt9.readLine();
     if(t.indexOf(&quot;&lt;DecodeFinished&gt;&quot;) &gt;= 0) {
-      m_bsynced = (t.mid(19,1).toInt()==1);
       m_bdecoded = (t.mid(23,1).toInt()==1);
-      bool keepFile=m_saveAll or (m_saveSynced and m_bsynced) or
-          (m_saveDecoded and m_bdecoded);
+      bool keepFile=m_saveAll or (m_saveDecoded and m_bdecoded);
       if(!keepFile and !m_diskData) killFileTimer-&gt;start(45*1000); //Kill in 45 s
       jt9com_.nagain=0;
       jt9com_.ndiskdat=0;
@@ -1372,12 +1402,11 @@
       QString bg=&quot;white&quot;;
       if(t.indexOf(&quot; CQ &quot;)&gt;0) bg=&quot;#66ff66&quot;;                          //green
       if(m_myCall!=&quot;&quot; and t.indexOf(&quot; &quot;+m_myCall+&quot; &quot;)&gt;0) bg=&quot;#ff6666&quot;; //red
-      bool bQSO=abs(t.mid(22,4).toInt() - g_pWideGraph-&gt;QSOfreq()) &lt; 10;
-      QString t1=t.mid(0,5) + t.mid(10,4) + t.mid(15,5) + t.mid(22,4) +
-          t.mid(32);
-      t1=t1.replace(&quot;\n&quot;,&quot;&quot;).mid(0,t1.length()-4);
+      bool bQSO=abs(t.mid(14,4).toInt() - g_pWideGraph-&gt;rxFreq()) &lt; 10;
+      QString t1=t.replace(&quot;\n&quot;,&quot;&quot;).mid(0,t.length()-4);
       QString s = &quot;&lt;table border=0 cellspacing=0 width=100%&gt;&lt;tr&gt;&lt;td bgcolor=\&quot;&quot; +
           bg + &quot;\&quot;&gt;&lt;pre&gt;&quot; + t1 + &quot;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;
+      bool b65=t1.indexOf(&quot;#&quot;)==19;
       if(bQSO) {
         cursor = ui-&gt;decodedTextBrowser2-&gt;textCursor();
         cursor.movePosition(QTextCursor::End);
@@ -1386,6 +1415,8 @@
         cursor.insertHtml(s);
         ui-&gt;decodedTextBrowser2-&gt;setTextCursor(cursor);
         m_QSOmsg=t1;
+        if(b65 and m_modeTx!=&quot;JT65&quot;) on_pbTxMode_clicked();
+        if(!b65 and m_modeTx==&quot;JT65&quot;) on_pbTxMode_clicked();
       }
 
       if(jt9com_.nagain==0) {
@@ -1401,7 +1432,7 @@
         ui-&gt;decodedTextBrowser-&gt;setTextCursor(cursor);
       }
 
-      QString msg=t.mid(34);
+      QString msg=t.mid(21);
       int i1=msg.indexOf(&quot;\r&quot;);
       if(i1&gt;0) msg=msg.mid(0,i1-1) + &quot;                      &quot;;
       bool b=stdmsg_(msg.mid(0,22).toLatin1().constData(),22);
@@ -1425,30 +1456,30 @@
 
       int nsec=QDateTime::currentMSecsSinceEpoch()/1000-m_secBandChanged;
       bool okToPost=(nsec&gt;50);
+      QString msgmode=&quot;JT9&quot;;
+      if(b65) msgmode=&quot;JT65&quot;;
+      i1=msg.indexOf(&quot; &quot;);
+      QString c2=msg.mid(i1+1);
+      int i2=c2.indexOf(&quot; &quot;);
+      QString g2=c2.mid(i2+1,4);
+      c2=c2.mid(0,i2);
+      QString remote=&quot;call,&quot; + c2 + &quot;,&quot;;
+      if(gridOK(g2)) remote += &quot;gridsquare,&quot; + g2 + &quot;,&quot;;
+      int nHz=t.mid(14,4).toInt();
+      uint nfreq=1000000.0*m_dialFreq + nHz + 0.5;
+      remote += &quot;freq,&quot; + QString::number(nfreq);
+      int nsnr=t.mid(5,3).toInt();
+      remote += &quot;,mode,&quot; + msgmode + &quot;,snr,&quot; + QString::number(nsnr) + &quot;,,&quot;;
+      wchar_t tremote[256];
+      remote.toWCharArray(tremote);
 
 #ifdef WIN32
       if(m_pskReporterInit and b and !m_diskData and okToPost) {
-        int i1=msg.indexOf(&quot; &quot;);
-        QString c2=msg.mid(i1+1);
-        int i2=c2.indexOf(&quot; &quot;);
-        QString g2=c2.mid(i2+1,4);
-        c2=c2.mid(0,i2);
-        QString remote=&quot;call,&quot; + c2 + &quot;,&quot;;
-        if(gridOK(g2)) remote += &quot;gridsquare,&quot; + g2 + &quot;,&quot;;
-        int nHz=t.mid(22,4).toInt();
-        uint nfreq=1000000.0*m_dialFreq + nHz + 0.5;
-        remote += &quot;freq,&quot; + QString::number(nfreq);
-        int nsnr=t.mid(10,3).toInt();
-        remote += &quot;,mode,JT9,snr,&quot; + QString::number(nsnr) + &quot;,,&quot;;
 
-        wchar_t tremote[256];
-        remote.toWCharArray(tremote);
-
-        QString local=&quot;station_callsign,&quot; + m_myCall + &quot;,&quot; +
-            &quot;my_gridsquare,&quot; + m_myGrid + &quot;,&quot;;
-        if(m_pskAntenna!=&quot;&quot;) local += &quot;my_antenna,&quot; + m_pskAntenna + &quot;,&quot;;
-        local += &quot;programid,WSJT-X,programversion,&quot; + rev.mid(6,4) + &quot;,,&quot;;
-
+        QString local=&quot;station_callsign#&quot; + m_myCall + &quot;#&quot; +
+            &quot;my_gridsquare#&quot; + m_myGrid + &quot;#&quot;;
+        if(m_pskAntenna!=&quot;&quot;) local += &quot;my_antenna#&quot; + m_pskAntenna + &quot;#&quot;;
+        local += &quot;programid#WSJT-X#programversion#&quot; + rev.mid(6,4) + &quot;##&quot;;
         wchar_t tlocal[256];
         local.toWCharArray(tlocal);
 
@@ -1456,28 +1487,20 @@
         rc=ReporterSeenCallsign(tremote,tlocal,flags);
         if(rc!=0) {
           ReporterGetInformation(buffer,256);
-          qDebug() &lt;&lt; &quot;C:&quot; &lt;&lt; rc &lt;&lt; QString::fromStdWString(buffer);
         }
         rc=ReporterTickle();
         if(rc!=0) {
           rc=ReporterGetInformation(buffer,256);
-          qDebug() &lt;&lt; &quot;D:&quot; &lt;&lt; QString::fromStdWString(buffer);
         }
       }
 #else
-      if(b and !m_diskData and okToPost) {
-        int i1=msg.indexOf(&quot; &quot;);
-        QString c2=msg.mid(i1+1);
-        int i2=c2.indexOf(&quot; &quot;);
-        QString g2=c2.mid(i2+1,4);
-        c2=c2.mid(0,i2);
-        int nHz=t.mid(22,4).toInt();
-        QString freq = QString::number((int)(1000000.0*m_dialFreq +
-                                               nHz + 0.5));
-        QString snr= QString::number(t.mid(10,3).toInt());
-        if(gridOK(g2))
-          psk_Reporter-&gt;addRemoteStation(c2,g2,freq,&quot;JT9&quot;,snr,
+      if(m_pskReporter and b and !m_diskData and okToPost) {
+        QString freq = QString::number(nfreq);
+        QString snr= QString::number(nsnr);
+        if(gridOK(g2)) {
+          psk_Reporter-&gt;addRemoteStation(c2,g2,freq,msgmode,snr,
                    QString::number(QDateTime::currentDateTime().toTime_t()));
+        }
       }
 #endif
     }
@@ -1520,16 +1543,17 @@
 {
   static int iptt0=0;
   static bool btxok0=false;
-  static int nc0=1;
   static char message[29];
   static char msgsent[29];
   static int nsendingsh=0;
-  int khsym=0;
+  static int giptt00=-1;
+  static int gcomport00=-1;
   int ret=0;
   QString rt;
 
   double tx1=0.0;
   double tx2=1.0 + 85.0*m_nsps/12000.0 + icw[0]*2560.0/48000.0;
+  if(m_modeTx==&quot;JT65&quot;) tx2=1.0 + 126*4096/11025.0 + icw[0]*2560.0/48000.0;
 
   if(!m_txFirst) {
     tx1 += m_TRperiod;
@@ -1548,12 +1572,12 @@
     }
 
     float fTR=float((nsec%m_TRperiod))/m_TRperiod;
-    if(m_iptt==0 and ((bTxTime and !btxMute and fTR&lt;0.4) or m_tune )) {
+    if(g_iptt==0 and ((bTxTime and !btxMute and fTR&lt;0.4) or m_tune )) {
       icw[0]=m_ncw;
 
 //Raise PTT
       if(m_catEnabled and m_bRigOpen and  m_pttMethodIndex==0) {
-        m_iptt=1;
+        g_iptt=1;
         if(m_pttData) ret=rig-&gt;setPTT(RIG_PTT_ON_DATA, RIG_VFO_CURR);
         if(!m_pttData) ret=rig-&gt;setPTT(RIG_PTT_ON_MIC, RIG_VFO_CURR);
         if(ret!=RIG_OK) {
@@ -1562,11 +1586,14 @@
         }
 
       }
+
       if(m_pttMethodIndex==1 or m_pttMethodIndex==2) {  //DTR or RTS
-          ptt(m_pttPort,1,&amp;m_iptt,&amp;m_COMportOpen);
+//        qDebug() &lt;&lt; &quot;guiUpdate, line 1585:&quot; &lt;&lt; m_pttPort &lt;&lt; 1 &lt;&lt; g_iptt &lt;&lt; g_COMportOpen;
+        ptt(m_pttPort,1,&amp;g_iptt,&amp;g_COMportOpen);
+//        qDebug() &lt;&lt; &quot;guiUpdate, line 1588:&quot; &lt;&lt; m_pttPort &lt;&lt; 1 &lt;&lt; g_iptt &lt;&lt; g_COMportOpen;
       }
       if(m_pttMethodIndex==3) {                    //VOX
-        m_iptt=1;
+        g_iptt=1;
       }
       ptt1Timer-&gt;start(200);                       //Sequencer delay
     }
@@ -1576,7 +1603,7 @@
   }
 
 // Calculate Tx tones when needed
-  if((m_iptt==1 &amp;&amp; iptt0==0) || m_restart) {
+  if((g_iptt==1 &amp;&amp; iptt0==0) || m_restart) {
     QByteArray ba;
     if(m_ntx == 1) ba=ui-&gt;tx1-&gt;text().toLocal8Bit();
     if(m_ntx == 2) ba=ui-&gt;tx2-&gt;text().toLocal8Bit();
@@ -1591,11 +1618,12 @@
 //    ba2msg(ba,msgsent);
     int len1=22;
     int ichk=0,itext=0;
-    genjt9_(message,&amp;ichk,msgsent,itone,&amp;itext,len1,len1);
+    if(m_modeTx==&quot;JT9&quot;) genjt9_(message,&amp;ichk,msgsent,itone,&amp;itext,len1,len1);
+    if(m_modeTx==&quot;JT65&quot;) gen65_(message,&amp;ichk,msgsent,itone,&amp;itext,len1,len1);
     msgsent[22]=0;
     QString t=QString::fromLatin1(msgsent);
     if(m_tune) t=&quot;TUNE&quot;;
-    lab5-&gt;setText(&quot;Last Tx:  &quot; + t);
+    lab4-&gt;setText(&quot;Last Tx:  &quot; + t);
     if(m_restart) {
       QFile f(&quot;ALL.TXT&quot;);
       f.open(QIODevice::WriteOnly | QIODevice::Text | QIODevice::Append);
@@ -1649,7 +1677,8 @@
 
 
 // If PTT was just raised, start a countdown for raising TxOK:
-  if(m_iptt == 1 &amp;&amp; iptt0 == 0) {
+// NB: could be better implemented with a timer
+  if(g_iptt == 1 &amp;&amp; iptt0 == 0) {
       nc1=-9;    // TxDelay = 0.8 s
   }
   if(nc1 &lt;= 0) {
@@ -1669,6 +1698,7 @@
     soundInThread.setMonitoring(false);
     btxok=true;
     m_transmitting=true;
+    ui-&gt;pbTxMode-&gt;setEnabled(false);
     if(!m_tune) {
       QFile f(&quot;ALL.TXT&quot;);
       f.open(QIODevice::WriteOnly | QIODevice::Text | QIODevice::Append);
@@ -1681,45 +1711,22 @@
     if(m_tx2QSO and !m_tune) displayTxMsg(t);
   }
 
-  if(!btxok &amp;&amp; btxok0 &amp;&amp; m_iptt==1) stopTx();
+  if(!btxok &amp;&amp; btxok0 &amp;&amp; g_iptt==1) stopTx();
 
+/*
 // If btxok was just lowered, start a countdown for lowering PTT
-  if(!btxok &amp;&amp; btxok0 &amp;&amp; m_iptt==1) nc0=-11;  //RxDelay = 1.0 s
+  if(!btxok &amp;&amp; btxok0 &amp;&amp; g_iptt==1) nc0=-11;  //RxDelay = 1.0 s
   if(nc0 &lt;= 0) {
     nc0++;
   }
+*/
 
-  if(nc0 == 0) {
-    //Lower PTT
-    if(m_catEnabled and m_bRigOpen and  m_pttMethodIndex==0) {
-      m_iptt=0;
-      ret=rig-&gt;setPTT(RIG_PTT_OFF, RIG_VFO_CURR);  //CAT control for PTT=0
-      if(ret!=RIG_OK) {
-        rt.sprintf(&quot;CAT control PTT failed:  %d&quot;,ret);
-        msgBox(rt);
-      }
-    }
-    if(m_pttMethodIndex==1 or m_pttMethodIndex==2) {  //DTR-RTS
-      ptt(m_pttPort,0,&amp;m_iptt,&amp;m_COMportOpen);
-    }
-    if(m_pttMethodIndex==3) {                         //VOX
-      m_iptt=0;
-    }
-  }
-
-  if(m_iptt == 0 &amp;&amp; !btxok) {
-    // sending=&quot;&quot;
-    // nsendingsh=0
-  }
-
   if(m_monitoring) {
     ui-&gt;monitorButton-&gt;setStyleSheet(m_pbmonitor_style);
   } else {
     ui-&gt;monitorButton-&gt;setStyleSheet(&quot;&quot;);
   }
 
-  lab3-&gt;setText(&quot;QSO Freq:  &quot; + QString::number(g_pWideGraph-&gt;QSOfreq()));
-
   if(m_startAnother) {
     m_startAnother=false;
     on_actionOpen_next_in_directory_triggered();
@@ -1765,24 +1772,31 @@
     if(m_catEnabled and m_poll&gt;0 and (nsec%m_poll)==0) {
       if(m_dontReadFreq) {
         m_dontReadFreq=false;
-      } else {
+      } else if(!m_transmitting) {
         double fMHz=rig-&gt;getFreq(RIG_VFO_CURR)/1000000.0;
         if(fMHz&lt;0.0) {
           rt.sprintf(&quot;Rig control error %d\nFailed to read frequency.&quot;,
                     int(1000000.0*fMHz));
           msgBox(rt);
           m_catEnabled=false;
+          ui-&gt;readFreq-&gt;setStyleSheet(&quot;QPushButton{background-color: red; \
+                                 border-width: 0px; border-radius: 5px;}&quot;);
         }
         int ndiff=1000000.0*(fMHz-m_dialFreq);
         if(ndiff!=0) dialFreqChanged2(fMHz);
       }
     }
 
-    m_hsym0=khsym;
     m_sec0=nsec;
   }
 
-  iptt0=m_iptt;
+  if(g_iptt!=giptt00 or g_COMportOpen!=gcomport00) {
+//    qDebug() &lt;&lt; &quot;guiUpdate line 1788:&quot; &lt;&lt; g_iptt &lt;&lt; g_COMportOpen;
+    giptt00=g_iptt;
+    gcomport00=g_COMportOpen;
+  }
+
+  iptt0=g_iptt;
   btxok0=btxok;
 }               //End of GUIupdate
 
@@ -1791,7 +1805,12 @@
       QString bg=&quot;yellow&quot;;
       QTextBlockFormat bf;
       QTextCursor cursor;
-      t=QDateTime::currentDateTimeUtc().toString(&quot;hhmmss Tx: &quot;) + t;
+      QString t1=&quot; @ &quot;;
+      if(m_modeTx==&quot;JT65&quot;) t1=&quot; # &quot;;
+      QString t2;
+      t2.sprintf(&quot;%4d&quot;,m_txFreq);
+      t=QDateTime::currentDateTimeUtc().toString(&quot;hhmm&quot;) + \
+          &quot;  Tx      &quot; + t2 + t1 + t;
       QString s = &quot;&lt;table border=0 cellspacing=0 width=100%&gt;&lt;tr&gt;&lt;td bgcolor=\&quot;&quot; +
           bg + &quot;\&quot;&gt;&lt;pre&gt;&quot; + t + &quot;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;
       cursor = ui-&gt;decodedTextBrowser2-&gt;textCursor();
@@ -1809,12 +1828,14 @@
     double snr=t.mid(1,5).toDouble();
     if(snr&gt;0.0 or snr &lt; -50.0) snr=99.0;
     soundOutThread.setTxSNR(snr);
+    soundOutThread.m_modeTx=m_modeTx;
     soundOutThread.start(QThread::HighestPriority);
     ui-&gt;xThermo-&gt;setValue(0.0);                         //Set Thermo to zero
     m_monitoring=false;
     soundInThread.setMonitoring(false);
     btxok=true;
     m_transmitting=true;
+    ui-&gt;pbTxMode-&gt;setEnabled(false);
   }
 }
 
@@ -1825,7 +1846,9 @@
     soundOutThread.wait(3000);
   }
   m_transmitting=false;
-  m_iptt=0;
+  ui-&gt;pbTxMode-&gt;setEnabled(true);
+  g_iptt=0;
+//  qDebug() &lt;&lt; &quot;stopTx, line 1845:&quot; &lt;&lt; g_iptt &lt;&lt; g_COMportOpen;
   lab1-&gt;setStyleSheet(&quot;&quot;);
   lab1-&gt;setText(&quot;&quot;);
   ptt0Timer-&gt;start(200);                       //Sequencer delay
@@ -1847,7 +1870,8 @@
     }
   }
   if(m_pttMethodIndex==1 or m_pttMethodIndex==2) {
-    ptt(m_pttPort,0,&amp;m_iptt,&amp;m_COMportOpen);
+//    qDebug() &lt;&lt; &quot;stopTx2, line 1867):&quot; &lt;&lt; g_iptt &lt;&lt; g_COMportOpen;
+    ptt(m_pttPort,0,&amp;g_iptt,&amp;g_COMportOpen);
   }
   if(m_73TxDisable and m_sent73) on_stopTxButton_clicked();
 
@@ -1930,6 +1954,7 @@
   doubleClickOnCall(shift,ctrl);
   m_decodedText2=false;
 }
+
 void MainWindow::doubleClickOnCall(bool shift, bool ctrl)
 {
   QTextCursor cursor;
@@ -1972,19 +1997,32 @@
     m_QSOmsg=t2;
   }
 
-  int nfreq=int(t4.at(3).toFloat());
-  g_pWideGraph-&gt;setQSOfreq(nfreq);       //Set Rx freq
-  QString firstcall=t4.at(4);
+  int nfreq=t4.at(3).toInt();
+  if(t4.at(1)==&quot;Tx&quot;) nfreq=t4.at(2).toInt();
+  g_pWideGraph-&gt;setRxFreq(nfreq);       //Set Rx freq
+  if(t4.at(1)==&quot;Tx&quot;) return;
+
+  if(t4.at(4)==&quot;@&quot;) {
+    m_modeTx=&quot;JT9&quot;;
+    ui-&gt;pbTxMode-&gt;setText(&quot;Tx JT9 @&quot;);
+    g_pWideGraph-&gt;setModeTx(m_modeTx);
+  }
+  if(t4.at(4)==&quot;#&quot;) {
+    m_modeTx=&quot;JT65&quot;;
+    ui-&gt;pbTxMode-&gt;setText(&quot;Tx JT65 #&quot;);
+    g_pWideGraph-&gt;setModeTx(m_modeTx);
+  }
+  QString firstcall=t4.at(5);
   // Don't change Tx freq if a station is calling me, unless m_lockTxFreq
   // is true or CTRL is held down or
   if((firstcall!=m_myCall) or m_lockTxFreq or ctrl) {
     ui-&gt;TxFreqSpinBox-&gt;setValue(nfreq);
   }
-  QString hiscall=t4.at(5);
+  QString hiscall=t4.at(6);
   QString hisgrid=&quot;&quot;;
-  if(t4.length()&gt;=7) hisgrid=t4.at(6);
+  if(t4.length()&gt;=8) hisgrid=t4.at(7);
+  if(hiscall!=ui-&gt;dxCallEntry-&gt;text())   ui-&gt;dxGridEntry-&gt;setText(&quot;&quot;);
   ui-&gt;dxCallEntry-&gt;setText(hiscall);
-  ui-&gt;dxGridEntry-&gt;setText(&quot;&quot;);
   if(gridOK(hisgrid)) ui-&gt;dxGridEntry-&gt;setText(hisgrid);
   if(ui-&gt;dxGridEntry-&gt;text()==&quot;&quot;) lookup();
   m_hisGrid=ui-&gt;dxGridEntry-&gt;text();
@@ -2005,8 +2043,8 @@
   ui-&gt;rptSpinBox-&gt;setValue(rpt.toInt());
   genStdMsgs(rpt);
   if(t2.indexOf(m_myCall)&gt;=0) {
-    if(t4.length()&gt;=7 and !gridOK(t4.at(6))) {
-      QString r=t4.at(6);
+    if(t4.length()&gt;=7 and !gridOK(t4.at(7))) {
+      QString r=t4.at(7);
       if(r.mid(0,3)==&quot;RRR&quot;) {
         m_ntx=5;
         ui-&gt;txrb5-&gt;setChecked(true);
@@ -2362,7 +2400,7 @@
   logDlg-&gt;m_saveComments=m_saveComments;
   logDlg-&gt;m_txPower=m_txPower;
   logDlg-&gt;m_comments=m_logComments;
-  logDlg-&gt;initLogQSO(m_hisCall,m_hisGrid,m_mode,m_rptSent,m_rptRcvd,
+  logDlg-&gt;initLogQSO(m_hisCall,m_hisGrid,m_modeTx,m_rptSent,m_rptRcvd,
                      m_dateTimeQSO,m_dialFreq+m_txFreq/1.0e6,
                      m_myCall,m_myGrid,m_noSuffix,m_toRTTY,m_dBtoComments);
   connect(logDlg, SIGNAL(acceptQSO(bool)),this,SLOT(acceptQSO2(bool)));
@@ -2393,101 +2431,76 @@
 
 void MainWindow::on_actionJT9_1_triggered()
 {
-  m_mode=&quot;JT9-1&quot;;
+  m_mode=&quot;JT9&quot;;
+  if(m_modeTx!=&quot;JT9&quot;) on_pbTxMode_clicked();
   statusChanged();
   m_TRperiod=60;
   m_nsps=6912;
   m_hsymStop=173;
   soundInThread.setPeriod(m_TRperiod,m_nsps);
   soundOutThread.setPeriod(m_TRperiod,m_nsps);
-  g_pWideGraph-&gt;setPeriod(m_TRperiod,m_nsps);
-  lab4-&gt;setStyleSheet(&quot;QLabel{background-color: #ff6ec7}&quot;);
-  lab4-&gt;setText(m_mode);
+  lab3-&gt;setStyleSheet(&quot;QLabel{background-color: #ff6ec7}&quot;);
+  lab3-&gt;setText(m_mode);
   ui-&gt;actionJT9_1-&gt;setChecked(true);
-  //m_fMax=2000;
-  //ui-&gt;fMaxSpinBox-&gt;setValue(m_fMax);
-  g_pWideGraph-&gt;setfMax(2000);
-}
-
-void MainWindow::on_actionJT9_2_triggered()
-{
-  m_mode=&quot;JT9-2&quot;;
-  statusChanged();
-  m_TRperiod=120;
-  m_nsps=15360;
-  m_hsymStop=178;
-  soundInThread.setPeriod(m_TRperiod,m_nsps);
-  soundOutThread.setPeriod(m_TRperiod,m_nsps);
   g_pWideGraph-&gt;setPeriod(m_TRperiod,m_nsps);
-  lab4-&gt;setStyleSheet(&quot;QLabel{background-color: #ffff00}&quot;);
-  lab4-&gt;setText(m_mode);
-  ui-&gt;actionJT9_2-&gt;setChecked(true);
-  //m_fMax=2000;
-  //ui-&gt;fMaxSpinBox-&gt;setValue(m_fMax);
-  g_pWideGraph-&gt;setfMax(2000);
+  g_pWideGraph-&gt;setMode(m_mode);
+  g_pWideGraph-&gt;setModeTx(m_modeTx);
+  ui-&gt;pbTxMode-&gt;setEnabled(false);
 }
 
-void MainWindow::on_actionJT9_5_triggered()
+void MainWindow::on_actionJT65_triggered()
 {
-  m_mode=&quot;JT9-5&quot;;
+  m_mode=&quot;JT65&quot;;
+  if(m_modeTx!=&quot;JT65&quot;) on_pbTxMode_clicked();
   statusChanged();
-  m_TRperiod=300;
-  m_nsps=40960;
-  m_hsymStop=172;
+  m_TRperiod=60;
+  m_nsps=6912;                   //For symspec only
+  m_hsymStop=173;
   soundInThread.setPeriod(m_TRperiod,m_nsps);
   soundOutThread.setPeriod(m_TRperiod,m_nsps);
+  lab3-&gt;setStyleSheet(&quot;QLabel{background-color: #ffff00}&quot;);
+  lab3-&gt;setText(m_mode);
+  ui-&gt;actionJT65-&gt;setChecked(true);
   g_pWideGraph-&gt;setPeriod(m_TRperiod,m_nsps);
-  lab4-&gt;setStyleSheet(&quot;QLabel{background-color: #ffa500}&quot;);
-  lab4-&gt;setText(m_mode);
-  ui-&gt;actionJT9_5-&gt;setChecked(true);
-  //m_fMax=1300;
-  //ui-&gt;fMaxSpinBox-&gt;setValue(m_fMax);
-  g_pWideGraph-&gt;setfMax(1300);
+  g_pWideGraph-&gt;setMode(m_mode);
+  g_pWideGraph-&gt;setModeTx(m_modeTx);
+  ui-&gt;pbTxMode-&gt;setEnabled(false);
 }
 
-void MainWindow::on_actionJT9_10_triggered()
+void MainWindow::on_actionJT9_JT65_triggered()
 {
-  m_mode=&quot;JT9-10&quot;;
+  m_mode=&quot;JT9+JT65&quot;;
+//  if(m_modeTx!=&quot;JT9&quot;) on_pbTxMode_clicked();
   statusChanged();
-  m_TRperiod=600;
-  m_nsps=82944;
-  m_hsymStop=171;
+  m_TRperiod=60;
+  m_nsps=6912;
+  m_hsymStop=173;
   soundInThread.setPeriod(m_TRperiod,m_nsps);
   soundOutThread.setPeriod(m_TRperiod,m_nsps);
+  lab3-&gt;setStyleSheet(&quot;QLabel{background-color: #ffa500}&quot;);
+  lab3-&gt;setText(m_mode);
+  ui-&gt;actionJT9_JT65-&gt;setChecked(true);
   g_pWideGraph-&gt;setPeriod(m_TRperiod,m_nsps);
-  lab4-&gt;setStyleSheet(&quot;QLabel{background-color: #7fff00}&quot;);
-  lab4-&gt;setText(m_mode);
-  ui-&gt;actionJT9_10-&gt;setChecked(true);
-  //m_fMax=1150;
-  //ui-&gt;fMaxSpinBox-&gt;setValue(m_fMax);
-  g_pWideGraph-&gt;setfMax(1150);
+  g_pWideGraph-&gt;setMode(m_mode);
+  g_pWideGraph-&gt;setModeTx(m_modeTx);
+  ui-&gt;pbTxMode-&gt;setEnabled(true);
 }
 
-void MainWindow::on_actionJT9_30_triggered()
-{
-  m_mode=&quot;JT9-30&quot;;
-  statusChanged();
-  m_TRperiod=1800;
-  m_nsps=252000;
-  m_hsymStop=167;
-  soundInThread.setPeriod(m_TRperiod,m_nsps);
-  soundOutThread.setPeriod(m_TRperiod,m_nsps);
-  g_pWideGraph-&gt;setPeriod(m_TRperiod,m_nsps);
-  lab4-&gt;setStyleSheet(&quot;QLabel{background-color: #97ffff}&quot;);
-  lab4-&gt;setText(m_mode);
-  ui-&gt;actionJT9_30-&gt;setChecked(true);
-  //m_fMax=1050;
-  //ui-&gt;fMaxSpinBox-&gt;setValue(m_fMax);
-  g_pWideGraph-&gt;setfMax(1050);
-}
-
 void MainWindow::on_TxFreqSpinBox_valueChanged(int n)
 {
   m_txFreq=n;
   if(g_pWideGraph!=NULL) g_pWideGraph-&gt;setTxFreq(n);
+  if(m_lockTxFreq) ui-&gt;RxFreqSpinBox-&gt;setValue(n);
   soundOutThread.setTxFreq(n);
 }
 
+void MainWindow::on_RxFreqSpinBox_valueChanged(int n)
+{
+  m_rxFreq=n;
+  if(g_pWideGraph!=NULL) g_pWideGraph-&gt;setRxFreq(n);
+  if(m_lockTxFreq) ui-&gt;TxFreqSpinBox-&gt;setValue(n);
+}
+
 void MainWindow::on_actionQuickDecode_triggered()
 {
   m_ndepth=1;
@@ -2638,6 +2651,9 @@
     if(m_bRigOpen) {
       m_dontReadFreq=true;
       ret=rig-&gt;setFreq(MHz(m_dialFreq));
+//      ret=rig-&gt;setSplitFreq(MHz(m_dialFreq),RIG_VFO_B);
+      bumpFqso(11);
+      bumpFqso(12);
       if(ret!=RIG_OK) {
         rt.sprintf(&quot;Set rig frequency failed:  %d&quot;,ret);
         msgBox(rt);
@@ -2783,11 +2799,6 @@
   m_runaway=checked;
 }
 
-void MainWindow::on_actionTx2QSO_triggered(bool checked)
-{
-  m_tx2QSO=checked;
-}
-
 void MainWindow::on_tuneButton_clicked()
 {
   if(m_tune) {
@@ -2820,12 +2831,16 @@
   int ret;
   rig = new Rig();
 
-  if(m_rig != 9999) {
+  if(m_rig&lt;9900) {
     if (!rig-&gt;init(m_rig)) {
       msgBox(&quot;Rig init failure&quot;);
       return;
     }
-    rig-&gt;setConf(&quot;rig_pathname&quot;, m_catPort.toLatin1().data());
+    QString sCATport=m_catPort;
+#ifdef WIN32
+    sCATport=&quot;\\\\.\\&quot; + m_catPort;    //Allow COM ports above 9
+#endif
+    rig-&gt;setConf(&quot;rig_pathname&quot;, sCATport.toLatin1().data());
     char buf[80];
     sprintf(buf,&quot;%d&quot;,m_serialRate);
     rig-&gt;setConf(&quot;serial_speed&quot;,buf);
@@ -2844,23 +2859,28 @@
   if(ret==RIG_OK) {
     m_bRigOpen=true;
     if(m_poll==0) ui-&gt;readFreq-&gt;setEnabled(true);
+    m_CATerror=false;
   } else {
     t=&quot;Open rig failed&quot;;
     msgBox(t);
     m_catEnabled=false;
     m_bRigOpen=false;
+    m_CATerror=true;
   }
 
+//  qDebug() &lt;&lt; &quot;A&quot; &lt;&lt; m_bRigOpen &lt;&lt; m_poll &lt;&lt; m_CATerror;
   if(m_bRigOpen) {
     if(m_poll&gt;0) {
-      ui-&gt;readFreq-&gt;setStyleSheet(&quot;QPushButton{background-color: red; \
+      ui-&gt;readFreq-&gt;setStyleSheet(&quot;QPushButton{background-color: #00ff00; \
                                   border-width: 0px; border-radius: 5px;}&quot;);
     } else {
       ui-&gt;readFreq-&gt;setStyleSheet(&quot;QPushButton{background-color: orange; \
-                                  border-width: 0px; border-radius: 5px;}&quot;);
+                                border-width: 0px; border-radius: 5px;}&quot;);
     }
-  } else {
-    ui-&gt;readFreq-&gt;setStyleSheet(&quot;&quot;);
+} else {
+if(m_CATerror) ui-&gt;readFreq-&gt;setStyleSheet(&quot;QPushButton{background-color: red; \
+                                   border-width: 0px; border-radius: 5px;}&quot;);
+if(!m_CATerror) ui-&gt;readFreq-&gt;setStyleSheet(&quot;&quot;);
   }
 }
 
@@ -2871,18 +2891,19 @@
 
 void MainWindow::on_pbR2T_clicked()
 {
-  int n=g_pWideGraph-&gt;QSOfreq();
+  int n=g_pWideGraph-&gt;rxFreq();
   ui-&gt;TxFreqSpinBox-&gt;setValue(n);
 }
 
 void MainWindow::on_pbT2R_clicked()
 {
-  g_pWideGraph-&gt;setQSOfreq(m_txFreq);
+  g_pWideGraph-&gt;setRxFreq(m_txFreq);
 }
 
 
 void MainWindow::on_readFreq_clicked()
 {
+  if(m_transmitting) return;
   m_dontReadFreq=false;
   double fMHz=rig-&gt;getFreq(RIG_VFO_CURR)/1000000.0;
   if(fMHz&lt;0.0) {
@@ -2897,9 +2918,54 @@
   if(ndiff!=0) dialFreqChanged2(fMHz);
 }
 
+void MainWindow::on_pbTxMode_clicked()
+{
+  if(m_modeTx==&quot;JT9&quot;) {
+    m_modeTx=&quot;JT65&quot;;
+    ui-&gt;pbTxMode-&gt;setText(&quot;Tx JT65 #&quot;);
+  } else {
+    m_modeTx=&quot;JT9&quot;;
+    ui-&gt;pbTxMode-&gt;setText(&quot;Tx JT9 @&quot;);
+  }
+  g_pWideGraph-&gt;setModeTx(m_modeTx);
+}
 
-void MainWindow::on_actionLockTxFreq_triggered(bool checked)
+void MainWindow::setXIT(int n)
 {
+  int ret;
+  int xit=0;
+  if(m_bRigOpen) {
+    xit=-1000;
+    if(n&gt;1000) xit=0;
+    if(n&gt;2000) xit=1000;
+    if(n&gt;3000) xit=2000;
+    if(n&gt;4000) xit=3000;
+    if(m_bXIT) {
+      ret=rig-&gt;setXit((shortfreq_t)xit,RIG_VFO_TX);
+//      ret=rig-&gt;setSplitFreq(MHz(m_dialFreq),RIG_VFO_A);
+
+    }
+    if(m_bSplit) ret=rig-&gt;setSplitFreq(MHz(m_dialFreq)+xit,RIG_VFO_B);
+  }
+  soundOutThread.setXIT(xit);
+}
+
+void MainWindow::setFreq4(int rxFreq, int txFreq)
+{
+  m_rxFreq=rxFreq;
+  m_txFreq=txFreq;
+  ui-&gt;RxFreqSpinBox-&gt;setValue(m_rxFreq);
+  ui-&gt;TxFreqSpinBox-&gt;setValue(m_txFreq);
+}
+
+void MainWindow::on_cbTxLock_clicked(bool checked)
+{
   m_lockTxFreq=checked;
-  g_pWideGraph-&gt;m_lockTxFreq=checked;
+  g_pWideGraph-&gt;setLockTxFreq(m_lockTxFreq);
+  if(m_lockTxFreq) on_pbR2T_clicked();
 }
+
+void MainWindow::on_actionTx2QSO_triggered(bool checked)
+{
+  m_tx2QSO=checked;
+}

Modified: branches/wsjtx/mainwindow.h
===================================================================
--- branches/wsjtx/mainwindow.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/mainwindow.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -43,6 +43,8 @@
   void readFromStdout();
   void readFromStderr();
   void jt9_error();
+  void setXIT(int n);
+  void setFreq4(int rxFreq, int txFreq);
 
 protected:
   virtual void keyPressEvent( QKeyEvent *e );
@@ -72,7 +74,6 @@
   void on_actionOpen_next_in_directory_triggered();
   void on_actionDecode_remaining_files_in_directory_triggered();
   void on_actionDelete_all_wav_files_in_SaveDir_triggered();
-  void on_actionF4_sets_Tx6_triggered();
   void on_actionNone_triggered();
   void on_actionSave_all_triggered();
   void on_actionKeyboard_shortcuts_triggered();
@@ -97,13 +98,10 @@
   void on_logQSOButton_clicked();
   void on_actionAFMHot_triggered();
   void on_actionBlue_triggered();
-  void on_actionJT9_2_triggered();
   void on_actionJT9_1_triggered();
-  void on_actionJT9_5_triggered();
-  void on_actionJT9_30_triggered();
-  void on_actionJT9_10_triggered();
+  void on_actionJT65_triggered();
+  void on_actionJT9_JT65_triggered();
   void on_TxFreqSpinBox_valueChanged(int arg1);
-  void on_actionSave_synced_triggered();
   void on_actionSave_decoded_triggered();
   void on_actionQuickDecode_triggered();
   void on_actionMediumDecode_triggered();
@@ -147,7 +145,6 @@
   void on_rptSpinBox_valueChanged(int n);
   void on_action_73TxDisable_triggered(bool checked);
   void on_actionRunaway_Tx_watchdog_triggered(bool checked);
-  void on_actionTx2QSO_triggered(bool checked);
   void killFile();
   void on_tuneButton_clicked();
   void on_actionAllow_multiple_instances_triggered(bool checked);
@@ -155,11 +152,12 @@
   void on_pbT2R_clicked();
   void acceptQSO2(bool accepted);
   void on_bandComboBox_activated(int index);
-
   void on_readFreq_clicked();
+  void on_pbTxMode_clicked();
+  void on_RxFreqSpinBox_valueChanged(int n);
+  void on_cbTxLock_clicked(bool checked);
+  void on_actionTx2QSO_triggered(bool checked);
 
-  void on_actionLockTxFreq_triggered(bool checked);
-
 private:
     Ui::MainWindow *ui;
 
@@ -168,15 +166,13 @@
     qint64  m_msErase;
     qint64  m_secBandChanged;
 
-    qint32  m_nDevIn;
-    qint32  m_nDevOut;
     qint32  m_idInt;
     qint32  m_waterfallAvg;
     qint32  m_pttMethodIndex;
-    qint32  m_QSOfreq0;
     qint32  m_ntx;
     qint32  m_pttPort;
     qint32  m_timeout;
+    qint32  m_rxFreq;
     qint32  m_txFreq;
     qint32  m_setftx;
     qint32  m_ndepth;
@@ -184,7 +180,7 @@
     qint32  m_RxLog;
     qint32  m_nutc0;
     qint32  m_nrx;
-    qint32  m_hsym0;
+    qint32  m_hsym;
     qint32  m_paInDevice;
     qint32  m_paOutDevice;
     qint32  m_TRperiod;
@@ -205,12 +201,12 @@
     qint32  m_handshakeIndex;
     qint32  m_ncw;
     qint32  m_secID;
-    qint32  m_COMportOpen;
-    qint32  m_iptt;
     qint32  m_band;
     qint32  m_repeatMsg;
     qint32  m_watchdogLimit;
     qint32  m_poll;
+    qint32  m_fMin;
+    qint32  m_fMax;
 
     bool    m_monitoring;
     bool    m_transmitting;
@@ -221,15 +217,12 @@
     bool    m_auto;
     bool    m_restart;
     bool    m_startAnother;
-    bool    m_saveSynced;
     bool    m_saveDecoded;
     bool    m_saveAll;
     bool    m_widebandDecode;
-    bool    m_kb8rq;
     bool    m_call3Modified;
     bool    m_dataAvailable;
     bool    m_killAll;
-    bool    m_bsynced;
     bool    m_bdecoded;
     bool    m_monitorStartOFF;
     bool    m_pskReporter;
@@ -250,7 +243,6 @@
     bool    m_73TxDisable;
     bool    m_sent73;
     bool    m_runaway;
-    bool    m_tx2QSO;
     bool    m_tune;
     bool    m_bRigOpen;
     bool    m_bMultipleOK;
@@ -260,6 +252,10 @@
     bool    m_lockTxFreq;
     bool    m_saveTxPower;
     bool    m_saveComments;
+    bool    m_tx2QSO;
+    bool    m_CATerror;
+    bool    m_bSplit;
+    bool    m_bXIT;
 
     char    m_decoded[80];
 
@@ -308,6 +304,7 @@
     QString m_palette;
     QString m_dateTime;
     QString m_mode;
+    QString m_modeTx;
     QString m_fname;
     QString m_rpt;
     QString m_rptSent;
@@ -366,13 +363,15 @@
 
 extern &quot;C&quot; {
 //----------------------------------------------------- C and Fortran routines
-void symspec_(int* k, int* ntrperiod, int* nsps, int* ingain,
-              float* px, float s[], float red[],
-              float* df3, int* nhsym, int* npts8);
+void symspec_(int* k, int* ntrperiod, int* nsps, int* ingain, float* slope,
+              float* px, float s[], float* df3, int* nhsym, int* npts8);
 
 void genjt9_(char* msg, int* ichk, char* msgsent, int itone[],
              int* itext, int len1, int len2);
 
+void gen65_(char* msg, int* ichk, char* msgsent, int itone[],
+             int* itext, int len1, int len2);
+
 bool stdmsg_(const char* msg, int len);
 
 void azdist_(char* MyGrid, char* HisGrid, double* utch, int* nAz, int* nEl,

Modified: branches/wsjtx/mainwindow.ui
===================================================================
--- branches/wsjtx/mainwindow.ui	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/mainwindow.ui	2013-07-08 13:17:22 UTC (rev 3462)
@@ -6,8 +6,8 @@
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
-    &lt;width&gt;711&lt;/width&gt;
-    &lt;height&gt;475&lt;/height&gt;
+    &lt;width&gt;760&lt;/width&gt;
+    &lt;height&gt;552&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
   &lt;property name=&quot;sizePolicy&quot;&gt;
@@ -18,7 +18,7 @@
   &lt;/property&gt;
   &lt;property name=&quot;minimumSize&quot;&gt;
    &lt;size&gt;
-    &lt;width&gt;711&lt;/width&gt;
+    &lt;width&gt;760&lt;/width&gt;
     &lt;height&gt;475&lt;/height&gt;
    &lt;/size&gt;
   &lt;/property&gt;
@@ -35,887 +35,1372 @@
    &lt;string notr=&quot;true&quot;/&gt;
   &lt;/property&gt;
   &lt;widget class=&quot;QWidget&quot; name=&quot;centralWidget&quot;&gt;
-   &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_5&quot;&gt;
+   &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
     &lt;item&gt;
-     &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_3&quot; stretch=&quot;1,0,0&quot;&gt;
-      &lt;property name=&quot;sizeConstraint&quot;&gt;
-       &lt;enum&gt;QLayout::SetDefaultConstraint&lt;/enum&gt;
+     &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout&quot;&gt;
+      &lt;property name=&quot;horizontalSpacing&quot;&gt;
+       &lt;number&gt;3&lt;/number&gt;
       &lt;/property&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout&quot;&gt;
-        &lt;property name=&quot;horizontalSpacing&quot;&gt;
-         &lt;number&gt;3&lt;/number&gt;
+      &lt;property name=&quot;verticalSpacing&quot;&gt;
+       &lt;number&gt;1&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;item row=&quot;4&quot; column=&quot;0&quot;&gt;
+       &lt;widget class=&quot;DisplayText&quot; name=&quot;decodedTextBrowser&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;Expanding&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
         &lt;/property&gt;
-        &lt;property name=&quot;verticalSpacing&quot;&gt;
-         &lt;number&gt;1&lt;/number&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;200&lt;/width&gt;
+          &lt;height&gt;100&lt;/height&gt;
+         &lt;/size&gt;
         &lt;/property&gt;
-        &lt;item row=&quot;4&quot; column=&quot;0&quot;&gt;
-         &lt;widget class=&quot;DisplayText&quot; name=&quot;decodedTextBrowser&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;Expanding&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;200&lt;/width&gt;
-            &lt;height&gt;100&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;500&lt;/width&gt;
-            &lt;height&gt;1000&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;font&quot;&gt;
-           &lt;font&gt;
-            &lt;family&gt;Courier New&lt;/family&gt;
-            &lt;pointsize&gt;10&lt;/pointsize&gt;
-           &lt;/font&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;frameShape&quot;&gt;
-           &lt;enum&gt;QFrame::Panel&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;verticalScrollBarPolicy&quot;&gt;
-           &lt;enum&gt;Qt::ScrollBarAlwaysOn&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;horizontalScrollBarPolicy&quot;&gt;
-           &lt;enum&gt;Qt::ScrollBarAlwaysOff&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;html&quot;&gt;
-           &lt;string notr=&quot;true&quot;&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;<A HREF="http://www.w3.org/TR/REC-html40/strict.dtd&amp;quot;&amp;gt;">http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;</A>
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;500&lt;/width&gt;
+          &lt;height&gt;1000&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;font&quot;&gt;
+         &lt;font&gt;
+          &lt;family&gt;Courier New&lt;/family&gt;
+          &lt;pointsize&gt;10&lt;/pointsize&gt;
+         &lt;/font&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;frameShape&quot;&gt;
+         &lt;enum&gt;QFrame::Panel&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;verticalScrollBarPolicy&quot;&gt;
+         &lt;enum&gt;Qt::ScrollBarAlwaysOn&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;horizontalScrollBarPolicy&quot;&gt;
+         &lt;enum&gt;Qt::ScrollBarAlwaysOff&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;html&quot;&gt;
+         &lt;string notr=&quot;true&quot;&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;<A HREF="http://www.w3.org/TR/REC-html40/strict.dtd&amp;quot;&amp;gt;">http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;</A>
 &lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;
 p, li { white-space: pre-wrap; }
 &lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:'Courier New'; font-size:10pt; font-weight:400; font-style:normal;&quot;&gt;
-&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;acceptRichText&quot;&gt;
-           &lt;bool&gt;false&lt;/bool&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;openLinks&quot;&gt;
-           &lt;bool&gt;false&lt;/bool&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;acceptRichText&quot;&gt;
+         &lt;bool&gt;false&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;openLinks&quot;&gt;
+         &lt;bool&gt;false&lt;/bool&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;1&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;decodedTextLabel2&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;300&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;500&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;palette&quot;&gt;
+         &lt;palette&gt;
+          &lt;active&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/active&gt;
+          &lt;inactive&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/inactive&gt;
+          &lt;disabled&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/disabled&gt;
+         &lt;/palette&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;autoFillBackground&quot;&gt;
+         &lt;bool&gt;true&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;UTC           dB            DT           Freq          Dr &lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;indent&quot;&gt;
+         &lt;number&gt;5&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;decodedTextLabel&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;300&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;500&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;palette&quot;&gt;
+         &lt;palette&gt;
+          &lt;active&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/active&gt;
+          &lt;inactive&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/inactive&gt;
+          &lt;disabled&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;170&lt;/red&gt;
+              &lt;green&gt;170&lt;/green&gt;
+              &lt;blue&gt;170&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/disabled&gt;
+         &lt;/palette&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;autoFillBackground&quot;&gt;
+         &lt;bool&gt;true&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;UTC           dB            DT           Freq          Dr &lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;indent&quot;&gt;
+         &lt;number&gt;5&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;4&quot; column=&quot;1&quot;&gt;
+       &lt;widget class=&quot;DisplayText&quot; name=&quot;decodedTextBrowser2&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;Expanding&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;200&lt;/width&gt;
+          &lt;height&gt;100&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;500&lt;/width&gt;
+          &lt;height&gt;1000&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;font&quot;&gt;
+         &lt;font&gt;
+          &lt;family&gt;Courier New&lt;/family&gt;
+          &lt;pointsize&gt;10&lt;/pointsize&gt;
+         &lt;/font&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;verticalScrollBarPolicy&quot;&gt;
+         &lt;enum&gt;Qt::ScrollBarAlwaysOn&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;horizontalScrollBarPolicy&quot;&gt;
+         &lt;enum&gt;Qt::ScrollBarAlwaysOff&lt;/enum&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;1&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;label_7&quot;&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;500&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;font&quot;&gt;
+         &lt;font&gt;
+          &lt;pointsize&gt;10&lt;/pointsize&gt;
+          &lt;weight&gt;50&lt;/weight&gt;
+          &lt;bold&gt;false&lt;/bold&gt;
+         &lt;/font&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Rx Frequency&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot;&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;500&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;font&quot;&gt;
+         &lt;font&gt;
+          &lt;pointsize&gt;10&lt;/pointsize&gt;
+          &lt;weight&gt;50&lt;/weight&gt;
+          &lt;bold&gt;false&lt;/bold&gt;
+         &lt;/font&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Band Activity&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt;
+       &lt;widget class=&quot;Line&quot; name=&quot;line&quot;&gt;
+        &lt;property name=&quot;frameShadow&quot;&gt;
+         &lt;enum&gt;QFrame::Plain&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;orientation&quot;&gt;
+         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;2&quot; column=&quot;1&quot;&gt;
+       &lt;widget class=&quot;Line&quot; name=&quot;line_2&quot;&gt;
+        &lt;property name=&quot;frameShadow&quot;&gt;
+         &lt;enum&gt;QFrame::Plain&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;orientation&quot;&gt;
+         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+     &lt;/layout&gt;
+    &lt;/item&gt;
+    &lt;item&gt;
+     &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;logQSOButton&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Enter this QSO in ADIF log&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Log &amp;QSO&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;stopButton&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Stop monitoring&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Stop&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;monitorButton&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;16777215&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Start monitoring&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Monitor&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;EraseButton&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Erase QSO Frequency window.  Double-click for both windows&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Erase&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;DecodeButton&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Decode most recent Rx period at QSO Frequency (use shift for all freqs)&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Decode&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;autoButton&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Toggle Tx Enable On/Off&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;E&amp;nable Tx&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;stopTxButton&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;50&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Set Tx Enable OFF&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Halt Tx&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;tuneButton&quot;&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Assert PTT and emit a pure tone&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Tune&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+     &lt;/layout&gt;
+    &lt;/item&gt;
+    &lt;item&gt;
+     &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_3&quot;&gt;
+      &lt;item row=&quot;0&quot; column=&quot;0&quot; colspan=&quot;3&quot;&gt;
+       &lt;widget class=&quot;QComboBox&quot; name=&quot;bandComboBox&quot;&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Select operating band&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;currentIndex&quot;&gt;
+         &lt;number&gt;7&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;2200 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;3&quot; column=&quot;1&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;decodedTextLabel2&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;300&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;500&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;palette&quot;&gt;
-           &lt;palette&gt;
-            &lt;active&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/active&gt;
-            &lt;inactive&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/inactive&gt;
-            &lt;disabled&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/disabled&gt;
-           &lt;/palette&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;autoFillBackground&quot;&gt;
-           &lt;bool&gt;true&lt;/bool&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;UTC       dB            DT           Freq          Dr &lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;indent&quot;&gt;
-           &lt;number&gt;5&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;630 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;decodedTextLabel&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;300&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;500&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;palette&quot;&gt;
-           &lt;palette&gt;
-            &lt;active&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/active&gt;
-            &lt;inactive&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/inactive&gt;
-            &lt;disabled&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;170&lt;/red&gt;
-                &lt;green&gt;170&lt;/green&gt;
-                &lt;blue&gt;170&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/disabled&gt;
-           &lt;/palette&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;autoFillBackground&quot;&gt;
-           &lt;bool&gt;true&lt;/bool&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;UTC       dB            DT           Freq          Dr &lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;indent&quot;&gt;
-           &lt;number&gt;5&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;160 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;4&quot; column=&quot;1&quot;&gt;
-         &lt;widget class=&quot;DisplayText&quot; name=&quot;decodedTextBrowser2&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;Expanding&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;200&lt;/width&gt;
-            &lt;height&gt;100&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;500&lt;/width&gt;
-            &lt;height&gt;1000&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;font&quot;&gt;
-           &lt;font&gt;
-            &lt;family&gt;Courier New&lt;/family&gt;
-            &lt;pointsize&gt;10&lt;/pointsize&gt;
-           &lt;/font&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;verticalScrollBarPolicy&quot;&gt;
-           &lt;enum&gt;Qt::ScrollBarAlwaysOn&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;horizontalScrollBarPolicy&quot;&gt;
-           &lt;enum&gt;Qt::ScrollBarAlwaysOff&lt;/enum&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;80 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;1&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_7&quot;&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;500&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;font&quot;&gt;
-           &lt;font&gt;
-            &lt;pointsize&gt;10&lt;/pointsize&gt;
-            &lt;weight&gt;50&lt;/weight&gt;
-            &lt;bold&gt;false&lt;/bold&gt;
-           &lt;/font&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;QSO Frequency&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;60 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot;&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;500&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;font&quot;&gt;
-           &lt;font&gt;
-            &lt;pointsize&gt;10&lt;/pointsize&gt;
-            &lt;weight&gt;50&lt;/weight&gt;
-            &lt;bold&gt;false&lt;/bold&gt;
-           &lt;/font&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;Band Activity&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;40 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt;
-         &lt;widget class=&quot;Line&quot; name=&quot;line&quot;&gt;
-          &lt;property name=&quot;frameShadow&quot;&gt;
-           &lt;enum&gt;QFrame::Plain&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;orientation&quot;&gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;30 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;1&quot;&gt;
-         &lt;widget class=&quot;Line&quot; name=&quot;line_2&quot;&gt;
-          &lt;property name=&quot;frameShadow&quot;&gt;
-           &lt;enum&gt;QFrame::Plain&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;orientation&quot;&gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+        &lt;item&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;20 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;logQSOButton&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Enter this QSO in ADIF log&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;Log &amp;QSO&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;17 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;stopButton&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Stop monitoring&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Stop&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;15 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;monitorButton&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;16777215&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Start monitoring&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Monitor&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;12 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;DecodeButton&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Decode most recent Rx period at QSO Frequency (use shift for all freqs)&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Decode&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;10 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;EraseButton&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Erase QSO Frequency window.  Double-click for both windows&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Erase&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;6 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;autoButton&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Toggle Tx Enable On/Off&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;E&amp;nable Tx&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;4 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;stopTxButton&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;50&lt;/width&gt;
-            &lt;height&gt;0&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Set Tx Enable OFF&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Halt Tx&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;2 m&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
         &lt;item&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;tuneButton&quot;&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Assert PTT and emit a pure tone&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Tune&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
+         &lt;property name=&quot;text&quot;&gt;
+          &lt;string&gt;Other&lt;/string&gt;
+         &lt;/property&gt;
         &lt;/item&gt;
-       &lt;/layout&gt;
+       &lt;/widget&gt;
       &lt;/item&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_3&quot; rowstretch=&quot;1,1,1,1,1,1&quot; rowminimumheight=&quot;1,1,1,1,1,1&quot;&gt;
-        &lt;property name=&quot;sizeConstraint&quot;&gt;
-         &lt;enum&gt;QLayout::SetMinimumSize&lt;/enum&gt;
+      &lt;item row=&quot;0&quot; column=&quot;3&quot;&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;readFreq&quot;&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;15&lt;/width&gt;
+          &lt;height&gt;15&lt;/height&gt;
+         &lt;/size&gt;
         &lt;/property&gt;
-        &lt;item row=&quot;0&quot; column=&quot;9&quot; rowspan=&quot;6&quot;&gt;
-         &lt;widget class=&quot;QFrame&quot; name=&quot;frame_2&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;283&lt;/width&gt;
-            &lt;height&gt;222&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;frameShape&quot;&gt;
-           &lt;enum&gt;QFrame::StyledPanel&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;frameShadow&quot;&gt;
-           &lt;enum&gt;QFrame::Plain&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;lineWidth&quot;&gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_2&quot;&gt;
-           &lt;property name=&quot;spacing&quot;&gt;
-            &lt;number&gt;0&lt;/number&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;If orange, click to read dial frequency once&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string/&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;0&quot; column=&quot;4&quot; colspan=&quot;2&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;labDialFreq&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;30&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;158&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;font&quot;&gt;
+         &lt;font&gt;
+          &lt;pointsize&gt;16&lt;/pointsize&gt;
+          &lt;weight&gt;50&lt;/weight&gt;
+          &lt;bold&gt;false&lt;/bold&gt;
+         &lt;/font&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;USB dial frequency&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;14.078&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;0&quot; column=&quot;7&quot;&gt;
+       &lt;widget class=&quot;QCheckBox&quot; name=&quot;txFirstCheckBox&quot;&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;105&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;105&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Check to Tx in even minutes, uncheck for odd minutes&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Tx even&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;0&quot; column=&quot;9&quot; rowspan=&quot;7&quot;&gt;
+       &lt;widget class=&quot;QFrame&quot; name=&quot;frame_2&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;283&lt;/width&gt;
+          &lt;height&gt;222&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;frameShape&quot;&gt;
+         &lt;enum&gt;QFrame::StyledPanel&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;frameShadow&quot;&gt;
+         &lt;enum&gt;QFrame::Plain&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;lineWidth&quot;&gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_2&quot;&gt;
+         &lt;property name=&quot;spacing&quot;&gt;
+          &lt;number&gt;0&lt;/number&gt;
+         &lt;/property&gt;
+         &lt;property name=&quot;margin&quot;&gt;
+          &lt;number&gt;0&lt;/number&gt;
+         &lt;/property&gt;
+         &lt;item&gt;
+          &lt;widget class=&quot;QTabWidget&quot; name=&quot;tabWidget&quot;&gt;
+           &lt;property name=&quot;sizePolicy&quot;&gt;
+            &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;Preferred&quot;&gt;
+             &lt;horstretch&gt;0&lt;/horstretch&gt;
+             &lt;verstretch&gt;0&lt;/verstretch&gt;
+            &lt;/sizepolicy&gt;
            &lt;/property&gt;
-           &lt;property name=&quot;margin&quot;&gt;
+           &lt;property name=&quot;minimumSize&quot;&gt;
+            &lt;size&gt;
+             &lt;width&gt;0&lt;/width&gt;
+             &lt;height&gt;200&lt;/height&gt;
+            &lt;/size&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;tabPosition&quot;&gt;
+            &lt;enum&gt;QTabWidget::West&lt;/enum&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;tabShape&quot;&gt;
+            &lt;enum&gt;QTabWidget::Triangular&lt;/enum&gt;
+           &lt;/property&gt;
+           &lt;property name=&quot;currentIndex&quot;&gt;
             &lt;number&gt;0&lt;/number&gt;
            &lt;/property&gt;
-           &lt;item&gt;
-            &lt;widget class=&quot;QTabWidget&quot; name=&quot;tabWidget&quot;&gt;
-             &lt;property name=&quot;sizePolicy&quot;&gt;
-              &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;Preferred&quot;&gt;
-               &lt;horstretch&gt;0&lt;/horstretch&gt;
-               &lt;verstretch&gt;0&lt;/verstretch&gt;
-              &lt;/sizepolicy&gt;
+           &lt;widget class=&quot;QWidget&quot; name=&quot;tab&quot;&gt;
+            &lt;attribute name=&quot;title&quot;&gt;
+             &lt;string&gt;1&lt;/string&gt;
+            &lt;/attribute&gt;
+            &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_4&quot;&gt;
+             &lt;property name=&quot;spacing&quot;&gt;
+              &lt;number&gt;6&lt;/number&gt;
              &lt;/property&gt;
-             &lt;property name=&quot;minimumSize&quot;&gt;
-              &lt;size&gt;
-               &lt;width&gt;0&lt;/width&gt;
-               &lt;height&gt;200&lt;/height&gt;
-              &lt;/size&gt;
+             &lt;property name=&quot;leftMargin&quot;&gt;
+              &lt;number&gt;4&lt;/number&gt;
              &lt;/property&gt;
-             &lt;property name=&quot;tabPosition&quot;&gt;
-              &lt;enum&gt;QTabWidget::West&lt;/enum&gt;
+             &lt;property name=&quot;topMargin&quot;&gt;
+              &lt;number&gt;1&lt;/number&gt;
              &lt;/property&gt;
-             &lt;property name=&quot;tabShape&quot;&gt;
-              &lt;enum&gt;QTabWidget::Triangular&lt;/enum&gt;
+             &lt;property name=&quot;rightMargin&quot;&gt;
+              &lt;number&gt;0&lt;/number&gt;
              &lt;/property&gt;
-             &lt;property name=&quot;currentIndex&quot;&gt;
+             &lt;property name=&quot;bottomMargin&quot;&gt;
               &lt;number&gt;0&lt;/number&gt;
              &lt;/property&gt;
-             &lt;widget class=&quot;QWidget&quot; name=&quot;tab&quot;&gt;
-              &lt;attribute name=&quot;title&quot;&gt;
-               &lt;string&gt;1&lt;/string&gt;
-              &lt;/attribute&gt;
-              &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_4&quot;&gt;
+             &lt;item&gt;
+              &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_2&quot;&gt;
+               &lt;property name=&quot;horizontalSpacing&quot;&gt;
+                &lt;number&gt;6&lt;/number&gt;
+               &lt;/property&gt;
+               &lt;property name=&quot;verticalSpacing&quot;&gt;
+                &lt;number&gt;5&lt;/number&gt;
+               &lt;/property&gt;
+               &lt;item row=&quot;1&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;txb1&quot;&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;40&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;layoutDirection&quot;&gt;
+                  &lt;enum&gt;Qt::LeftToRight&lt;/enum&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Tx 1&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;4&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb4&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;16&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;0&lt;/width&gt;
+                   &lt;height&gt;20&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;20&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                 &lt;attribute name=&quot;buttonGroup&quot;&gt;
+                  &lt;string&gt;buttonGroup&lt;/string&gt;
+                 &lt;/attribute&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;1&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb1&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;16&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;0&lt;/width&gt;
+                   &lt;height&gt;20&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;20&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;checked&quot;&gt;
+                  &lt;bool&gt;true&lt;/bool&gt;
+                 &lt;/property&gt;
+                 &lt;attribute name=&quot;buttonGroup&quot;&gt;
+                  &lt;string&gt;buttonGroup&lt;/string&gt;
+                 &lt;/attribute&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;3&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb3&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;16&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;0&lt;/width&gt;
+                   &lt;height&gt;20&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;20&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                 &lt;attribute name=&quot;buttonGroup&quot;&gt;
+                  &lt;string&gt;buttonGroup&lt;/string&gt;
+                 &lt;/attribute&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx1&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;24&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;font&quot;&gt;
+                  &lt;font&gt;
+                   &lt;family&gt;Droid Sans&lt;/family&gt;
+                   &lt;weight&gt;50&lt;/weight&gt;
+                   &lt;bold&gt;false&lt;/bold&gt;
+                  &lt;/font&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;3&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;txb3&quot;&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;40&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Tx 3&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;4&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;txb4&quot;&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;40&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Tx 4&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;0&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot;&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Queue up the next Tx message&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Next&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;6&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx6&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;24&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;5&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx5&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;24&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Right-click to select a macro message&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;5&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;txb5&quot;&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;40&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Tx 5&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;2&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb2&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;16&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;0&lt;/width&gt;
+                   &lt;height&gt;20&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;20&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                 &lt;attribute name=&quot;buttonGroup&quot;&gt;
+                  &lt;string&gt;buttonGroup&lt;/string&gt;
+                 &lt;/attribute&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;0&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Now&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;alignment&quot;&gt;
+                  &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;genStdMsgsPushButton&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;0&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Generate standard messages for minimal QSO&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Generate Std Msgs&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx2&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;24&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx3&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;24&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;6&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;txb6&quot;&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;40&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Tx 6&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;2&quot; column=&quot;2&quot;&gt;
+                &lt;widget class=&quot;QPushButton&quot; name=&quot;txb2&quot;&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;40&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string&gt;Tx 2&lt;/string&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;6&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb6&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;16&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;0&lt;/width&gt;
+                   &lt;height&gt;20&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;20&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                 &lt;attribute name=&quot;buttonGroup&quot;&gt;
+                  &lt;string&gt;buttonGroup&lt;/string&gt;
+                 &lt;/attribute&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;5&quot; column=&quot;1&quot;&gt;
+                &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb5&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;16&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;0&lt;/width&gt;
+                   &lt;height&gt;20&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;20&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;toolTip&quot;&gt;
+                  &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;text&quot;&gt;
+                  &lt;string/&gt;
+                 &lt;/property&gt;
+                 &lt;attribute name=&quot;buttonGroup&quot;&gt;
+                  &lt;string&gt;buttonGroup&lt;/string&gt;
+                 &lt;/attribute&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+               &lt;item row=&quot;4&quot; column=&quot;0&quot;&gt;
+                &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx4&quot;&gt;
+                 &lt;property name=&quot;sizePolicy&quot;&gt;
+                  &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                   &lt;horstretch&gt;200&lt;/horstretch&gt;
+                   &lt;verstretch&gt;0&lt;/verstretch&gt;
+                  &lt;/sizepolicy&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;minimumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;24&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                 &lt;property name=&quot;maximumSize&quot;&gt;
+                  &lt;size&gt;
+                   &lt;width&gt;150&lt;/width&gt;
+                   &lt;height&gt;16777215&lt;/height&gt;
+                  &lt;/size&gt;
+                 &lt;/property&gt;
+                &lt;/widget&gt;
+               &lt;/item&gt;
+              &lt;/layout&gt;
+             &lt;/item&gt;
+            &lt;/layout&gt;
+           &lt;/widget&gt;
+           &lt;widget class=&quot;QWidget&quot; name=&quot;tab_2&quot;&gt;
+            &lt;attribute name=&quot;title&quot;&gt;
+             &lt;string&gt;2&lt;/string&gt;
+            &lt;/attribute&gt;
+            &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_9&quot;&gt;
+             &lt;property name=&quot;spacing&quot;&gt;
+              &lt;number&gt;0&lt;/number&gt;
+             &lt;/property&gt;
+             &lt;property name=&quot;margin&quot;&gt;
+              &lt;number&gt;0&lt;/number&gt;
+             &lt;/property&gt;
+             &lt;item&gt;
+              &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_7&quot;&gt;
                &lt;property name=&quot;spacing&quot;&gt;
                 &lt;number&gt;6&lt;/number&gt;
                &lt;/property&gt;
                &lt;property name=&quot;leftMargin&quot;&gt;
-                &lt;number&gt;4&lt;/number&gt;
+                &lt;number&gt;2&lt;/number&gt;
                &lt;/property&gt;
-               &lt;property name=&quot;topMargin&quot;&gt;
-                &lt;number&gt;1&lt;/number&gt;
-               &lt;/property&gt;
                &lt;property name=&quot;rightMargin&quot;&gt;
-                &lt;number&gt;0&lt;/number&gt;
+                &lt;number&gt;2&lt;/number&gt;
                &lt;/property&gt;
-               &lt;property name=&quot;bottomMargin&quot;&gt;
-                &lt;number&gt;0&lt;/number&gt;
-               &lt;/property&gt;
                &lt;item&gt;
-                &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_2&quot;&gt;
-                 &lt;property name=&quot;horizontalSpacing&quot;&gt;
-                  &lt;number&gt;6&lt;/number&gt;
+                &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_4&quot;&gt;
+                 &lt;property name=&quot;spacing&quot;&gt;
+                  &lt;number&gt;2&lt;/number&gt;
                  &lt;/property&gt;
-                 &lt;property name=&quot;verticalSpacing&quot;&gt;
-                  &lt;number&gt;5&lt;/number&gt;
-                 &lt;/property&gt;
-                 &lt;item row=&quot;1&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;txb1&quot;&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;40&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;layoutDirection&quot;&gt;
-                    &lt;enum&gt;Qt::LeftToRight&lt;/enum&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Tx 1&lt;/string&gt;
-                   &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;4&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb4&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;16&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
+                 &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt;
+                  &lt;widget class=&quot;QLabel&quot; name=&quot;label_9&quot;&gt;
                    &lt;property name=&quot;minimumSize&quot;&gt;
                     &lt;size&gt;
                      &lt;width&gt;0&lt;/width&gt;
-                     &lt;height&gt;20&lt;/height&gt;
+                     &lt;height&gt;30&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;maximumSize&quot;&gt;
                     &lt;size&gt;
-                     &lt;width&gt;20&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
+                     &lt;width&gt;16777215&lt;/width&gt;
+                     &lt;height&gt;30&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
-                   &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
+                    &lt;string&gt;Calling CQ &lt;/string&gt;
                    &lt;/property&gt;
-                   &lt;attribute name=&quot;buttonGroup&quot;&gt;
-                    &lt;string&gt;buttonGroup&lt;/string&gt;
-                   &lt;/attribute&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;1&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb1&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;16&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
+                   &lt;property name=&quot;alignment&quot;&gt;
+                    &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;0&lt;/width&gt;
-                     &lt;height&gt;20&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;20&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;checked&quot;&gt;
-                    &lt;bool&gt;true&lt;/bool&gt;
-                   &lt;/property&gt;
-                   &lt;attribute name=&quot;buttonGroup&quot;&gt;
-                    &lt;string&gt;buttonGroup&lt;/string&gt;
-                   &lt;/attribute&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;3&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb3&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;16&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;0&lt;/width&gt;
-                     &lt;height&gt;20&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;20&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
+                 &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt;
+                  &lt;widget class=&quot;QPushButton&quot; name=&quot;pbCallCQ&quot;&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                    &lt;string&gt;Generate a CQ message&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
+                    &lt;string&gt;CQ&lt;/string&gt;
                    &lt;/property&gt;
-                   &lt;attribute name=&quot;buttonGroup&quot;&gt;
-                    &lt;string&gt;buttonGroup&lt;/string&gt;
-                   &lt;/attribute&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx1&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;24&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;font&quot;&gt;
-                    &lt;font&gt;
-                     &lt;family&gt;Droid Sans&lt;/family&gt;
-                     &lt;weight&gt;50&lt;/weight&gt;
-                     &lt;bold&gt;false&lt;/bold&gt;
-                    &lt;/font&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
-                   &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;3&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;txb3&quot;&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;40&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
+                 &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
+                  &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSendRRR&quot;&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                    &lt;string&gt;Generate message with RRR&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Tx 3&lt;/string&gt;
+                    &lt;string&gt;RRR&lt;/string&gt;
                    &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;4&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;txb4&quot;&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;40&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
+                 &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt;
+                  &lt;widget class=&quot;QPushButton&quot; name=&quot;pbAnswerCaller&quot;&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                    &lt;string&gt;Generate message with report&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Tx 4&lt;/string&gt;
+                    &lt;string&gt;dB&lt;/string&gt;
                    &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
                  &lt;item row=&quot;0&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot;&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Queue up the next Tx message&lt;/string&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Next&lt;/string&gt;
-                   &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;6&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx6&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
+                  &lt;widget class=&quot;QLabel&quot; name=&quot;label_10&quot;&gt;
                    &lt;property name=&quot;minimumSize&quot;&gt;
                     &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;24&lt;/height&gt;
+                     &lt;width&gt;0&lt;/width&gt;
+                     &lt;height&gt;30&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;maximumSize&quot;&gt;
                     &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
+                     &lt;width&gt;16777215&lt;/width&gt;
+                     &lt;height&gt;30&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;5&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx5&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
+                   &lt;property name=&quot;text&quot;&gt;
+                    &lt;string&gt;Answering CQ&lt;/string&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;24&lt;/height&gt;
-                    &lt;/size&gt;
+                   &lt;property name=&quot;alignment&quot;&gt;
+                    &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Right-click to select a macro message&lt;/string&gt;
-                   &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;5&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;txb5&quot;&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;40&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
+                 &lt;item row=&quot;1&quot; column=&quot;1&quot;&gt;
+                  &lt;widget class=&quot;QPushButton&quot; name=&quot;pbAnswerCQ&quot;&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                    &lt;string&gt;Generate message for replying to a CQ&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Tx 5&lt;/string&gt;
+                    &lt;string&gt;Grid&lt;/string&gt;
                    &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
                  &lt;item row=&quot;2&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb2&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;16&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;0&lt;/width&gt;
-                     &lt;height&gt;20&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;20&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
+                  &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSendReport&quot;&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                    &lt;string&gt;Generate message with R+report&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
+                    &lt;string&gt;R+dB&lt;/string&gt;
                    &lt;/property&gt;
-                   &lt;attribute name=&quot;buttonGroup&quot;&gt;
-                    &lt;string&gt;buttonGroup&lt;/string&gt;
-                   &lt;/attribute&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;0&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+                 &lt;item row=&quot;3&quot; column=&quot;1&quot;&gt;
+                  &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSend73&quot;&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                    &lt;string&gt;Generate message with 73&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Now&lt;/string&gt;
+                    &lt;string&gt;73&lt;/string&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;alignment&quot;&gt;
-                    &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-                   &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;genStdMsgsPushButton&quot;&gt;
+                &lt;/layout&gt;
+               &lt;/item&gt;
+               &lt;item&gt;
+                &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
+                 &lt;item&gt;
+                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;genMsg&quot;&gt;
                    &lt;property name=&quot;sizePolicy&quot;&gt;
                     &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
+                     &lt;horstretch&gt;0&lt;/horstretch&gt;
                      &lt;verstretch&gt;0&lt;/verstretch&gt;
                     &lt;/sizepolicy&gt;
                    &lt;/property&gt;
@@ -925,800 +1410,773 @@
                      &lt;height&gt;0&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
+                   &lt;property name=&quot;readOnly&quot;&gt;
+                    &lt;bool&gt;true&lt;/bool&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Generate standard messages for minimal QSO&lt;/string&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Generate Std Msgs&lt;/string&gt;
-                   &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx2&quot;&gt;
+                 &lt;item&gt;
+                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbGenMsg&quot;&gt;
                    &lt;property name=&quot;sizePolicy&quot;&gt;
                     &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
+                     &lt;horstretch&gt;0&lt;/horstretch&gt;
                      &lt;verstretch&gt;0&lt;/verstretch&gt;
                     &lt;/sizepolicy&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;minimumSize&quot;&gt;
                     &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;24&lt;/height&gt;
+                     &lt;width&gt;0&lt;/width&gt;
+                     &lt;height&gt;26&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx3&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;24&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;6&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;txb6&quot;&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;40&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
+                    &lt;string&gt;Send this standard (generated) message&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Tx 6&lt;/string&gt;
+                    &lt;string&gt;Gen msg&lt;/string&gt;
                    &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
-                 &lt;item row=&quot;2&quot; column=&quot;2&quot;&gt;
-                  &lt;widget class=&quot;QPushButton&quot; name=&quot;txb2&quot;&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;40&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
+                   &lt;property name=&quot;checked&quot;&gt;
+                    &lt;bool&gt;true&lt;/bool&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Switch to this Tx message NOW&lt;/string&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string&gt;Tx 2&lt;/string&gt;
-                   &lt;/property&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;6&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb6&quot;&gt;
+                &lt;/layout&gt;
+               &lt;/item&gt;
+               &lt;item&gt;
+                &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
+                 &lt;item&gt;
+                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;freeTextMsg&quot;&gt;
                    &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;16&lt;/horstretch&gt;
+                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                     &lt;horstretch&gt;0&lt;/horstretch&gt;
                      &lt;verstretch&gt;0&lt;/verstretch&gt;
                     &lt;/sizepolicy&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;minimumSize&quot;&gt;
                     &lt;size&gt;
-                     &lt;width&gt;0&lt;/width&gt;
-                     &lt;height&gt;20&lt;/height&gt;
+                     &lt;width&gt;150&lt;/width&gt;
+                     &lt;height&gt;0&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;20&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
-                   &lt;/property&gt;
-                   &lt;attribute name=&quot;buttonGroup&quot;&gt;
-                    &lt;string&gt;buttonGroup&lt;/string&gt;
-                   &lt;/attribute&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;5&quot; column=&quot;1&quot;&gt;
-                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;txrb5&quot;&gt;
+                 &lt;item&gt;
+                  &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbFreeText&quot;&gt;
                    &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;16&lt;/horstretch&gt;
+                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+                     &lt;horstretch&gt;0&lt;/horstretch&gt;
                      &lt;verstretch&gt;0&lt;/verstretch&gt;
                     &lt;/sizepolicy&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;minimumSize&quot;&gt;
                     &lt;size&gt;
                      &lt;width&gt;0&lt;/width&gt;
-                     &lt;height&gt;20&lt;/height&gt;
+                     &lt;height&gt;26&lt;/height&gt;
                     &lt;/size&gt;
                    &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;20&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
                    &lt;property name=&quot;toolTip&quot;&gt;
-                    &lt;string&gt;Send this message in next Tx interval&lt;/string&gt;
+                    &lt;string&gt;Send this free-text message (max 13 characters)&lt;/string&gt;
                    &lt;/property&gt;
                    &lt;property name=&quot;text&quot;&gt;
-                    &lt;string/&gt;
+                    &lt;string&gt;Free msg&lt;/string&gt;
                    &lt;/property&gt;
-                   &lt;attribute name=&quot;buttonGroup&quot;&gt;
-                    &lt;string&gt;buttonGroup&lt;/string&gt;
-                   &lt;/attribute&gt;
                   &lt;/widget&gt;
                  &lt;/item&gt;
-                 &lt;item row=&quot;4&quot; column=&quot;0&quot;&gt;
-                  &lt;widget class=&quot;QLineEdit&quot; name=&quot;tx4&quot;&gt;
-                   &lt;property name=&quot;sizePolicy&quot;&gt;
-                    &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                     &lt;horstretch&gt;200&lt;/horstretch&gt;
-                     &lt;verstretch&gt;0&lt;/verstretch&gt;
-                    &lt;/sizepolicy&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;minimumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;24&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                   &lt;property name=&quot;maximumSize&quot;&gt;
-                    &lt;size&gt;
-                     &lt;width&gt;150&lt;/width&gt;
-                     &lt;height&gt;16777215&lt;/height&gt;
-                    &lt;/size&gt;
-                   &lt;/property&gt;
-                  &lt;/widget&gt;
-                 &lt;/item&gt;
                 &lt;/layout&gt;
                &lt;/item&gt;
               &lt;/layout&gt;
-             &lt;/widget&gt;
-             &lt;widget class=&quot;QWidget&quot; name=&quot;tab_2&quot;&gt;
-              &lt;attribute name=&quot;title&quot;&gt;
-               &lt;string&gt;2&lt;/string&gt;
-              &lt;/attribute&gt;
-              &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_9&quot;&gt;
-               &lt;property name=&quot;spacing&quot;&gt;
-                &lt;number&gt;0&lt;/number&gt;
-               &lt;/property&gt;
-               &lt;property name=&quot;margin&quot;&gt;
-                &lt;number&gt;0&lt;/number&gt;
-               &lt;/property&gt;
-               &lt;item&gt;
-                &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout_7&quot;&gt;
-                 &lt;property name=&quot;spacing&quot;&gt;
-                  &lt;number&gt;6&lt;/number&gt;
-                 &lt;/property&gt;
-                 &lt;property name=&quot;leftMargin&quot;&gt;
-                  &lt;number&gt;2&lt;/number&gt;
-                 &lt;/property&gt;
-                 &lt;property name=&quot;rightMargin&quot;&gt;
-                  &lt;number&gt;2&lt;/number&gt;
-                 &lt;/property&gt;
-                 &lt;item&gt;
-                  &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_4&quot;&gt;
-                   &lt;property name=&quot;spacing&quot;&gt;
-                    &lt;number&gt;2&lt;/number&gt;
-                   &lt;/property&gt;
-                   &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt;
-                    &lt;widget class=&quot;QLabel&quot; name=&quot;label_9&quot;&gt;
-                     &lt;property name=&quot;minimumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;0&lt;/width&gt;
-                       &lt;height&gt;30&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;maximumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;16777215&lt;/width&gt;
-                       &lt;height&gt;30&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;Calling CQ &lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;alignment&quot;&gt;
-                      &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt;
-                    &lt;widget class=&quot;QPushButton&quot; name=&quot;pbCallCQ&quot;&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Generate a CQ message&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;CQ&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
-                    &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSendRRR&quot;&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Generate message with RRR&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;RRR&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt;
-                    &lt;widget class=&quot;QPushButton&quot; name=&quot;pbAnswerCaller&quot;&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Generate message with report&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;dB&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;0&quot; column=&quot;1&quot;&gt;
-                    &lt;widget class=&quot;QLabel&quot; name=&quot;label_10&quot;&gt;
-                     &lt;property name=&quot;minimumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;0&lt;/width&gt;
-                       &lt;height&gt;30&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;maximumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;16777215&lt;/width&gt;
-                       &lt;height&gt;30&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;Answering CQ&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;alignment&quot;&gt;
-                      &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;1&quot; column=&quot;1&quot;&gt;
-                    &lt;widget class=&quot;QPushButton&quot; name=&quot;pbAnswerCQ&quot;&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Generate message for replying to a CQ&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;Grid&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;2&quot; column=&quot;1&quot;&gt;
-                    &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSendReport&quot;&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Generate message with R+report&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;R+dB&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item row=&quot;3&quot; column=&quot;1&quot;&gt;
-                    &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSend73&quot;&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Generate message with 73&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;73&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                  &lt;/layout&gt;
-                 &lt;/item&gt;
-                 &lt;item&gt;
-                  &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
-                   &lt;item&gt;
-                    &lt;widget class=&quot;QLineEdit&quot; name=&quot;genMsg&quot;&gt;
-                     &lt;property name=&quot;sizePolicy&quot;&gt;
-                      &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                       &lt;horstretch&gt;0&lt;/horstretch&gt;
-                       &lt;verstretch&gt;0&lt;/verstretch&gt;
-                      &lt;/sizepolicy&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;minimumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;150&lt;/width&gt;
-                       &lt;height&gt;0&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;readOnly&quot;&gt;
-                      &lt;bool&gt;true&lt;/bool&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item&gt;
-                    &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbGenMsg&quot;&gt;
-                     &lt;property name=&quot;sizePolicy&quot;&gt;
-                      &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                       &lt;horstretch&gt;0&lt;/horstretch&gt;
-                       &lt;verstretch&gt;0&lt;/verstretch&gt;
-                      &lt;/sizepolicy&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;minimumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;0&lt;/width&gt;
-                       &lt;height&gt;26&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Send this standard (generated) message&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;Gen msg&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;checked&quot;&gt;
-                      &lt;bool&gt;true&lt;/bool&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                  &lt;/layout&gt;
-                 &lt;/item&gt;
-                 &lt;item&gt;
-                  &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
-                   &lt;item&gt;
-                    &lt;widget class=&quot;QLineEdit&quot; name=&quot;freeTextMsg&quot;&gt;
-                     &lt;property name=&quot;sizePolicy&quot;&gt;
-                      &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                       &lt;horstretch&gt;0&lt;/horstretch&gt;
-                       &lt;verstretch&gt;0&lt;/verstretch&gt;
-                      &lt;/sizepolicy&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;minimumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;150&lt;/width&gt;
-                       &lt;height&gt;0&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                   &lt;item&gt;
-                    &lt;widget class=&quot;QRadioButton&quot; name=&quot;rbFreeText&quot;&gt;
-                     &lt;property name=&quot;sizePolicy&quot;&gt;
-                      &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-                       &lt;horstretch&gt;0&lt;/horstretch&gt;
-                       &lt;verstretch&gt;0&lt;/verstretch&gt;
-                      &lt;/sizepolicy&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;minimumSize&quot;&gt;
-                      &lt;size&gt;
-                       &lt;width&gt;0&lt;/width&gt;
-                       &lt;height&gt;26&lt;/height&gt;
-                      &lt;/size&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;toolTip&quot;&gt;
-                      &lt;string&gt;Send this free-text message (max 13 characters)&lt;/string&gt;
-                     &lt;/property&gt;
-                     &lt;property name=&quot;text&quot;&gt;
-                      &lt;string&gt;Free msg&lt;/string&gt;
-                     &lt;/property&gt;
-                    &lt;/widget&gt;
-                   &lt;/item&gt;
-                  &lt;/layout&gt;
-                 &lt;/item&gt;
-                &lt;/layout&gt;
-               &lt;/item&gt;
-              &lt;/layout&gt;
-             &lt;/widget&gt;
-            &lt;/widget&gt;
-           &lt;/item&gt;
-          &lt;/layout&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;5&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot;&gt;
+             &lt;/item&gt;
+            &lt;/layout&gt;
+           &lt;/widget&gt;
+          &lt;/widget&gt;
+         &lt;/item&gt;
+        &lt;/layout&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;1&quot; rowspan=&quot;6&quot;&gt;
+       &lt;widget class=&quot;QProgressBar&quot; name=&quot;xThermo&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;180&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;15&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximum&quot;&gt;
+         &lt;number&gt;60&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;value&quot;&gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;textVisible&quot;&gt;
+         &lt;bool&gt;false&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;orientation&quot;&gt;
+         &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;2&quot; rowspan=&quot;6&quot;&gt;
+       &lt;widget class=&quot;QSlider&quot; name=&quot;inGain&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;180&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;20&lt;/width&gt;
+          &lt;height&gt;180&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Digital gain for audio input&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimum&quot;&gt;
+         &lt;number&gt;-50&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximum&quot;&gt;
+         &lt;number&gt;50&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;orientation&quot;&gt;
+         &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;4&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;palette&quot;&gt;
+         &lt;palette&gt;
+          &lt;active&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/active&gt;
+          &lt;inactive&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/inactive&gt;
+          &lt;disabled&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/disabled&gt;
+         &lt;/palette&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;autoFillBackground&quot;&gt;
+         &lt;bool&gt;true&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;DX Call&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;indent&quot;&gt;
+         &lt;number&gt;2&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;5&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;16777215&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;palette&quot;&gt;
+         &lt;palette&gt;
+          &lt;active&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/active&gt;
+          &lt;inactive&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;252&lt;/red&gt;
+              &lt;green&gt;252&lt;/green&gt;
+              &lt;blue&gt;252&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/inactive&gt;
+          &lt;disabled&gt;
+           &lt;colorrole role=&quot;Base&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+           &lt;colorrole role=&quot;Window&quot;&gt;
+            &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
+             &lt;color alpha=&quot;255&quot;&gt;
+              &lt;red&gt;159&lt;/red&gt;
+              &lt;green&gt;175&lt;/green&gt;
+              &lt;blue&gt;213&lt;/blue&gt;
+             &lt;/color&gt;
+            &lt;/brush&gt;
+           &lt;/colorrole&gt;
+          &lt;/disabled&gt;
+         &lt;/palette&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;autoFillBackground&quot;&gt;
+         &lt;bool&gt;true&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;DX Grid&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;indent&quot;&gt;
+         &lt;number&gt;2&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;1&quot; column=&quot;7&quot;&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;pbTxMode&quot;&gt;
+        &lt;property name=&quot;enabled&quot;&gt;
+         &lt;bool&gt;false&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Tx JT9&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;2&quot; column=&quot;4&quot;&gt;
+       &lt;widget class=&quot;QLineEdit&quot; name=&quot;dxCallEntry&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;70&lt;/width&gt;
+          &lt;height&gt;27&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;74&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Callsign of station to be worked&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string/&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;2&quot; column=&quot;5&quot;&gt;
+       &lt;widget class=&quot;QLineEdit&quot; name=&quot;dxGridEntry&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;70&lt;/width&gt;
+          &lt;height&gt;27&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;74&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Locator of station to be worked&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string/&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;2&quot; column=&quot;7&quot;&gt;
+       &lt;widget class=&quot;QSpinBox&quot; name=&quot;TxFreqSpinBox&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;113&lt;/width&gt;
+          &lt;height&gt;0&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;105&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Audio Tx frequency&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;suffix&quot;&gt;
+         &lt;string&gt;  Hz&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;prefix&quot;&gt;
+         &lt;string&gt;Tx  &lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimum&quot;&gt;
+         &lt;number&gt;200&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximum&quot;&gt;
+         &lt;number&gt;5000&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;value&quot;&gt;
+         &lt;number&gt;1500&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;4&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;labAz&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;16777215&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;autoFillBackground&quot;&gt;
+         &lt;bool&gt;true&lt;/bool&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Az&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;indent&quot;&gt;
+         &lt;number&gt;4&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;5&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;labDist&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;0&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;16777215&lt;/width&gt;
+          &lt;height&gt;23&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Dist&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;6&quot;&gt;
+       &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+        &lt;property name=&quot;orientation&quot;&gt;
+         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeType&quot;&gt;
+         &lt;enum&gt;QSizePolicy::Expanding&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;33&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+       &lt;/spacer&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;7&quot;&gt;
+       &lt;widget class=&quot;QSpinBox&quot; name=&quot;RxFreqSpinBox&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;113&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;suffix&quot;&gt;
+         &lt;string&gt;  Hz&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;prefix&quot;&gt;
+         &lt;string&gt;Rx  &lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimum&quot;&gt;
+         &lt;number&gt;200&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximum&quot;&gt;
+         &lt;number&gt;5000&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;value&quot;&gt;
+         &lt;number&gt;1500&lt;/number&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;3&quot; column=&quot;8&quot;&gt;
+       &lt;spacer name=&quot;horizontalSpacer_3&quot;&gt;
+        &lt;property name=&quot;orientation&quot;&gt;
+         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeType&quot;&gt;
+         &lt;enum&gt;QSizePolicy::Expanding&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;13&lt;/width&gt;
+          &lt;height&gt;20&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+       &lt;/spacer&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;4&quot; column=&quot;0&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Minimum&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;16777215&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;dB&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;4&quot; column=&quot;4&quot;&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;lookupButton&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;74&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Search for callsign in database&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;&amp;Lookup&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;4&quot; column=&quot;5&quot;&gt;
+       &lt;widget class=&quot;QPushButton&quot; name=&quot;addButton&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;74&lt;/width&gt;
+          &lt;height&gt;16777215&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;toolTip&quot;&gt;
+         &lt;string&gt;Add callsign and locator to database&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Add&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;4&quot; column=&quot;7&quot;&gt;
+       &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_5&quot;&gt;
+        &lt;property name=&quot;spacing&quot;&gt;
+         &lt;number&gt;5&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeConstraint&quot;&gt;
+         &lt;enum&gt;QLayout::SetFixedSize&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QPushButton&quot; name=&quot;pbR2T&quot;&gt;
           &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;maximumSize&quot;&gt;
            &lt;size&gt;
-            &lt;width&gt;16777215&lt;/width&gt;
+            &lt;width&gt;48&lt;/width&gt;
             &lt;height&gt;16777215&lt;/height&gt;
            &lt;/size&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;palette&quot;&gt;
-           &lt;palette&gt;
-            &lt;active&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/active&gt;
-            &lt;inactive&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/inactive&gt;
-            &lt;disabled&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/disabled&gt;
-           &lt;/palette&gt;
+          &lt;property name=&quot;toolTip&quot;&gt;
+           &lt;string&gt;Set Tx frequency to Rx Frequency&lt;/string&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;autoFillBackground&quot;&gt;
-           &lt;bool&gt;true&lt;/bool&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;DX Grid&lt;/string&gt;
+           &lt;string&gt;Tx=Rx&lt;/string&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;indent&quot;&gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
          &lt;/widget&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;0&quot; column=&quot;0&quot; colspan=&quot;2&quot;&gt;
-         &lt;widget class=&quot;QComboBox&quot; name=&quot;bandComboBox&quot;&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Select operating band&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;currentIndex&quot;&gt;
-           &lt;number&gt;7&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;2200 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;630 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;160 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;80 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;60 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;40 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;30 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;20 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;17 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;15 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;12 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;10 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;6 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;4 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;2 m&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot;&gt;
-            &lt;string&gt;Other&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;4&quot; column=&quot;7&quot;&gt;
-         &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_4&quot;&gt;
-          &lt;property name=&quot;spacing&quot;&gt;
-           &lt;number&gt;5&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QLabel&quot; name=&quot;label_8&quot;&gt;
-            &lt;property name=&quot;sizePolicy&quot;&gt;
-             &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-              &lt;horstretch&gt;0&lt;/horstretch&gt;
-              &lt;verstretch&gt;0&lt;/verstretch&gt;
-             &lt;/sizepolicy&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;maximumSize&quot;&gt;
-             &lt;size&gt;
-              &lt;width&gt;40&lt;/width&gt;
-              &lt;height&gt;16777215&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;text&quot;&gt;
-             &lt;string&gt;Report&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QSpinBox&quot; name=&quot;rptSpinBox&quot;&gt;
-            &lt;property name=&quot;sizePolicy&quot;&gt;
-             &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-              &lt;horstretch&gt;0&lt;/horstretch&gt;
-              &lt;verstretch&gt;0&lt;/verstretch&gt;
-             &lt;/sizepolicy&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;minimumSize&quot;&gt;
-             &lt;size&gt;
-              &lt;width&gt;55&lt;/width&gt;
-              &lt;height&gt;0&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;maximumSize&quot;&gt;
-             &lt;size&gt;
-              &lt;width&gt;55&lt;/width&gt;
-              &lt;height&gt;16777215&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;toolTip&quot;&gt;
-             &lt;string&gt;Signal report (dB0&lt;/string&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;minimum&quot;&gt;
-             &lt;number&gt;-50&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;maximum&quot;&gt;
-             &lt;number&gt;49&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;value&quot;&gt;
-             &lt;number&gt;-15&lt;/number&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-         &lt;/layout&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;0&quot; column=&quot;4&quot; colspan=&quot;2&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;labDialFreq&quot;&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QPushButton&quot; name=&quot;pbT2R&quot;&gt;
           &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
+           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;30&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;maximumSize&quot;&gt;
            &lt;size&gt;
-            &lt;width&gt;158&lt;/width&gt;
+            &lt;width&gt;48&lt;/width&gt;
             &lt;height&gt;16777215&lt;/height&gt;
            &lt;/size&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;font&quot;&gt;
-           &lt;font&gt;
-            &lt;pointsize&gt;16&lt;/pointsize&gt;
-            &lt;weight&gt;50&lt;/weight&gt;
-            &lt;bold&gt;false&lt;/bold&gt;
-           &lt;/font&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;USB dial frequency&lt;/string&gt;
+           &lt;string&gt;Set Rx frequency to Tx Frequency&lt;/string&gt;
           &lt;/property&gt;
           &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;14.078&lt;/string&gt;
+           &lt;string&gt;Rx=Tx&lt;/string&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
          &lt;/widget&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;0&quot; column=&quot;7&quot;&gt;
-         &lt;widget class=&quot;QCheckBox&quot; name=&quot;txFirstCheckBox&quot;&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;105&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;105&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Check to Tx in even minutes, uncheck for odd minutes&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;Tx even&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;1&quot; rowspan=&quot;5&quot;&gt;
-         &lt;widget class=&quot;QwtThermo&quot; name=&quot;xThermo&quot; native=&quot;true&quot;&gt;
+       &lt;/layout&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;5&quot; column=&quot;4&quot; rowspan=&quot;2&quot; colspan=&quot;2&quot;&gt;
+       &lt;widget class=&quot;QLabel&quot; name=&quot;labUTC&quot;&gt;
+        &lt;property name=&quot;sizePolicy&quot;&gt;
+         &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
+          &lt;horstretch&gt;0&lt;/horstretch&gt;
+          &lt;verstretch&gt;0&lt;/verstretch&gt;
+         &lt;/sizepolicy&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;minimumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;130&lt;/width&gt;
+          &lt;height&gt;60&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;maximumSize&quot;&gt;
+         &lt;size&gt;
+          &lt;width&gt;158&lt;/width&gt;
+          &lt;height&gt;60&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;font&quot;&gt;
+         &lt;font&gt;
+          &lt;pointsize&gt;16&lt;/pointsize&gt;
+         &lt;/font&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;frameShape&quot;&gt;
+         &lt;enum&gt;QFrame::StyledPanel&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;frameShadow&quot;&gt;
+         &lt;enum&gt;QFrame::Sunken&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;lineWidth&quot;&gt;
+         &lt;number&gt;2&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;midLineWidth&quot;&gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt; 01:23:45 &lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;alignment&quot;&gt;
+         &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;5&quot; column=&quot;7&quot;&gt;
+       &lt;widget class=&quot;QCheckBox&quot; name=&quot;cbTxLock&quot;&gt;
+        &lt;property name=&quot;text&quot;&gt;
+         &lt;string&gt;Lock Tx=Rx&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item row=&quot;6&quot; column=&quot;7&quot;&gt;
+       &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_4&quot;&gt;
+        &lt;property name=&quot;spacing&quot;&gt;
+         &lt;number&gt;5&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QLabel&quot; name=&quot;label_8&quot;&gt;
           &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Minimum&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;180&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;42&lt;/width&gt;
-            &lt;height&gt;180&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;dB above one bit in A/D samples&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;borderWidth&quot; stdset=&quot;0&quot;&gt;
-           &lt;number&gt;1&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maxValue&quot; stdset=&quot;0&quot;&gt;
-           &lt;double&gt;60.000000000000000&lt;/double&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minValue&quot; stdset=&quot;0&quot;&gt;
-           &lt;double&gt;0.000000000000000&lt;/double&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;pipeWidth&quot; stdset=&quot;0&quot;&gt;
-           &lt;number&gt;8&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;value&quot; stdset=&quot;0&quot;&gt;
-           &lt;double&gt;0.000000000000000&lt;/double&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;2&quot; rowspan=&quot;5&quot;&gt;
-         &lt;widget class=&quot;QSlider&quot; name=&quot;inGain&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
            &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;180&lt;/height&gt;
-           &lt;/size&gt;
+          &lt;property name=&quot;text&quot;&gt;
+           &lt;string&gt;Report&lt;/string&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;16777215&lt;/width&gt;
-            &lt;height&gt;180&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Digital gain for audio input&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimum&quot;&gt;
-           &lt;number&gt;-50&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximum&quot;&gt;
-           &lt;number&gt;50&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;orientation&quot;&gt;
-           &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-          &lt;/property&gt;
          &lt;/widget&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;7&quot;&gt;
-         &lt;widget class=&quot;QSpinBox&quot; name=&quot;TxFreqSpinBox&quot;&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QSpinBox&quot; name=&quot;rptSpinBox&quot;&gt;
           &lt;property name=&quot;sizePolicy&quot;&gt;
            &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
@@ -1727,478 +2185,30 @@
           &lt;/property&gt;
           &lt;property name=&quot;minimumSize&quot;&gt;
            &lt;size&gt;
-            &lt;width&gt;105&lt;/width&gt;
+            &lt;width&gt;55&lt;/width&gt;
             &lt;height&gt;0&lt;/height&gt;
            &lt;/size&gt;
           &lt;/property&gt;
           &lt;property name=&quot;maximumSize&quot;&gt;
            &lt;size&gt;
-            &lt;width&gt;105&lt;/width&gt;
+            &lt;width&gt;55&lt;/width&gt;
             &lt;height&gt;16777215&lt;/height&gt;
            &lt;/size&gt;
           &lt;/property&gt;
           &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Audio Tx frequency&lt;/string&gt;
+           &lt;string&gt;Signal report (dB0&lt;/string&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;suffix&quot;&gt;
-           &lt;string&gt;  Hz&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;prefix&quot;&gt;
-           &lt;string&gt;Tx +&lt;/string&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;minimum&quot;&gt;
-           &lt;number&gt;500&lt;/number&gt;
+           &lt;number&gt;-50&lt;/number&gt;
           &lt;/property&gt;
           &lt;property name=&quot;maximum&quot;&gt;
-           &lt;number&gt;20000&lt;/number&gt;
+           &lt;number&gt;49&lt;/number&gt;
           &lt;/property&gt;
           &lt;property name=&quot;value&quot;&gt;
-           &lt;number&gt;1500&lt;/number&gt;
+           &lt;number&gt;-15&lt;/number&gt;
           &lt;/property&gt;
          &lt;/widget&gt;
         &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;3&quot;&gt;
-         &lt;spacer name=&quot;horizontalSpacer_2&quot;&gt;
-          &lt;property name=&quot;orientation&quot;&gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot;&gt;
-           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;5&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;6&quot;&gt;
-         &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
-          &lt;property name=&quot;orientation&quot;&gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot;&gt;
-           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;5&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;7&quot;&gt;
-         &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_5&quot;&gt;
-          &lt;property name=&quot;spacing&quot;&gt;
-           &lt;number&gt;5&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeConstraint&quot;&gt;
-           &lt;enum&gt;QLayout::SetFixedSize&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QPushButton&quot; name=&quot;pbR2T&quot;&gt;
-            &lt;property name=&quot;sizePolicy&quot;&gt;
-             &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-              &lt;horstretch&gt;0&lt;/horstretch&gt;
-              &lt;verstretch&gt;0&lt;/verstretch&gt;
-             &lt;/sizepolicy&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;maximumSize&quot;&gt;
-             &lt;size&gt;
-              &lt;width&gt;48&lt;/width&gt;
-              &lt;height&gt;16777215&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;toolTip&quot;&gt;
-             &lt;string&gt;Set Tx frequency to Rx Frequency&lt;/string&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;text&quot;&gt;
-             &lt;string&gt;Tx=Rx&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QPushButton&quot; name=&quot;pbT2R&quot;&gt;
-            &lt;property name=&quot;sizePolicy&quot;&gt;
-             &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-              &lt;horstretch&gt;0&lt;/horstretch&gt;
-              &lt;verstretch&gt;0&lt;/verstretch&gt;
-             &lt;/sizepolicy&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;maximumSize&quot;&gt;
-             &lt;size&gt;
-              &lt;width&gt;48&lt;/width&gt;
-              &lt;height&gt;16777215&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;toolTip&quot;&gt;
-             &lt;string&gt;Set Rx frequency to Tx Frequency&lt;/string&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;text&quot;&gt;
-             &lt;string&gt;Rx=Tx&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-         &lt;/layout&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;3&quot; column=&quot;0&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Minimum&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;16777215&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;dB&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;3&quot; column=&quot;4&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;labAz&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;16777215&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;autoFillBackground&quot;&gt;
-           &lt;bool&gt;true&lt;/bool&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;Az&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;indent&quot;&gt;
-           &lt;number&gt;4&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;3&quot; column=&quot;5&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;labDist&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;16777215&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;Dist&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;4&quot; column=&quot;4&quot;&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;lookupButton&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;74&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Search for callsign in database&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;&amp;Lookup&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;4&quot; column=&quot;5&quot;&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;addButton&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;74&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Add callsign and locator to database&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;Add&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;5&quot; column=&quot;4&quot; colspan=&quot;2&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;labUTC&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;130&lt;/width&gt;
-            &lt;height&gt;60&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;158&lt;/width&gt;
-            &lt;height&gt;60&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;font&quot;&gt;
-           &lt;font&gt;
-            &lt;pointsize&gt;16&lt;/pointsize&gt;
-           &lt;/font&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;frameShape&quot;&gt;
-           &lt;enum&gt;QFrame::StyledPanel&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;frameShadow&quot;&gt;
-           &lt;enum&gt;QFrame::Sunken&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;lineWidth&quot;&gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;midLineWidth&quot;&gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt; 01:23:45 &lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;1&quot; column=&quot;4&quot;&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Minimum&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;0&lt;/width&gt;
-            &lt;height&gt;23&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;palette&quot;&gt;
-           &lt;palette&gt;
-            &lt;active&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/active&gt;
-            &lt;inactive&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;252&lt;/red&gt;
-                &lt;green&gt;252&lt;/green&gt;
-                &lt;blue&gt;252&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/inactive&gt;
-            &lt;disabled&gt;
-             &lt;colorrole role=&quot;Base&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-             &lt;colorrole role=&quot;Window&quot;&gt;
-              &lt;brush brushstyle=&quot;SolidPattern&quot;&gt;
-               &lt;color alpha=&quot;255&quot;&gt;
-                &lt;red&gt;159&lt;/red&gt;
-                &lt;green&gt;175&lt;/green&gt;
-                &lt;blue&gt;213&lt;/blue&gt;
-               &lt;/color&gt;
-              &lt;/brush&gt;
-             &lt;/colorrole&gt;
-            &lt;/disabled&gt;
-           &lt;/palette&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;autoFillBackground&quot;&gt;
-           &lt;bool&gt;true&lt;/bool&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;DX Call&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;indent&quot;&gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;5&quot;&gt;
-         &lt;widget class=&quot;QLineEdit&quot; name=&quot;dxGridEntry&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;70&lt;/width&gt;
-            &lt;height&gt;27&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;74&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Locator of station to be worked&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string/&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;4&quot;&gt;
-         &lt;widget class=&quot;QLineEdit&quot; name=&quot;dxCallEntry&quot;&gt;
-          &lt;property name=&quot;sizePolicy&quot;&gt;
-           &lt;sizepolicy hsizetype=&quot;Preferred&quot; vsizetype=&quot;Fixed&quot;&gt;
-            &lt;horstretch&gt;0&lt;/horstretch&gt;
-            &lt;verstretch&gt;0&lt;/verstretch&gt;
-           &lt;/sizepolicy&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;70&lt;/width&gt;
-            &lt;height&gt;27&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;74&lt;/width&gt;
-            &lt;height&gt;16777215&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;Callsign of station to be worked&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string/&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;alignment&quot;&gt;
-           &lt;set&gt;Qt::AlignCenter&lt;/set&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;2&quot; column=&quot;8&quot;&gt;
-         &lt;spacer name=&quot;horizontalSpacer_3&quot;&gt;
-          &lt;property name=&quot;orientation&quot;&gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot;&gt;
-           &lt;enum&gt;QSizePolicy::Expanding&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;2&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item row=&quot;0&quot; column=&quot;2&quot;&gt;
-         &lt;widget class=&quot;QPushButton&quot; name=&quot;readFreq&quot;&gt;
-          &lt;property name=&quot;maximumSize&quot;&gt;
-           &lt;size&gt;
-            &lt;width&gt;15&lt;/width&gt;
-            &lt;height&gt;15&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;toolTip&quot;&gt;
-           &lt;string&gt;If orange, click to read dial frequency once&lt;/string&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string/&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
        &lt;/layout&gt;
       &lt;/item&gt;
      &lt;/layout&gt;
@@ -2210,7 +2220,7 @@
     &lt;rect&gt;
      &lt;x&gt;0&lt;/x&gt;
      &lt;y&gt;0&lt;/y&gt;
-     &lt;width&gt;711&lt;/width&gt;
+     &lt;width&gt;760&lt;/width&gt;
      &lt;height&gt;21&lt;/height&gt;
     &lt;/rect&gt;
    &lt;/property&gt;
@@ -2241,8 +2251,6 @@
     &lt;addaction name=&quot;actionDeviceSetup&quot;/&gt;
     &lt;addaction name=&quot;separator&quot;/&gt;
     &lt;addaction name=&quot;actionMonitor_OFF_at_startup&quot;/&gt;
-    &lt;addaction name=&quot;actionF4_sets_Tx6&quot;/&gt;
-    &lt;addaction name=&quot;actionLog_JT9_without_submode&quot;/&gt;
     &lt;addaction name=&quot;actionConvert_JT9_x_to_RTTY&quot;/&gt;
     &lt;addaction name=&quot;actionLog_dB_reports_to_Comments&quot;/&gt;
     &lt;addaction name=&quot;actionPrompt_to_log_QSO&quot;/&gt;
@@ -2253,7 +2261,6 @@
     &lt;addaction name=&quot;action_73TxDisable&quot;/&gt;
     &lt;addaction name=&quot;actionRunaway_Tx_watchdog&quot;/&gt;
     &lt;addaction name=&quot;actionTx2QSO&quot;/&gt;
-    &lt;addaction name=&quot;actionLockTxFreq&quot;/&gt;
     &lt;addaction name=&quot;separator&quot;/&gt;
     &lt;addaction name=&quot;menuAdvanced&quot;/&gt;
    &lt;/widget&gt;
@@ -2287,7 +2294,6 @@
      &lt;string&gt;Save&lt;/string&gt;
     &lt;/property&gt;
     &lt;addaction name=&quot;actionNone&quot;/&gt;
-    &lt;addaction name=&quot;actionSave_synced&quot;/&gt;
     &lt;addaction name=&quot;actionSave_decoded&quot;/&gt;
     &lt;addaction name=&quot;actionSave_all&quot;/&gt;
    &lt;/widget&gt;
@@ -2305,7 +2311,8 @@
      &lt;string&gt;Mode&lt;/string&gt;
     &lt;/property&gt;
     &lt;addaction name=&quot;actionJT9_1&quot;/&gt;
-    &lt;addaction name=&quot;actionJT9_2&quot;/&gt;
+    &lt;addaction name=&quot;actionJT65&quot;/&gt;
+    &lt;addaction name=&quot;actionJT9_JT65&quot;/&gt;
    &lt;/widget&gt;
    &lt;addaction name=&quot;menuFile&quot;/&gt;
    &lt;addaction name=&quot;menuSetup&quot;/&gt;
@@ -2399,7 +2406,7 @@
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;checked&quot;&gt;
-    &lt;bool&gt;false&lt;/bool&gt;
+    &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
     &lt;string&gt;Linrad&lt;/string&gt;
@@ -2410,7 +2417,7 @@
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;checked&quot;&gt;
-    &lt;bool&gt;true&lt;/bool&gt;
+    &lt;bool&gt;false&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
     &lt;string&gt;CuteSDR&lt;/string&gt;
@@ -2620,8 +2627,11 @@
    &lt;property name=&quot;checkable&quot;&gt;
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
+   &lt;property name=&quot;checked&quot;&gt;
+    &lt;bool&gt;true&lt;/bool&gt;
+   &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
-    &lt;string&gt;JT9-1&lt;/string&gt;
+    &lt;string&gt;JT9&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
   &lt;action name=&quot;actionJT9_2&quot;&gt;
@@ -2740,7 +2750,7 @@
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
-    &lt;string&gt;Convert JT9-x to RTTY for logging&lt;/string&gt;
+    &lt;string&gt;Convert mode to RTTY for logging&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
   &lt;action name=&quot;actionLog_dB_reports_to_Comments&quot;&gt;
@@ -2812,44 +2822,50 @@
     &lt;string&gt;Runaway Tx watchdog&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
-  &lt;action name=&quot;actionTx2QSO&quot;&gt;
+  &lt;action name=&quot;actionAllow_multiple_instances&quot;&gt;
    &lt;property name=&quot;checkable&quot;&gt;
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
-    &lt;string&gt;Tx messages echoed to QSO window&lt;/string&gt;
+    &lt;string&gt;Allow multiple instances&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
-  &lt;action name=&quot;actionAllow_multiple_instances&quot;&gt;
+  &lt;action name=&quot;actionLockTxFreq&quot;&gt;
    &lt;property name=&quot;checkable&quot;&gt;
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
-    &lt;string&gt;Allow multiple instances&lt;/string&gt;
+    &lt;string&gt;Tx freq locked to Rx freq&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
-  &lt;action name=&quot;actionTx_frequency_always_follows_Rx_frequency&quot;&gt;
+  &lt;action name=&quot;actionJT65&quot;&gt;
+   &lt;property name=&quot;checkable&quot;&gt;
+    &lt;bool&gt;true&lt;/bool&gt;
+   &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
-    &lt;string&gt;Tx frequency always follows Rx frequency&lt;/string&gt;
+    &lt;string&gt;JT65&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
-  &lt;action name=&quot;actionLockTxFreq&quot;&gt;
+  &lt;action name=&quot;actionJT9_JT65&quot;&gt;
    &lt;property name=&quot;checkable&quot;&gt;
     &lt;bool&gt;true&lt;/bool&gt;
    &lt;/property&gt;
    &lt;property name=&quot;text&quot;&gt;
-    &lt;string&gt;Tx freq locked to Rx freq&lt;/string&gt;
+    &lt;string&gt;JT9+JT65&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
+  &lt;action name=&quot;actionTx2QSO&quot;&gt;
+   &lt;property name=&quot;checkable&quot;&gt;
+    &lt;bool&gt;true&lt;/bool&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot;&gt;
+    &lt;string&gt;Tx messages to Rx Frequency window&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/action&gt;
  &lt;/widget&gt;
  &lt;layoutdefault spacing=&quot;6&quot; margin=&quot;11&quot;/&gt;
  &lt;customwidgets&gt;
   &lt;customwidget&gt;
-   &lt;class&gt;QwtThermo&lt;/class&gt;
-   &lt;extends&gt;QWidget&lt;/extends&gt;
-   &lt;header&gt;qwt_thermo.h&lt;/header&gt;
-  &lt;/customwidget&gt;
-  &lt;customwidget&gt;
    &lt;class&gt;DisplayText&lt;/class&gt;
    &lt;extends&gt;QTextBrowser&lt;/extends&gt;
    &lt;header&gt;displaytext.h&lt;/header&gt;
@@ -2859,8 +2875,8 @@
   &lt;tabstop&gt;logQSOButton&lt;/tabstop&gt;
   &lt;tabstop&gt;stopButton&lt;/tabstop&gt;
   &lt;tabstop&gt;monitorButton&lt;/tabstop&gt;
+  &lt;tabstop&gt;EraseButton&lt;/tabstop&gt;
   &lt;tabstop&gt;DecodeButton&lt;/tabstop&gt;
-  &lt;tabstop&gt;EraseButton&lt;/tabstop&gt;
   &lt;tabstop&gt;autoButton&lt;/tabstop&gt;
   &lt;tabstop&gt;stopTxButton&lt;/tabstop&gt;
   &lt;tabstop&gt;tuneButton&lt;/tabstop&gt;
@@ -2869,8 +2885,6 @@
   &lt;tabstop&gt;inGain&lt;/tabstop&gt;
   &lt;tabstop&gt;dxCallEntry&lt;/tabstop&gt;
   &lt;tabstop&gt;dxGridEntry&lt;/tabstop&gt;
-  &lt;tabstop&gt;lookupButton&lt;/tabstop&gt;
-  &lt;tabstop&gt;addButton&lt;/tabstop&gt;
   &lt;tabstop&gt;txFirstCheckBox&lt;/tabstop&gt;
   &lt;tabstop&gt;TxFreqSpinBox&lt;/tabstop&gt;
   &lt;tabstop&gt;pbR2T&lt;/tabstop&gt;
@@ -2898,16 +2912,16 @@
   &lt;tabstop&gt;txb6&lt;/tabstop&gt;
   &lt;tabstop&gt;decodedTextBrowser&lt;/tabstop&gt;
   &lt;tabstop&gt;decodedTextBrowser2&lt;/tabstop&gt;
-  &lt;tabstop&gt;pbCallCQ&lt;/tabstop&gt;
+  &lt;tabstop&gt;genMsg&lt;/tabstop&gt;
+  &lt;tabstop&gt;pbAnswerCaller&lt;/tabstop&gt;
   &lt;tabstop&gt;rbFreeText&lt;/tabstop&gt;
-  &lt;tabstop&gt;genMsg&lt;/tabstop&gt;
-  &lt;tabstop&gt;rbGenMsg&lt;/tabstop&gt;
+  &lt;tabstop&gt;pbSendRRR&lt;/tabstop&gt;
+  &lt;tabstop&gt;freeTextMsg&lt;/tabstop&gt;
   &lt;tabstop&gt;pbAnswerCQ&lt;/tabstop&gt;
   &lt;tabstop&gt;pbSendReport&lt;/tabstop&gt;
   &lt;tabstop&gt;pbSend73&lt;/tabstop&gt;
-  &lt;tabstop&gt;pbSendRRR&lt;/tabstop&gt;
-  &lt;tabstop&gt;pbAnswerCaller&lt;/tabstop&gt;
-  &lt;tabstop&gt;freeTextMsg&lt;/tabstop&gt;
+  &lt;tabstop&gt;rbGenMsg&lt;/tabstop&gt;
+  &lt;tabstop&gt;pbCallCQ&lt;/tabstop&gt;
  &lt;/tabstops&gt;
  &lt;resources/&gt;
  &lt;connections&gt;

Modified: branches/wsjtx/plotter.cpp
===================================================================
--- branches/wsjtx/plotter.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/plotter.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -15,8 +15,8 @@
   setAttribute(Qt::WA_OpaquePaintEvent, false);
   setAttribute(Qt::WA_NoSystemBackground, true);
 
-  m_StartFreq = 1000;
-  m_nSpan=1000;                    //Units: Hz
+  m_StartFreq = 0;
+  m_nSpan=2;                         //used for FFT bins/pixel
   m_fSpan=(float)m_nSpan;
   m_hdivs = HORZ_DIVS;
   m_FreqUnits = 1;
@@ -27,7 +27,7 @@
   m_ScalePixmap = QPixmap(0,0);
   m_OverlayPixmap = QPixmap(0,0);
   m_Size = QSize(0,0);
-  m_fQSO = 1020;
+  m_rxFreq = 1020;
   m_line = 0;
   m_fSample = 12000;
   m_nsps=6912;
@@ -83,7 +83,7 @@
   m_paintEventBusy=false;
 }
 
-void CPlotter::draw(float swide[], float red[], int i0)             //draw()
+void CPlotter::draw(float swide[], int i0)             //draw()
 {
   int j,y2;
   float y;
@@ -98,18 +98,18 @@
   QPainter painter2D(&amp;m_2DPixmap);
 
   painter2D.setPen(Qt::green);
-  if(m_bJT9Sync) painter2D.setPen(Qt::red);
 
   QPoint LineBuf[MAX_SCREENSIZE];
   j=0;
 
-  int iz=XfromFreq(2000.0);
-//  for(int i=0; i&lt;m_w; i++) {
+//  int iz=XfromFreq(2000.0);
+  int iz=XfromFreq(5000.0);
+  m_fMax=FreqfromX(iz);
   for(int i=0; i&lt;iz; i++) {
     if(i&gt;iz) swide[i]=0;
     y=0.0;
     if(swide[i]&gt;0.0) y = 10.0*log10(swide[i]);
-    int y1 = 5.0*gain*y + 10*m_plotZero;
+    int y1 = 5.0*gain*y + 10*(m_plotZero-4);
     if (y1&lt;0) y1=0;
     if (y1&gt;254) y1=254;
     if (swide[i]&gt;1.e29) y1=255;
@@ -125,7 +125,7 @@
       }
       y2=gain*6.0*log10(sum/m_binsPerPixel) - 10.0;
     }
-    if(m_bJT9Sync) y2=3.0*gain*red[i] - 15;
+    y2 += m_plotZero;
     if(i==iz-1) painter2D.drawPolyline(LineBuf,j);
     LineBuf[j].setX(i);
     LineBuf[j].setY(m_h-(y2+0.8*m_h));
@@ -163,7 +163,7 @@
   if(m_OverlayPixmap.isNull()) return;
   if(m_WaterfallPixmap.isNull()) return;
   int w = m_WaterfallPixmap.width();
-  int x,y,x1,x2,dx;
+  int x,y,x1,x2;
 //  int nHzDiv[11]={0,50,100,200,200,200,500,500,500,500,500};
   float pixperdiv;
 
@@ -180,12 +180,15 @@
   double df = m_binsPerPixel*m_fftBinWidth;
   pixperdiv = m_freqPerDiv/df;
   y = m_h2 - m_h2/VERT_DIVS;
+  m_hdivs = w*df/m_freqPerDiv + 0.9999;
   for( int i=1; i&lt;m_hdivs; i++)                   //draw vertical grids
   {
     x = (int)( (float)i*pixperdiv );
-    painter.setPen(QPen(Qt::white, 1,Qt::DotLine));
-    painter.drawLine(x, 0, x , y);
-    painter.drawLine(x, m_h2-5, x , m_h2);
+    if(x &gt;= 0 and x&lt;=m_w) {
+      painter.setPen(QPen(Qt::white, 1,Qt::DotLine));
+      painter.drawLine(x, 0, x , y);
+      painter.drawLine(x, m_h2-5, x , m_h2);
+    }
   }
 
   pixperdiv = (float)m_h2 / (float)VERT_DIVS;
@@ -258,40 +261,30 @@
     }
   }
 
-  x1=XfromFreq(m_fMin);
-  int bw=9.0*12000.0/m_nsps;
-  dx=XfromFreq(m_fMin+bw) - x1;
+  float bw=9.0*12000.0/m_nsps;
+  if(m_modeTx==&quot;JT65&quot;) bw=66.0*11025.0/4096.0;
 
   QPen pen0(Qt::green, 3);                 //Mark Rx Freq with green
   painter0.setPen(pen0);
-  x1=XfromFreq(m_fQSO);
-  x2=x1+dx;
+  x1=XfromFreq(m_rxFreq);
+  x2=XfromFreq(m_rxFreq+bw);
   painter0.drawLine(x1,24,x1,30);
   painter0.drawLine(x1,28,x2,28);
   painter0.drawLine(x2,24,x2,30);
 
-  QPen pen2(Qt::blue, 3);                //Mark the decoding range
-  painter0.setPen(pen2);
-  x1=XfromFreq(m_fMin);
-  if(x1&lt;2) x1=2;
-  x2=x1+30;
-//  pen2.setWidth(6);
-  painter0.drawLine(x1,18,x1,28);
-  painter0.drawLine(x1,23,x2,23);
-  painter0.drawLine(x2,23,x2-5,18);
-  painter0.drawLine(x2,23,x2-5,28);
-  x2=XfromFreq(m_fMax);
-  x1=x2-30;
-//  pen2.setWidth(6);
-  painter0.drawLine(x2,18,x2,28);
-  painter0.drawLine(x1,23,x2,23);
-  painter0.drawLine(x1,23,x1+5,18);
-  painter0.drawLine(x1,23,x1+5,28);
+  if(m_mode==&quot;JT9+JT65&quot;) {
+    QPen pen2(Qt::blue, 3);                //Mark the JT65 | JT9 divider
+    painter0.setPen(pen2);
+    x1=XfromFreq(m_fMin);
+    if(x1&lt;2) x1=2;
+    x2=x1+30;
+    painter0.drawLine(x1,8,x1,28);
+  }
 
   QPen pen1(Qt::red, 3);                   //Mark Tx freq with red
   painter0.setPen(pen1);
   x1=XfromFreq(m_txFreq);
-  x2=x1+dx;
+  x2=XfromFreq(m_txFreq+bw);
   painter0.drawLine(x1,17,x1,21);
   painter0.drawLine(x1,17,x2,17);
   painter0.drawLine(x2,17,x2,21);
@@ -310,7 +303,7 @@
 int CPlotter::XfromFreq(float f)                               //XfromFreq()
 {
 //  float w = m_WaterfallPixmap.width();
-  int x = (int) m_w * (f - m_StartFreq)/m_fSpan;
+  int x = int(m_w * (f - m_StartFreq)/m_fSpan + 0.5);
   if(x&lt;0 ) return 0;
   if(x&gt;m_w) return m_w;
   return x;
@@ -318,7 +311,8 @@
 
 float CPlotter::FreqfromX(int x)                               //FreqfromX()
 {
-  return float(1000.0 + x*m_binsPerPixel*m_fftBinWidth);
+//  return float(1000.0 + x*m_binsPerPixel*m_fftBinWidth);
+  return float(x*m_binsPerPixel*m_fftBinWidth);
 }
 
 void CPlotter::SetRunningState(bool running)              //SetRunningState()
@@ -362,10 +356,9 @@
 void CPlotter::UpdateOverlay() {DrawOverlay();}
 void CPlotter::setDataFromDisk(bool b) {m_dataFromDisk=b;}
 
-void CPlotter::setRxRange(int fMin, int fMax)
+void CPlotter::setRxRange(int fMin)
 {
   m_fMin=fMin;
-  m_fMax=fMax;
 }
 
 void CPlotter::setBinsPerPixel(int n)                       // set nbpp
@@ -380,43 +373,39 @@
   return m_binsPerPixel;
 }
 
-void CPlotter::setFQSO(int x, bool bf)                       //setFQSO()
+void CPlotter::setRxFreq(int x, bool bf)                       //setRxFreq()
 {
   if(bf) {
-    m_fQSO=x;         // x is freq in Hz
-    m_xClick=XfromFreq(m_fQSO);
+    m_rxFreq=x;         // x is freq in Hz
+    m_xClick=XfromFreq(m_rxFreq);
   } else {
     if(x&lt;0) x=0;      // x is pixel number
     if(x&gt;m_Size.width()) x=m_Size.width();
-    m_fQSO = int(FreqfromX(x)+0.5);
+    m_rxFreq=int(FreqfromX(x)+0.5);
     m_xClick=x;
   }
+  emit setFreq1(m_rxFreq,m_txFreq);
   DrawOverlay();
   update();
 }
 
-void CPlotter::setFcal(int n)                                  //setFcal()
-{
-  m_fCal=n;
-}
+int CPlotter::rxFreq() {return m_rxFreq;}                //get rxFreq
 
-int CPlotter::fQSO() {return m_fQSO;}                          //get fQSO
-
 void CPlotter::mousePressEvent(QMouseEvent *event)       //mousePressEvent
 {
   int x=event-&gt;x();
-  setFQSO(x,false);                               // Wideband waterfall
+  setRxFreq(x,false);                               // Wideband waterfall
   bool ctrl = (event-&gt;modifiers() &amp; Qt::ControlModifier);
   int n=1;
   if(ctrl) n+=100;
   emit freezeDecode1(n);
-  if(ctrl) setTxFreq(m_fQSO);
+  if(ctrl or m_lockTxFreq) setTxFreq(m_rxFreq);
 }
 
 void CPlotter::mouseDoubleClickEvent(QMouseEvent *event)  //mouse2click
 {
 //  int x=event-&gt;x();
-//  setFQSO(x,false);
+//  setRxFreq(x,false);
   bool ctrl = (event-&gt;modifiers() &amp; Qt::ControlModifier);
   int n=2;
   if(ctrl) n+=100;
@@ -536,6 +525,22 @@
 void CPlotter::setTxFreq(int n)                                 //setTol()
 {
   m_txFreq=n;
+  emit setFreq1(m_rxFreq,m_txFreq);
   DrawOverlay();
   update();
 }
+
+void CPlotter::setMode(QString mode)
+{
+  m_mode=mode;
+}
+
+void CPlotter::setModeTx(QString modeTx)
+{
+  m_modeTx=modeTx;
+}
+
+int CPlotter::getFmax()
+{
+  return m_fMax;
+}

Modified: branches/wsjtx/plotter.h
===================================================================
--- branches/wsjtx/plotter.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/plotter.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -30,19 +30,20 @@
   QSize minimumSizeHint() const;
   QSize sizeHint() const;
   QColor  m_ColorTbl[256];
+
   bool    m_bCurrent;
   bool    m_bCumulative;
-  bool    m_bJT9Sync;
-  int     m_plotZero;
-  int     m_plotGain;
+  bool    m_lockTxFreq;
+
   float   m_fSpan;
+
+  qint32  m_plotZero;
+  qint32  m_plotGain;
   qint32  m_nSpan;
   qint32  m_binsPerPixel;
-  qint32  m_fQSO;
-  qint32  m_fCal;
   qint32  m_w;
 
-  void draw(float sw[], float red[], int i0);		//Update the waterfall
+  void draw(float sw[], int i0);		//Update the waterfall
   void SetRunningState(bool running);
   void setPlotZero(int plotZero);
   int  getPlotZero();
@@ -54,22 +55,25 @@
   void setNSpan(int n);
   void UpdateOverlay();
   void setDataFromDisk(bool b);
-  void setRxRange(int fMin, int fMax);
+  void setRxRange(int fMin);
   void setBinsPerPixel(int n);
   int  binsPerPixel();
-  void setFQSO(int n, bool bf);
-  void setFcal(int n);
+  void setRxFreq(int n, bool bf);
   void DrawOverlay();
-  int  fQSO();
+  int  rxFreq();
   void setPalette(QString palette);
   void setFsample(int n);
   void setNsps(int ntrperiod, int nsps);
   void setTxFreq(int n);
+  void setMode(QString mode);
+  void setModeTx(QString modeTx);
   double fGreen();
   void SetPercent2DScreen(int percent){m_Percent2DScreen=percent;}
+  int getFmax();
 
 signals:
   void freezeDecode1(int n);
+  void setFreq1(int rxFreq, int txFreq);
 
 protected:
   //re-implemented widget event handlers
@@ -92,16 +96,21 @@
   QSize   m_Size;
   QString m_Str;
   QString m_HDivText[483];
+  QString m_mode;
+  QString m_modeTx;
+
   bool    m_Running;
   bool    m_paintEventBusy;
+  bool    m_dataFromDisk;
+
   double  m_fGreen;
   double  m_fftBinWidth;
+
   qint64  m_StartFreq;
+
   qint32  m_dBStepSize;
   qint32  m_FreqUnits;
   qint32  m_hdivs;
-  bool    m_dataFromDisk;
-  char    m_sutc[6];
   qint32  m_line;
   qint32  m_fSample;
   qint32  m_i0;
@@ -113,10 +122,13 @@
   qint32  m_h1;
   qint32  m_h2;
   qint32  m_TRperiod;
+  qint32  m_rxFreq;
   qint32  m_txFreq;
   qint32  m_fMin;
   qint32  m_fMax;
 
+  char    m_sutc[6];
+
 private slots:
   void mousePressEvent(QMouseEvent *event);
   void mouseDoubleClickEvent(QMouseEvent *event);

Modified: branches/wsjtx/psk_reporter.cpp
===================================================================
--- branches/wsjtx/psk_reporter.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/psk_reporter.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -39,10 +39,10 @@
 
 void PSK_Reporter::setLocalStation(QString call, QString gridSquare, QString programInfo)
 {
-    m_rxCall = call;
-    m_rxGrid = gridSquare;
-    m_progId = programInfo;
-    reportTimer-&gt;start(5*60*1000); // 5 minutes;
+  m_rxCall = call;
+  m_rxGrid = gridSquare;
+  m_progId = programInfo;
+  reportTimer-&gt;start(5*60*1000); // 5 minutes;
 }
 
 void PSK_Reporter::addRemoteStation(QString call, QString grid, QString freq, QString mode, QString snr, QString time )
@@ -99,15 +99,6 @@
     // Get IP address for pskreporter.info and send report via UDP
     QHostInfo info = QHostInfo::fromName(&quot;report.pskreporter.info&quot;);
     m_udpSocket-&gt;writeDatagram(report,info.addresses().at(0),4739);
-
-    /*
-    qDebug() &lt;&lt; header_h;
-    qDebug() &lt;&lt; m_rxInfoDescriptor_h;
-    qDebug() &lt;&lt; m_txInfoDescriptor_h;
-    qDebug() &lt;&lt; rxInfoData_h;
-    qDebug() &lt;&lt; txInfoData_h;
-    qDebug() &lt;&lt; report.toHex();
-    */
 }
 
 

Modified: branches/wsjtx/rigclass.cpp
===================================================================
--- branches/wsjtx/rigclass.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/rigclass.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -7,7 +7,7 @@
  * Hamlib C++ interface is a frontend implementing wrapper functions.
  */
 
-/*
+/**
  *
  *  Hamlib C++ bindings - main file
  *  Copyright (c) 2001-2003 by Stephane Fillod
@@ -36,8 +36,8 @@
 #include &lt;hamlib/rig.h&gt;
 #include &quot;rigclass.h&quot;
 #include &lt;QDebug&gt;
+#include &lt;QHostAddress&gt;
 
-
 static int hamlibpp_freq_event(RIG *rig, vfo_t vfo, freq_t freq, rig_ptr_t arg);
 
 static int hamlibpp_freq_event(RIG *rig, vfo_t vfo, freq_t freq, rig_ptr_t arg)
@@ -78,9 +78,16 @@
 }
 
 int Rig::open(int n) {
-#ifdef WIN32	// Ham radio Deluxe only on Windows
-  m_hrd=(n==9999);
-  if(m_hrd) {
+  m_hrd=false;
+  m_cmndr=false;
+  if(n&lt;9900) {
+    if(n==-99999) return -1;                      //Silence compiler warning
+    return rig_open(theRig);
+  }
+
+#ifdef WIN32	              // Ham radio Deluxe or Commander (Windows only)
+  if(n==9999) {
+    m_hrd=true;
     bool bConnect=false;
     bConnect = HRDInterfaceConnect(L&quot;localhost&quot;,7809);
     if(bConnect) {
@@ -92,12 +99,30 @@
       m_hrd=false;
       return -1;
     }
-  } else
+  }
+  if(n==9998) {
+    socket-&gt;connectToHost(QHostAddress::LocalHost, 52002);
+    if(!socket-&gt;waitForConnected(1000)) {
+      return -1;
+    }
+    QString t;
+//    qint32 nkHz=14076;
+//    t.sprintf(&quot;&lt;command:10&gt;CmdSetFreq&lt;parameters:17&gt;&lt;xcvrfreq:5&gt;%5d&quot;,nkHz);
+    t=&quot;&lt;command:10&gt;CmdGetFreq&lt;parameters:0&gt;&quot;;
+    QByteArray ba = t.toLocal8Bit();
+    const char* buf=ba.data();
+    socket-&gt;write(buf);
+    socket-&gt;waitForReadyRead(1000);
+    QByteArray reply=socket-&gt;read(128);
+    if(reply.indexOf(&quot;&lt;CmdFreq:10&gt;&quot;)==0) {
+//      qDebug() &lt;&lt; &quot;Freq:&quot; &lt;&lt; reply;
+//      qDebug() &lt;&lt; &quot;Connected to Commander&quot;;
+      m_cmndr=true;
+      return 0;
+    }
+  }
 #endif
-  {
-    if(n==-99999) return -1;                 //Silence compiler warning
-    return rig_open(theRig);
-  }
+  return -1;
 }
 
 int Rig::close(void) {
@@ -105,6 +130,9 @@
   if(m_hrd) {
     HRDInterfaceDisconnect();
     return 0;
+  } else if(m_cmndr) {
+    socket-&gt;close();
+    return 0;
   } else
 #endif
     {
@@ -132,13 +160,70 @@
     } else {
       return -1;
     }
+  } else if(m_cmndr) {
+    QString t;
+    qint32 nkHz=int(0.001*freq);
+    t.sprintf(&quot;&lt;command:10&gt;CmdSetFreq&lt;parameters:17&gt;&lt;xcvrfreq:5&gt;%5d&quot;,nkHz);
+    QByteArray ba = t.toLocal8Bit();
+    const char* buf=ba.data();
+    socket-&gt;write(buf);
+    socket-&gt;waitForBytesWritten(1000);
+    return 0;
   } else
 #endif
-    {
+  {
     return rig_set_freq(theRig, vfo, freq);
   }
 }
 
+int Rig::setXit(shortfreq_t xit, vfo_t vfo)
+{
+  return rig_set_xit(theRig, vfo, xit);
+}
+
+int Rig::setVFO(vfo_t vfo)
+{
+  return rig_set_vfo(theRig, vfo);
+}
+
+vfo_t Rig::getVFO()
+{
+  vfo_t vfo;
+  rig_get_vfo(theRig, &amp;vfo);
+  return vfo;
+}
+
+int Rig::setSplitFreq(freq_t tx_freq, vfo_t vfo) {
+#ifdef WIN32	// Ham Radio Deluxe only on Windows
+  if(m_hrd) {
+    QString t;
+    int nhz=(int)tx_freq;
+    t=m_context + &quot;Set Frequency-Hz &quot; + QString::number(nhz);
+    const wchar_t* cmnd = (const wchar_t*) t.utf16();
+    const wchar_t* result=HRDInterfaceSendMessage(cmnd);
+    QString t2=QString::fromWCharArray (result,-1);
+    HRDInterfaceFreeString(result);
+    if(t2==&quot;OK&quot;) {
+      return 0;
+    } else {
+      return -1;
+    }
+  } else if(m_cmndr) {
+    QString t;
+    qint32 nkHz=int(0.001*tx_freq);
+    t.sprintf(&quot;&lt;command:12&gt;CmdSetTxFreq&lt;parameters:17&gt;&lt;xcvrfreq:5&gt;%5d&quot;,nkHz);
+    QByteArray ba = t.toLocal8Bit();
+    const char* buf=ba.data();
+    socket-&gt;write(buf);
+    socket-&gt;waitForBytesWritten(1000);
+    return 0;
+  } else
+#endif
+  {
+    return rig_set_split_freq(theRig, vfo, tx_freq);
+  }
+}
+
 freq_t Rig::getFreq(vfo_t vfo)
 {
   freq_t freq;
@@ -150,10 +235,29 @@
     HRDInterfaceFreeString(freqString);
     freq=t2.toDouble();
     return freq;
+  } else if(m_cmndr) {
+    QString t;
+    t=&quot;&lt;command:10&gt;CmdGetFreq&lt;parameters:0&gt;&quot;;
+    QByteArray ba = t.toLocal8Bit();
+    const char* buf=ba.data();
+    socket-&gt;write(buf);
+    socket-&gt;waitForReadyRead(1000);
+    QByteArray reply=socket-&gt;read(128);
+    QString t2(reply);
+    if(t2.indexOf(&quot;&lt;CmdFreq:&quot;)==0) {
+      int i1=t2.indexOf(&quot;&gt;&quot;);
+      t2=t2.mid(i1+1).replace(&quot;,&quot;,&quot;&quot;);
+      freq=1000.0*t2.toDouble();
+      return freq;
+    } else {
+      return -1.0;
+    }
   } else
 #endif
-    {
-    rig_get_freq(theRig, vfo, &amp;freq);
+  {
+    int iret=rig_get_freq(theRig, vfo, &amp;freq);
+// iret should be 0.  Negative values mean rig_get_freq() failed.
+    if(iret&lt;0) freq=-1.0;
     return freq;
   }
 }
@@ -168,18 +272,6 @@
   return mode;
 }
 
-int Rig::setVFO(vfo_t vfo)
-{
-  return rig_set_vfo(theRig, vfo);
-}
-
-vfo_t Rig::getVFO()
-{
-  vfo_t vfo;
-  rig_get_vfo(theRig, &amp;vfo);
-  return vfo;
-}
-
 int Rig::setPTT(ptt_t ptt, vfo_t vfo)
 {
 #ifdef WIN32	// Ham Radio Deluxe only on Windows
@@ -201,6 +293,16 @@
     } else {
       return -1;
     }
+  } else if(m_cmndr) {
+    QString t;
+    if(ptt==0) t=&quot;&lt;command:5&gt;CmdRX&lt;parameters:0&gt;&quot;;
+    if(ptt&gt;0) t=&quot;&lt;command:5&gt;CmdTX&lt;parameters:0&gt;&quot;;
+    QByteArray ba = t.toLocal8Bit();
+    const char* buf=ba.data();
+    socket-&gt;write(buf);
+    socket-&gt;waitForBytesWritten(1000);
+//    qDebug() &lt;&lt; ptt &lt;&lt; buf;
+    return 0;
   } else
 #endif
     {

Modified: branches/wsjtx/rigclass.h
===================================================================
--- branches/wsjtx/rigclass.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/rigclass.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -25,15 +25,18 @@
 #include &lt;hamlib/rig.h&gt;
 #include &lt;iostream&gt;
 #include &lt;QString&gt;
+#include &lt;QTcpSocket&gt;
 
+extern QTcpSocket* socket;
+
 class BACKEND_IMPEXP Rig {
 private:
   RIG* theRig;  // Global ref. to the rig
-#ifdef WIN32	// Ham Radio Deluxe only on Windows
   bool m_hrd;
-#endif
+  bool m_cmndr;
   QString m_context;
 
+
 protected:
 public:
   Rig();
@@ -59,7 +62,8 @@
   rmode_t getMode(pbwidth_t&amp;, vfo_t vfo = RIG_VFO_CURR);
   int setVFO(vfo_t);
   vfo_t getVFO();
-
+  int setXit(shortfreq_t xit, vfo_t vfo);
+  int setSplitFreq(freq_t tx_freq, vfo_t vfo = RIG_VFO_CURR);
   int setPTT (ptt_t ptt, vfo_t vfo = RIG_VFO_CURR);
   ptt_t getPTT (vfo_t vfo = RIG_VFO_CURR);
 

Modified: branches/wsjtx/soundin.cpp
===================================================================
--- branches/wsjtx/soundin.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/soundin.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -2,7 +2,8 @@
 #include &lt;stdexcept&gt;
 
 #define FRAMES_PER_BUFFER 1024
-#define NSMAX 1365
+//#define NSMAX 1365
+#define NSMAX 6827
 #define NTMAX 120
 
 extern &quot;C&quot; {
@@ -10,7 +11,7 @@
 extern struct {
   float ss[184*NSMAX];              //This is &quot;common/jt9com/...&quot; in fortran
   float savg[NSMAX];
-  float c0[2*NTMAX*1500];
+//  float c0[2*NTMAX*1500];
   short int d2[NTMAX*12000];
   int nutc;                         //UTC as integer, HHMM
   int ndiskdat;                     //1 ==&gt; data read from *.wav file
@@ -26,8 +27,8 @@
   int nsave;
   int nagain;
   int ndepth;
-  int nrxlog;
-  int nfsample;
+  int ntxmode;
+  int nmode;
   char datetime[20];
 } jt9com_;
 }
@@ -60,7 +61,7 @@
 
   udata-&gt;ncall++;
   if( (statusFlags&amp;paInputOverflow) != 0) {
-    qDebug() &lt;&lt; &quot;Input Overflow&quot;;
+    qDebug() &lt;&lt; &quot;Input Overflow in a2dCallback&quot;;
   }
   if(udata-&gt;bzero) {           //Start of a new Rx sequence
     udata-&gt;kin=0;              //Reset buffer pointer

Modified: branches/wsjtx/soundout.cpp
===================================================================
--- branches/wsjtx/soundout.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/soundout.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -7,7 +7,7 @@
 }
 
 extern float gran();                  //Noise generator (for tests only)
-extern int itone[85];                 //Tx audio tones for 85 symbols
+extern int itone[126];                //Audio tones for all Tx symbols
 extern int icw[250];                  //Dits for CW ID
 extern int outBufSize;
 extern bool btxok;
@@ -17,10 +17,12 @@
 typedef struct   //Parameters sent to or received from callback function
 {
   double txsnrdb;
-  int    nsps;
+  double dnsps;
   int    ntrperiod;
   int    ntxfreq;
+  int    xit;
   int    ncall;
+  int    nsym;
   bool   txMute;
   bool   bRestart;
   bool   btune;
@@ -45,6 +47,7 @@
   static double fac;
   static double amp;
   static int ic=0,j=0;
+  static int isym0=-999;
   static short int i2;
   int isym,nspd;
 
@@ -58,7 +61,7 @@
     udata-&gt;bRestart=false;
     srand(mstr);                                //Initialize random seed
   }
-  isym=ic/(4*udata-&gt;nsps);                      //Actual fsample=48000
+  isym=ic/(4.0*udata-&gt;dnsps);                   //Actual fsample=48000
   if(udata-&gt;btune) isym=0;                      //If tuning, send pure tone
   if(udata-&gt;txsnrdb &lt; 0.0) {
     snr=pow(10.0,0.05*(udata-&gt;txsnrdb-6.0));
@@ -66,14 +69,15 @@
     if(snr&gt;1.0) fac=3000.0/snr;
   }
 
-  if(isym&gt;=85 and icw[0]&gt;0) {              //Output the CW ID
-    freq=udata-&gt;ntxfreq;
+  if(isym&gt;=udata-&gt;nsym and icw[0]&gt;0) {              //Output the CW ID
+    freq=udata-&gt;ntxfreq - udata-&gt;xit;
     dphi=twopi*freq/48000.0;
+
 //    float wpm=20.0;
 //    int nspd=1.2*48000.0/wpm;
 //    nspd=3072;                           //18.75 WPM
     nspd=2048 + 512;                       //22.5 WPM
-    int ic0=85*4*udata-&gt;nsps;
+    int ic0=udata-&gt;nsym*4*udata-&gt;dnsps;
     for(uint i=0 ; i&lt;framesToProcess; i++ )  {
       phi += dphi;
       if(phi&gt;twopi) phi -= twopi;
@@ -99,17 +103,22 @@
     return paContinue;
   }
 
-  baud=12000.0/udata-&gt;nsps;
-  freq=udata-&gt;ntxfreq + itone[isym]*baud;
-  dphi=twopi*freq/48000.0;
+  baud=12000.0/udata-&gt;dnsps;
   amp=32767.0;
-  int i0=84.983*4.0*udata-&gt;nsps;
-  int i1=85*4*udata-&gt;nsps;
+  int i0=(udata-&gt;nsym-0.017)*4.0*udata-&gt;dnsps;
+  int i1=udata-&gt;nsym*4.0*udata-&gt;dnsps;
   if(udata-&gt;btune) {                           //If tuning, no ramp down
-    i0=999*udata-&gt;nsps;
+    i0=999*udata-&gt;dnsps;
     i1=i0;
   }
   for(uint i=0 ; i&lt;framesToProcess; i++ )  {
+    isym=ic/(4.0*udata-&gt;dnsps);                   //Actual fsample=48000
+    if(udata-&gt;btune) isym=0;                      //If tuning, send pure tone
+    if(isym!=isym0) {
+      freq=udata-&gt;ntxfreq + itone[isym]*baud - udata-&gt;xit;
+      dphi=twopi*freq/48000.0;
+      isym0=isym;
+    }
     phi += dphi;
     if(phi&gt;twopi) phi -= twopi;
     if(ic&gt;i0) amp=0.98*amp;
@@ -160,9 +169,15 @@
   }
 
   udata.txsnrdb=99.0;
-  udata.nsps=m_nsps;
+  udata.dnsps=m_nsps;
+  udata.nsym=85;
+  if(m_modeTx==&quot;JT65&quot;) {
+    udata.dnsps=4096.0*12000.0/11025.0;
+    udata.nsym=126;
+  }
   udata.ntrperiod=m_TRperiod;
   udata.ntxfreq=m_txFreq;
+  udata.xit=m_xit;
   udata.ncall=0;
   udata.txMute=m_txMute;
   udata.bRestart=true;
@@ -193,7 +208,12 @@
     if (qe) break;
 
     udata.txsnrdb=m_txsnrdb;
-    udata.nsps=m_nsps;
+    udata.dnsps=m_nsps;
+    udata.nsym=85;
+    if(m_modeTx==&quot;JT65&quot;) {
+      udata.dnsps=4096.0*12000.0/11025.0;
+      udata.nsym=126;
+    }
     udata.ntrperiod=m_TRperiod;
     udata.ntxfreq=m_txFreq;
     udata.txMute=m_txMute;
@@ -227,6 +247,10 @@
   m_txFreq=n;
 }
 
+void SoundOutThread::setXIT(int n)
+{
+  m_xit=n;
+}
 
 void SoundOutThread::setTxSNR(double snr)
 {

Modified: branches/wsjtx/soundout.h
===================================================================
--- branches/wsjtx/soundout.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/soundout.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -27,19 +27,24 @@
   void setOutputDevice(qint32 n);
   void setPeriod(int ntrperiod, int nsps);
   void setTxFreq(int n);
+  void setXIT(int n);
   void setTxSNR(double snr);
   void setTune(bool b);
   double samFacOut();
   bool quitExecution;           //If true, thread exits gracefully
+  QString m_modeTx;
 
 // Private members
 private:
   double  m_txsnrdb;            //if &lt; 0, add noise to Tx audio
   double  m_SamFacOut;          //(Output sample rate)/48000.0
+
   qint32  m_nDevOut;            //Output device number
   qint32  m_TRperiod;           //T/R period (s)
   qint32  m_nsps;               //Samples per symbol (at 12000 Hz)
   qint32  m_txFreq;
+  qint32  m_xit;
+
   bool    m_txOK;               //Enable Tx audio
   bool    m_txMute;             //Mute temporarily
   bool    m_tune;

Modified: branches/wsjtx/widegraph.cpp
===================================================================
--- branches/wsjtx/widegraph.cpp	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/widegraph.cpp	2013-07-08 13:17:22 UTC (rev 3462)
@@ -18,7 +18,10 @@
   connect(ui-&gt;widePlot, SIGNAL(freezeDecode1(int)),this,
           SLOT(wideFreezeDecode(int)));
 
-  m_fMin=1000;
+  connect(ui-&gt;widePlot, SIGNAL(setFreq1(int,int)),this,
+          SLOT(setFreq2(int,int)));
+
+  m_fMin=3000;
   ui-&gt;fMinSpinBox-&gt;setValue(m_fMin);
 
   //Restore user's settings
@@ -39,15 +42,13 @@
   m_waterfallAvg = settings.value(&quot;WaterfallAvg&quot;,5).toInt();
   ui-&gt;waterfallAvgSpinBox-&gt;setValue(m_waterfallAvg);
   ui-&gt;widePlot-&gt;m_bCurrent=settings.value(&quot;Current&quot;,false).toBool();
-  ui-&gt;widePlot-&gt;m_bCumulative=settings.value(&quot;Cumulative&quot;,false).toBool();
-  ui-&gt;widePlot-&gt;m_bJT9Sync=settings.value(&quot;JT9Sync&quot;,true).toBool();
+  ui-&gt;widePlot-&gt;m_bCumulative=settings.value(&quot;Cumulative&quot;,true).toBool();
   if(ui-&gt;widePlot-&gt;m_bCurrent) ui-&gt;spec2dComboBox-&gt;setCurrentIndex(0);
   if(ui-&gt;widePlot-&gt;m_bCumulative) ui-&gt;spec2dComboBox-&gt;setCurrentIndex(1);
-  if(ui-&gt;widePlot-&gt;m_bJT9Sync) ui-&gt;spec2dComboBox-&gt;setCurrentIndex(2);
   int nbpp=settings.value(&quot;BinsPerPixel&quot;,2).toInt();
   ui-&gt;widePlot-&gt;setBinsPerPixel(nbpp);
-  m_qsoFreq=settings.value(&quot;QSOfreq&quot;,1500).toInt();
-  ui-&gt;widePlot-&gt;setFQSO(m_qsoFreq,true);
+  m_slope=settings.value(&quot;Slope&quot;,0.0).toDouble();
+  ui-&gt;slopeSpinBox-&gt;setValue(m_slope);
   settings.endGroup();
 }
 
@@ -72,18 +73,16 @@
   settings.setValue(&quot;WaterfallAvg&quot;,ui-&gt;waterfallAvgSpinBox-&gt;value());
   settings.setValue(&quot;Current&quot;,ui-&gt;widePlot-&gt;m_bCurrent);
   settings.setValue(&quot;Cumulative&quot;,ui-&gt;widePlot-&gt;m_bCumulative);
-  settings.setValue(&quot;JT9Sync&quot;,ui-&gt;widePlot-&gt;m_bJT9Sync);
   settings.setValue(&quot;BinsPerPixel&quot;,ui-&gt;widePlot-&gt;binsPerPixel());
-  settings.setValue(&quot;QSOfreq&quot;,ui-&gt;widePlot-&gt;fQSO());
+  settings.setValue(&quot;Slope&quot;,m_slope);
   settings.endGroup();
 }
 
-void WideGraph::dataSink2(float s[], float red[], float df3, int ihsym,
+void WideGraph::dataSink2(float s[], float df3, int ihsym,
                           int ndiskdata)
 {
   static float splot[NSMAX];
   static float swide[2048];
-  static float rwide[2048];
   int nbpp = ui-&gt;widePlot-&gt;binsPerPixel();
   static int n=0;
 
@@ -105,18 +104,14 @@
 //    int w=ui-&gt;widePlot-&gt;plotWidth();
     int i0=-1;                            //###
     int i=i0;
-    int jz=1000.0/df3;
+    int jz=5000.0/(nbpp*df3);
     for (int j=0; j&lt;jz; j++) {
       float sum=0;
-      float rsum=0;
       for (int k=0; k&lt;nbpp; k++) {
         i++;
         sum += splot[i];
-        rsum += red[i];
       }
       swide[j]=sum;
-      rwide[j]=rsum/nbpp;
-//      if(lstrong[1 + i/32]!=0) swide[j]=-smax;   //Tag strong signals
     }
 
 // Time according to this computer
@@ -128,7 +123,7 @@
       }
     }
     m_ntr0=ntr;
-    ui-&gt;widePlot-&gt;draw(swide,rwide,i0);
+    ui-&gt;widePlot-&gt;draw(swide,i0);
   }
 }
 
@@ -172,16 +167,16 @@
   }
 }
 
-void WideGraph::setQSOfreq(int n)
+void WideGraph::setRxFreq(int n)
 {
-  m_qsoFreq=n;
-  ui-&gt;widePlot-&gt;setFQSO(m_qsoFreq,true);
-  if(m_lockTxFreq) setTxFreq(m_qsoFreq);
+  m_rxFreq=n;
+  ui-&gt;widePlot-&gt;setRxFreq(m_rxFreq,true);
+  if(m_lockTxFreq) setTxFreq(m_rxFreq);
 }
 
-int WideGraph::QSOfreq()
+int WideGraph::rxFreq()
 {
-  return ui-&gt;widePlot-&gt;fQSO();
+  return ui-&gt;widePlot-&gt;rxFreq();
 }
 
 int WideGraph::nSpan()
@@ -204,9 +199,9 @@
   emit freezeDecode2(n);
 }
 
-void WideGraph::setRxRange(int fMin, int fMax)
+void WideGraph::setRxRange(int fMin)
 {
-  ui-&gt;widePlot-&gt;setRxRange(fMin,fMax);
+  ui-&gt;widePlot-&gt;setRxRange(fMin);
   ui-&gt;widePlot-&gt;DrawOverlay();
   ui-&gt;widePlot-&gt;update();
 }
@@ -218,21 +213,18 @@
 
 int WideGraph::getFmax()
 {
-  return m_fMax;
+  int n=ui-&gt;widePlot-&gt;getFmax();
+  if(n&gt;5000) n=5000;
+  return n;
 }
 
-void WideGraph::setfMax(int n)
+void WideGraph::setFmin(int n)
 {
-  m_fMax = n;
-  setRxRange(m_fMin,m_fMax);
+  m_fMin = n;
+  ui-&gt;fMinSpinBox-&gt;setValue(n);
+  setRxRange(m_fMin);
 }
 
-void WideGraph::setFcal(int n)
-{
-  m_fCal=n;
-  ui-&gt;widePlot-&gt;setFcal(n);
-}
-
 void WideGraph::setPalette(QString palette)
 {
   ui-&gt;widePlot-&gt;setPalette(palette);
@@ -252,28 +244,65 @@
 
 void WideGraph::setTxFreq(int n)
 {
+  emit setXIT2(n);
   ui-&gt;widePlot-&gt;setTxFreq(n);
 }
 
+void WideGraph::setMode(QString mode)
+{
+  m_mode=mode;
+  ui-&gt;fMinSpinBox-&gt;setEnabled(m_mode==&quot;JT9+JT65&quot;);
+  ui-&gt;widePlot-&gt;setMode(mode);
+  ui-&gt;widePlot-&gt;DrawOverlay();
+  ui-&gt;widePlot-&gt;update();
+}
+
+void WideGraph::setModeTx(QString modeTx)
+{
+  m_modeTx=modeTx;
+  ui-&gt;widePlot-&gt;setModeTx(modeTx);
+  ui-&gt;widePlot-&gt;DrawOverlay();
+  ui-&gt;widePlot-&gt;update();
+}
+
 void WideGraph::on_spec2dComboBox_currentIndexChanged(const QString &amp;arg1)
 {
   ui-&gt;widePlot-&gt;m_bCurrent=false;
   ui-&gt;widePlot-&gt;m_bCumulative=false;
-  ui-&gt;widePlot-&gt;m_bJT9Sync=false;
   if(arg1==&quot;Current&quot;) ui-&gt;widePlot-&gt;m_bCurrent=true;
   if(arg1==&quot;Cumulative&quot;) ui-&gt;widePlot-&gt;m_bCumulative=true;
-  if(arg1==&quot;JT9 Sync&quot;) ui-&gt;widePlot-&gt;m_bJT9Sync=true;
 }
 
 void WideGraph::on_fMinSpinBox_valueChanged(int n)
 {
   m_fMin=n;
-  setRxRange(m_fMin,m_fMax);
+  setRxRange(m_fMin);
 }
 
-void WideGraph::on_fMaxSpinBox_valueChanged(int n)
+void WideGraph::on_slopeSpinBox_valueChanged(double d)
 {
-  m_fMax=n;
-  setRxRange(m_fMin,m_fMax);
+  m_slope=d;
 }
 
+void WideGraph::setSlope(double d)
+{
+  m_slope=d;
+  ui-&gt;slopeSpinBox-&gt;setValue(d);
+}
+
+void WideGraph::setLockTxFreq(bool b)
+{
+  m_lockTxFreq=b;
+  ui-&gt;widePlot-&gt;m_lockTxFreq=b;
+}
+double WideGraph::getSlope()
+{
+  return m_slope;
+}
+
+void WideGraph::setFreq2(int rxFreq, int txFreq)
+{
+  m_rxFreq=rxFreq;
+  m_txFreq=txFreq;
+  emit setFreq3(rxFreq,txFreq);
+}

Modified: branches/wsjtx/widegraph.h
===================================================================
--- branches/wsjtx/widegraph.h	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/widegraph.h	2013-07-08 13:17:22 UTC (rev 3462)
@@ -14,34 +14,40 @@
   explicit WideGraph(QWidget *parent = 0);
   ~WideGraph();
 
-  void   dataSink2(float s[], float red[], float df3, int ihsym,
-                   int ndiskdata);
-  void   setQSOfreq(int n);
-  int    QSOfreq();
+  void   dataSink2(float s[], float df3, int ihsym, int ndiskdata);
+  void   setRxFreq(int n);
+  int    rxFreq();
   int    nSpan();
   int    nStartFreq();
   int    getFmin();
   int    getFmax();
   float  fSpan();
   void   saveSettings();
-  void   setRxRange(int fMin, int fMax);
-  void   setfMax(int n);
-  void   setFcal(int n);
+  void   setRxRange(int fMin);
+  void   setFmin(int n);
   void   setPalette(QString palette);
   void   setFsample(int n);
   void   setPeriod(int ntrperiod, int nsps);
   void   setTxFreq(int n);
+  void   setMode(QString mode);
+  void   setModeTx(QString modeTx);
+  void   setSlope(double d);
+  void   setLockTxFreq(bool b);
+  double getSlope();
   double fGreen();
 
-  qint32 m_qsoFreq;
-  bool   m_lockTxFreq;
+  qint32 m_rxFreq;
+  qint32 m_txFreq;
 
 signals:
   void freezeDecode2(int n);
   void f11f12(int n);
+  void setXIT2(int n);
+  void setFreq3(int rxFreq, int txFreq);
 
 public slots:
   void wideFreezeDecode(int n);
+  void setFreq2(int rxFreq, int txFreq);
 
 protected:
   virtual void keyPressEvent( QKeyEvent *e );
@@ -53,11 +59,12 @@
   void on_gainSpinBox_valueChanged(int arg1);
   void on_spec2dComboBox_currentIndexChanged(const QString &amp;arg1);
   void on_fMinSpinBox_valueChanged(int n);
-  void on_fMaxSpinBox_valueChanged(int n);
+  void on_slopeSpinBox_valueChanged(double d);
 
 private:
+  double m_slope;
+
   qint32 m_waterfallAvg;
-  qint32 m_fCal;
   qint32 m_fSample;
   qint32 m_TRperiod;
   qint32 m_nsps;
@@ -65,6 +72,11 @@
   qint32 m_fMin;
   qint32 m_fMax;
 
+  bool   m_lockTxFreq;
+
+  QString m_mode;
+  QString m_modeTx;
+
   Ui::WideGraph *ui;
 };
 

Modified: branches/wsjtx/widegraph.ui
===================================================================
--- branches/wsjtx/widegraph.ui	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/widegraph.ui	2013-07-08 13:17:22 UTC (rev 3462)
@@ -6,7 +6,7 @@
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
-    &lt;width&gt;712&lt;/width&gt;
+    &lt;width&gt;799&lt;/width&gt;
     &lt;height&gt;326&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
@@ -69,25 +69,6 @@
         &lt;/spacer&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot;&gt;
-         &lt;property name=&quot;maximumSize&quot;&gt;
-          &lt;size&gt;
-           &lt;width&gt;16777215&lt;/width&gt;
-           &lt;height&gt;25&lt;/height&gt;
-          &lt;/size&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;autoFillBackground&quot;&gt;
-          &lt;bool&gt;true&lt;/bool&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;text&quot;&gt;
-          &lt;string&gt;FFT Bins/Pixel&lt;/string&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
-          &lt;number&gt;2&lt;/number&gt;
-         &lt;/property&gt;
-        &lt;/widget&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
         &lt;widget class=&quot;QSpinBox&quot; name=&quot;freqSpanSpinBox&quot;&gt;
          &lt;property name=&quot;sizePolicy&quot;&gt;
           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
@@ -97,7 +78,7 @@
          &lt;/property&gt;
          &lt;property name=&quot;minimumSize&quot;&gt;
           &lt;size&gt;
-           &lt;width&gt;40&lt;/width&gt;
+           &lt;width&gt;110&lt;/width&gt;
            &lt;height&gt;0&lt;/height&gt;
           &lt;/size&gt;
          &lt;/property&gt;
@@ -113,6 +94,9 @@
          &lt;property name=&quot;suffix&quot;&gt;
           &lt;string/&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;prefix&quot;&gt;
+          &lt;string&gt;Bins/Pixel &lt;/string&gt;
+         &lt;/property&gt;
          &lt;property name=&quot;minimum&quot;&gt;
           &lt;number&gt;1&lt;/number&gt;
          &lt;/property&gt;
@@ -144,25 +128,6 @@
         &lt;/spacer&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
-         &lt;property name=&quot;maximumSize&quot;&gt;
-          &lt;size&gt;
-           &lt;width&gt;16777215&lt;/width&gt;
-           &lt;height&gt;25&lt;/height&gt;
-          &lt;/size&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;autoFillBackground&quot;&gt;
-          &lt;bool&gt;true&lt;/bool&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;text&quot;&gt;
-          &lt;string&gt;N Avg&lt;/string&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
-          &lt;number&gt;2&lt;/number&gt;
-         &lt;/property&gt;
-        &lt;/widget&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
         &lt;widget class=&quot;QSpinBox&quot; name=&quot;waterfallAvgSpinBox&quot;&gt;
          &lt;property name=&quot;sizePolicy&quot;&gt;
           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
@@ -172,7 +137,7 @@
          &lt;/property&gt;
          &lt;property name=&quot;minimumSize&quot;&gt;
           &lt;size&gt;
-           &lt;width&gt;0&lt;/width&gt;
+           &lt;width&gt;80&lt;/width&gt;
            &lt;height&gt;0&lt;/height&gt;
           &lt;/size&gt;
          &lt;/property&gt;
@@ -185,6 +150,9 @@
          &lt;property name=&quot;toolTip&quot;&gt;
           &lt;string&gt;Number of FFTs averaged (controls waterfall scrolling rate)&lt;/string&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;prefix&quot;&gt;
+          &lt;string&gt;N Avg &lt;/string&gt;
+         &lt;/property&gt;
          &lt;property name=&quot;minimum&quot;&gt;
           &lt;number&gt;1&lt;/number&gt;
          &lt;/property&gt;
@@ -210,26 +178,13 @@
         &lt;/spacer&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot;&gt;
-         &lt;property name=&quot;maximumSize&quot;&gt;
+        &lt;widget class=&quot;QSpinBox&quot; name=&quot;gainSpinBox&quot;&gt;
+         &lt;property name=&quot;minimumSize&quot;&gt;
           &lt;size&gt;
-           &lt;width&gt;16777215&lt;/width&gt;
-           &lt;height&gt;25&lt;/height&gt;
+           &lt;width&gt;80&lt;/width&gt;
+           &lt;height&gt;0&lt;/height&gt;
           &lt;/size&gt;
          &lt;/property&gt;
-         &lt;property name=&quot;autoFillBackground&quot;&gt;
-          &lt;bool&gt;true&lt;/bool&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;text&quot;&gt;
-          &lt;string&gt;Gain&lt;/string&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
-          &lt;number&gt;2&lt;/number&gt;
-         &lt;/property&gt;
-        &lt;/widget&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;widget class=&quot;QSpinBox&quot; name=&quot;gainSpinBox&quot;&gt;
          &lt;property name=&quot;maximumSize&quot;&gt;
           &lt;size&gt;
            &lt;width&gt;38&lt;/width&gt;
@@ -239,6 +194,9 @@
          &lt;property name=&quot;toolTip&quot;&gt;
           &lt;string&gt;Scaling (dB) applied to spectra before plotting&lt;/string&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;prefix&quot;&gt;
+          &lt;string&gt;Gain &lt;/string&gt;
+         &lt;/property&gt;
          &lt;property name=&quot;minimum&quot;&gt;
           &lt;number&gt;-20&lt;/number&gt;
          &lt;/property&gt;
@@ -264,26 +222,13 @@
         &lt;/spacer&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
-         &lt;property name=&quot;maximumSize&quot;&gt;
+        &lt;widget class=&quot;QSpinBox&quot; name=&quot;zeroSpinBox&quot;&gt;
+         &lt;property name=&quot;minimumSize&quot;&gt;
           &lt;size&gt;
-           &lt;width&gt;16777215&lt;/width&gt;
-           &lt;height&gt;25&lt;/height&gt;
+           &lt;width&gt;80&lt;/width&gt;
+           &lt;height&gt;0&lt;/height&gt;
           &lt;/size&gt;
          &lt;/property&gt;
-         &lt;property name=&quot;autoFillBackground&quot;&gt;
-          &lt;bool&gt;true&lt;/bool&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;text&quot;&gt;
-          &lt;string&gt;Zero&lt;/string&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
-          &lt;number&gt;2&lt;/number&gt;
-         &lt;/property&gt;
-        &lt;/widget&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;widget class=&quot;QSpinBox&quot; name=&quot;zeroSpinBox&quot;&gt;
          &lt;property name=&quot;maximumSize&quot;&gt;
           &lt;size&gt;
            &lt;width&gt;38&lt;/width&gt;
@@ -293,6 +238,12 @@
          &lt;property name=&quot;toolTip&quot;&gt;
           &lt;string&gt;Constant offset applied to waterfall data&lt;/string&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;suffix&quot;&gt;
+          &lt;string/&gt;
+         &lt;/property&gt;
+         &lt;property name=&quot;prefix&quot;&gt;
+          &lt;string&gt;Zero &lt;/string&gt;
+         &lt;/property&gt;
          &lt;property name=&quot;minimum&quot;&gt;
           &lt;number&gt;-100&lt;/number&gt;
          &lt;/property&gt;
@@ -302,64 +253,32 @@
         &lt;/widget&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
-         &lt;property name=&quot;orientation&quot;&gt;
-          &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;sizeType&quot;&gt;
-          &lt;enum&gt;QSizePolicy::Minimum&lt;/enum&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+        &lt;widget class=&quot;QDoubleSpinBox&quot; name=&quot;slopeSpinBox&quot;&gt;
+         &lt;property name=&quot;minimumSize&quot;&gt;
           &lt;size&gt;
-           &lt;width&gt;8&lt;/width&gt;
-           &lt;height&gt;20&lt;/height&gt;
+           &lt;width&gt;60&lt;/width&gt;
+           &lt;height&gt;0&lt;/height&gt;
           &lt;/size&gt;
          &lt;/property&gt;
-        &lt;/spacer&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot;&gt;
-         &lt;property name=&quot;maximumSize&quot;&gt;
-          &lt;size&gt;
-           &lt;width&gt;16777215&lt;/width&gt;
-           &lt;height&gt;25&lt;/height&gt;
-          &lt;/size&gt;
+         &lt;property name=&quot;prefix&quot;&gt;
+          &lt;string&gt;Slope &lt;/string&gt;
          &lt;/property&gt;
-         &lt;property name=&quot;autoFillBackground&quot;&gt;
-          &lt;bool&gt;true&lt;/bool&gt;
+         &lt;property name=&quot;decimals&quot;&gt;
+          &lt;number&gt;1&lt;/number&gt;
          &lt;/property&gt;
-         &lt;property name=&quot;text&quot;&gt;
-          &lt;string&gt;f Min&lt;/string&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
-          &lt;number&gt;2&lt;/number&gt;
-         &lt;/property&gt;
-        &lt;/widget&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;widget class=&quot;QSpinBox&quot; name=&quot;fMinSpinBox&quot;&gt;
-         &lt;property name=&quot;sizePolicy&quot;&gt;
-          &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
-           &lt;horstretch&gt;0&lt;/horstretch&gt;
-           &lt;verstretch&gt;0&lt;/verstretch&gt;
-          &lt;/sizepolicy&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;toolTip&quot;&gt;
-          &lt;string&gt;Minimum frequency for wideband decodes&lt;/string&gt;
-         &lt;/property&gt;
          &lt;property name=&quot;minimum&quot;&gt;
-          &lt;number&gt;1000&lt;/number&gt;
+          &lt;double&gt;-2.000000000000000&lt;/double&gt;
          &lt;/property&gt;
          &lt;property name=&quot;maximum&quot;&gt;
-          &lt;number&gt;2000&lt;/number&gt;
+          &lt;double&gt;2.000000000000000&lt;/double&gt;
          &lt;/property&gt;
          &lt;property name=&quot;singleStep&quot;&gt;
-          &lt;number&gt;50&lt;/number&gt;
+          &lt;double&gt;0.100000000000000&lt;/double&gt;
          &lt;/property&gt;
         &lt;/widget&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;spacer name=&quot;horizontalSpacer_8&quot;&gt;
+        &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
          &lt;property name=&quot;orientation&quot;&gt;
           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
          &lt;/property&gt;
@@ -375,51 +294,44 @@
         &lt;/spacer&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot;&gt;
-         &lt;property name=&quot;maximumSize&quot;&gt;
-          &lt;size&gt;
-           &lt;width&gt;16777215&lt;/width&gt;
-           &lt;height&gt;25&lt;/height&gt;
-          &lt;/size&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;autoFillBackground&quot;&gt;
-          &lt;bool&gt;true&lt;/bool&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;text&quot;&gt;
-          &lt;string&gt;f Max&lt;/string&gt;
-         &lt;/property&gt;
-         &lt;property name=&quot;margin&quot;&gt;
-          &lt;number&gt;2&lt;/number&gt;
-         &lt;/property&gt;
-        &lt;/widget&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;widget class=&quot;QSpinBox&quot; name=&quot;fMaxSpinBox&quot;&gt;
+        &lt;widget class=&quot;QSpinBox&quot; name=&quot;fMinSpinBox&quot;&gt;
          &lt;property name=&quot;sizePolicy&quot;&gt;
           &lt;sizepolicy hsizetype=&quot;Fixed&quot; vsizetype=&quot;Fixed&quot;&gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;minimumSize&quot;&gt;
+          &lt;size&gt;
+           &lt;width&gt;110&lt;/width&gt;
+           &lt;height&gt;0&lt;/height&gt;
+          &lt;/size&gt;
+         &lt;/property&gt;
          &lt;property name=&quot;toolTip&quot;&gt;
-          &lt;string&gt;Maximum frequency for wideband decodes&lt;/string&gt;
+          &lt;string&gt;Decode JT65 below this frequency, JT9 above&lt;/string&gt;
          &lt;/property&gt;
+         &lt;property name=&quot;suffix&quot;&gt;
+          &lt;string&gt;  JT9&lt;/string&gt;
+         &lt;/property&gt;
+         &lt;property name=&quot;prefix&quot;&gt;
+          &lt;string&gt;JT65  &lt;/string&gt;
+         &lt;/property&gt;
          &lt;property name=&quot;minimum&quot;&gt;
-          &lt;number&gt;1000&lt;/number&gt;
+          &lt;number&gt;0&lt;/number&gt;
          &lt;/property&gt;
          &lt;property name=&quot;maximum&quot;&gt;
-          &lt;number&gt;2000&lt;/number&gt;
+          &lt;number&gt;5000&lt;/number&gt;
          &lt;/property&gt;
          &lt;property name=&quot;singleStep&quot;&gt;
-          &lt;number&gt;50&lt;/number&gt;
+          &lt;number&gt;100&lt;/number&gt;
          &lt;/property&gt;
          &lt;property name=&quot;value&quot;&gt;
-          &lt;number&gt;2000&lt;/number&gt;
+          &lt;number&gt;3000&lt;/number&gt;
          &lt;/property&gt;
         &lt;/widget&gt;
        &lt;/item&gt;
        &lt;item&gt;
-        &lt;spacer name=&quot;horizontalSpacer_5&quot;&gt;
+        &lt;spacer name=&quot;horizontalSpacer_8&quot;&gt;
          &lt;property name=&quot;orientation&quot;&gt;
           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
          &lt;/property&gt;
@@ -452,11 +364,6 @@
            &lt;string&gt;Cumulative&lt;/string&gt;
           &lt;/property&gt;
          &lt;/item&gt;
-         &lt;item&gt;
-          &lt;property name=&quot;text&quot;&gt;
-           &lt;string&gt;JT9 Sync&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/item&gt;
         &lt;/widget&gt;
        &lt;/item&gt;
        &lt;item&gt;

Modified: branches/wsjtx/wsjtx.iss
===================================================================
--- branches/wsjtx/wsjtx.iss	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/wsjtx.iss	2013-07-08 13:17:22 UTC (rev 3462)
@@ -1,26 +1,29 @@
 [Setup]
 AppName=wsjtx
-AppVerName=wsjtx Version 1.0.0 r3323
+AppVerName=wsjtx Version 1.0.0 r3461
 AppCopyright=Copyright (C) 2001-2013 by Joe Taylor, K1JT
-DefaultDirName=c:\wsjtx
-DefaultGroupName=wsjtx
+DefaultDirName=c:\wsjtx2
+DefaultGroupName=wsjtx2
 
 [Files]
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\wsjtx.exe&quot;;         DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\jt9.exe&quot;;           DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx\lib\jt9code.exe&quot;;           DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\rigctl.exe&quot;;        DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\wsjt.ico&quot;;          DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\afmhot.dat&quot;;        DestDir: &quot;{app}&quot;;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\blue.dat&quot;;          DestDir: &quot;{app}&quot;;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\CALL3.TXT&quot;;         DestDir: &quot;{app}&quot;;  Flags: onlyifdoesntexist
-Source: &quot;c:\Users\joe\wsjt\QtSupport\*.dll&quot;;                 DestDir: &quot;{app}&quot;;
-Source: &quot;c:\Users\joe\wsjt\wsjtx\shortcuts.txt&quot;;             DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx\mouse_commands.txt&quot;;        DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx\WSJT-X_Users_Guide.pdf&quot;;    DestDir: &quot;{app}&quot;
-Source: &quot;c:\Users\joe\wsjt\wsjtx_install\save\Samples\130418_1742.wav&quot;;   DestDir: &quot;{app}\save\Samples&quot;;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\wsjtx.exe&quot;;         DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\jt9.exe&quot;;           DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx\lib\jt9code.exe&quot;;           DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\rigctl.exe&quot;;        DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\kvasd.exe&quot;;         DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\wsjt.ico&quot;;          DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\afmhot.dat&quot;;        DestDir: &quot;{app}&quot;;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\blue.dat&quot;;          DestDir: &quot;{app}&quot;;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\CALL3.TXT&quot;;         DestDir: &quot;{app}&quot;;  Flags: onlyifdoesntexist
+Source: &quot;c:\Users\joe\wsjt\QtSupport\*.dll&quot;;                      DestDir: &quot;{app}&quot;;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx\shortcuts.txt&quot;;             DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx\mouse_commands.txt&quot;;        DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt\wsjtx\WSJT-X_Users_Guide.pdf&quot;;         DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx\WSJT-X_1.1_Quick_Start.pdf&quot;;    DestDir: &quot;{app}&quot;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\save\Samples\130418_1742.wav&quot;;   DestDir: &quot;{app}\save\Samples&quot;;
+Source: &quot;c:\Users\joe\wsjt_k1jt\wsjtx_install\save\Samples\130610_2343.wav&quot;;   DestDir: &quot;{app}\save\Samples&quot;;
 
 [Icons]
-Name: &quot;{group}\wsjtx&quot;;        Filename: &quot;{app}\wsjtx.exe&quot;;   WorkingDir: {app}; IconFilename: {app}\wsjt.ico
-Name: &quot;{userdesktop}\wsjtx&quot;;  Filename: &quot;{app}\wsjtx.exe&quot;;   WorkingDir: {app}; IconFilename: {app}\wsjt.ico
+Name: &quot;{group}\wsjtx2&quot;;        Filename: &quot;{app}\wsjtx.exe&quot;;   WorkingDir: {app}; IconFilename: {app}\wsjt.ico
+Name: &quot;{userdesktop}\wsjtx2&quot;;  Filename: &quot;{app}\wsjtx.exe&quot;;   WorkingDir: {app}; IconFilename: {app}\wsjt.ico
 

Modified: branches/wsjtx/wsjtx.pro
===================================================================
--- branches/wsjtx/wsjtx.pro	2013-07-07 18:39:38 UTC (rev 3461)
+++ branches/wsjtx/wsjtx.pro	2013-07-08 13:17:22 UTC (rev 3462)
@@ -6,13 +6,12 @@
 
 QT       += core gui network
 greaterThan(QT_MAJOR_VERSION, 4): QT += widgets
-CONFIG   += qwt thread
+CONFIG   += thread
 #CONFIG   += console
 
 TARGET = wsjtx
 DESTDIR = ../wsjtx_install
-#DESTDIR = ../qt5_install
-VERSION = 0.99
+VERSION = 1.1
 TEMPLATE = app
 DEFINES = QT4
 
@@ -57,27 +56,22 @@
 RC_FILE = wsjtx.rc
 
 unix {
-INCLUDEPATH += $$quote(/usr/include/qwt-qt4)
 LIBS += ../wsjtx/lib/libjt9.a
 LIBS += -lhamlib
-LIBS += -lportaudio -lgfortran -lfftw3f -lqwt-qt4
+LIBS += -lportaudio -lgfortran -lfftw3f
 }
 
 win32 {
-INCLUDEPATH += c:/qwt-6.0.1/include
 INCLUDEPATH += ../../hamlib-1.2.15.3/include
 LIBS += ../../hamlib-1.2.15.3/src/.libs/libhamlib.dll.a
+#LIBS += ../../hamlib-1.2.15.3/lib/gcc/libhamlib.dll.a
 LIBS += ../wsjtx/lib/libjt9.a
 LIBS += ../wsjtx/libfftw3f_win.a
 LIBS += ../wsjtx/libpskreporter.a
 LIBS += ../wsjtx/libHRDInterface001.a
-LIBS += ../QtSupport/palir-02.dll
+#LIBS += ../QtSupport/palir-02.dll
+LIBS += /users/joe/wsjt/QtSupport/palir-02.dll
 LIBS += libwsock32
 LIBS += C:/MinGW/lib/libf95.a
-CONFIG(release) {
-   LIBS += C:/qwt-6.0.1/lib/qwt.dll
-} else {
-   LIBS += C:/qwt-6.0.1/lib/qwtd.dll
-   LIBS += -lusb
+
 }
-}

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003153.html">[WSJT-SVN] r3461 - branches/wsjtx_k1jt_p1
</A></li>
	<LI>Next message: <A HREF="003155.html">[WSJT-SVN] r3463 - in branches/wsjtx: . lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3154">[ date ]</a>
              <a href="thread.html#3154">[ thread ]</a>
              <a href="subject.html#3154">[ subject ]</a>
              <a href="author.html#3154">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
