<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r1209 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1209%20-%20trunk&In-Reply-To=%3C200905131356.n4DDupxl019588%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000900.html">
   <LINK REL="Next"  HREF="000901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r1209 - trunk</H1>
    <B>va3db at BerliOS</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1209%20-%20trunk&In-Reply-To=%3C200905131356.n4DDupxl019588%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r1209 - trunk">va3db at mail.berlios.de
       </A><BR>
    <I>Wed May 13 15:56:51 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000900.html">[WSJT-SVN] r1208 - branches/map65
</A></li>
        <LI>Next message: <A HREF="000901.html">[WSJT-SVN] r1210 - branches/map65
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#899">[ date ]</a>
              <a href="thread.html#899">[ thread ]</a>
              <a href="subject.html#899">[ subject ]</a>
              <a href="author.html#899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: va3db
Date: 2009-05-13 15:56:46 +0200 (Wed, 13 May 2009)
New Revision: 1209

Modified:
   trunk/configure
   trunk/configure.ac
Log:
- Slightly tidy up configure.



Modified: trunk/configure
===================================================================
--- trunk/configure	2009-05-13 13:56:15 UTC (rev 1208)
+++ trunk/configure	2009-05-13 13:56:46 UTC (rev 1209)
@@ -2,7 +2,7 @@
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.62 for wsjt 7.04.
 #
-# $Id: configure.ac 1165 2009-04-26 18:09:47Z va3db $
+# $Id: configure.ac 1204 2009-05-05 20:31:32Z va3db $
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
@@ -1452,7 +1452,7 @@
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 
-$Id: configure.ac 1165 2009-04-26 18:09:47Z va3db $
+$Id: configure.ac 1204 2009-05-05 20:31:32Z va3db $
 _ACEOF
   exit
 fi
@@ -4952,7 +4952,6 @@
 fi
 
 
-
 if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
   { $as_echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
 $as_echo_n &quot;checking for samplerate.h... &quot; &gt;&amp;6; }
@@ -5709,7 +5708,6 @@
 	fi
 fi
 
-echo
 
 if test -z $FC ; then
 	fail=1
@@ -5724,6 +5722,12 @@
 if test $HAS_SAMPLERATE_H -eq 0; then
 	fail=1
 	echo &quot;You need to install the samplerate library&quot;
+else
+	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define HAS_SAMPLERATE_H 1
+_ACEOF
+
+	LIBS=&quot;${LIBS} -lsamplerate&quot;
 fi
 
 if test $HAS_PORTAUDIO -eq 1; then
@@ -5746,14 +5750,7 @@
 	echo &quot; --with-portaudio-lib-dir= to set the paths.&quot;
 fi
 
-if test $HAS_SAMPLERATE_H -eq 1; then
-        cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define HAS_SAMPLERATE_H 1
-_ACEOF
 
-	LIBS=&quot;${LIBS} -lsamplerate&quot;
-fi
-
 if test $HAS_FFTW3_H -eq 1; then
 	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define HAS_FFTW3_H 1
@@ -5777,8 +5774,7 @@
 
 else
 	fail =1
-	echo &quot;You are missing the fortran shim lib for fftw3 you need libfftw3f.&quot;
-	echo &quot;It is also possible your libfftw3f is missing the fortran shim entry points.&quot;
+	echo &quot;You are missing the fortran shim libs in libfftw3.&quot;
 fi
 
 if test $fail -eq 1; then

Modified: trunk/configure.ac
===================================================================
--- trunk/configure.ac	2009-05-13 13:56:15 UTC (rev 1208)
+++ trunk/configure.ac	2009-05-13 13:56:46 UTC (rev 1209)
@@ -28,7 +28,6 @@
 FCV=&quot;&quot;
 FFLAGS_GFORTRAN=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none\
 			-Wall -fbounds-check -fno-second-underscore -fPIC&quot;
-
 FFLAGS_G95=&quot;${FFLAGS} -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC&quot;
 #-Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 
@@ -134,7 +133,6 @@
 AC_HEADER_TIME
 
 AC_CHECK_HEADER([fftw3.h], [HAS_FFTW3_H=1], [HAS_FFTW3_H=0])
-
 AC_CHECK_HEADER([samplerate.h], [HAS_SAMPLERATE_H=1], [HAS_SAMPLERATE_H=0])
 
 HAS_PORTAUDIO_H=0
@@ -349,8 +347,7 @@
 fi
 
 dnl sanity tests.
-dnl
-echo
+dnl =============
 
 if test -z $FC ; then
 	fail=1
@@ -365,6 +362,9 @@
 if test $HAS_SAMPLERATE_H -eq 0; then
 	fail=1
 	echo &quot;You need to install the samplerate library&quot;
+else
+	AC_DEFINE(HAS_SAMPLERATE_H, 1, )
+	LIBS=&quot;${LIBS} -lsamplerate&quot;
 fi
 
 if test $HAS_PORTAUDIO -eq 1; then
@@ -378,11 +378,6 @@
 	echo &quot; --with-portaudio-lib-dir= to set the paths.&quot;
 fi
 
-if test $HAS_SAMPLERATE_H -eq 1; then
-        AC_DEFINE(HAS_SAMPLERATE_H, 1, )
-	LIBS=&quot;${LIBS} -lsamplerate&quot;
-fi
-
 if test $HAS_FFTW3_H -eq 1; then
 	AC_DEFINE(HAS_FFTW3_H, 1, )
 else
@@ -390,20 +385,19 @@
 	echo &quot;You are missing the fftw3.h include file&quot;
 fi
 
-if test &quot;$F2PY&quot; = &quot;&quot;; then
-	echo &quot;You are missing f2py, trying local copy.&quot;
-	F2PY=&quot;python f2py.py&quot;;	
-fi
-
 if test $HAS_FFTW3FLIBS -eq 1; then
 	LIBS=&quot;${LIBS} -lfftw3f&quot;
 	AC_DEFINE(HAS_FFTW3FLIBS, 1, )
 else
 	fail =1
-	echo &quot;You are missing the fortran shim lib for fftw3 you need libfftw3f.&quot;
-	echo &quot;It is also possible your libfftw3f is missing the fortran shim entry points.&quot;
+	echo &quot;You are missing the fortran shim libs in libfftw3.&quot;
 fi
 
+if test &quot;$F2PY&quot; = &quot;&quot;; then
+	echo &quot;You are missing f2py, trying local copy.&quot;
+	F2PY=&quot;python f2py.py&quot;;	
+fi
+
 dnl
 dnl If fail a pre-requisite then fail
 dnl


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000900.html">[WSJT-SVN] r1208 - branches/map65
</A></li>
	<LI>Next message: <A HREF="000901.html">[WSJT-SVN] r1210 - branches/map65
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#899">[ date ]</a>
              <a href="thread.html#899">[ thread ]</a>
              <a href="subject.html#899">[ subject ]</a>
              <a href="author.html#899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
