<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r1213 - branches/map65iq
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1213%20-%20branches/map65iq&In-Reply-To=%3C200905131628.n4DGSg9r001702%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000906.html">
   <LINK REL="Next"  HREF="000907.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r1213 - branches/map65iq</H1>
    <B>va3db at BerliOS</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1213%20-%20branches/map65iq&In-Reply-To=%3C200905131628.n4DGSg9r001702%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r1213 - branches/map65iq">va3db at mail.berlios.de
       </A><BR>
    <I>Wed May 13 18:28:42 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000906.html">[WSJT-SVN] r1212 - branches/map65
</A></li>
        <LI>Next message: <A HREF="000907.html">[WSJT-SVN] r1214 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#910">[ date ]</a>
              <a href="thread.html#910">[ thread ]</a>
              <a href="subject.html#910">[ subject ]</a>
              <a href="author.html#910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: va3db
Date: 2009-05-13 18:28:40 +0200 (Wed, 13 May 2009)
New Revision: 1213

Modified:
   branches/map65iq/Makefile.in
   branches/map65iq/configure
   branches/map65iq/configure.ac
Log:
- clean up configure and Makefile to match.
- Note libsamplerate apparently is not used here.



Modified: branches/map65iq/Makefile.in
===================================================================
--- branches/map65iq/Makefile.in	2009-05-13 15:39:27 UTC (rev 1212)
+++ branches/map65iq/Makefile.in	2009-05-13 16:28:40 UTC (rev 1213)
@@ -1,7 +1,7 @@
 CC ?= @CC@
 FFLAGS	= @FFLAGS@
 LDFLAGS	= @LDFLAGS@
-LIBS	= @LIBS@ -lfftw3f
+LIBS	= @LIBS@
 CPPFLAGS = @CPPFLAGS@
 CFLAGS	= @CFLAGS@
 # WSJT specific C flags
@@ -11,7 +11,7 @@
 CPPFLAGS += ${DEFS} -I.
 
 # WSJT specific Fortran flags
-FFLAGS += -Wall -fbounds-check -fno-second-underscore -fPIC
+#FFLAGS += -Wall -fbounds-check -fno-second-underscore -fPIC
 #FFLAGS += -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 #FFLAGS += -Wall -fbounds-check -fno-second-underscore -ffixed-line-length-none -fPIC
 #FFLAGS += -Wall -fbounds-check -fno-second-underscore -fPIC

Modified: branches/map65iq/configure
===================================================================
--- branches/map65iq/configure	2009-05-13 15:39:27 UTC (rev 1212)
+++ branches/map65iq/configure	2009-05-13 16:28:40 UTC (rev 1213)
@@ -2,7 +2,7 @@
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.62 for map65iq 0.9.
 #
-# $Id: configure.ac 1151 2009-04-23 19:02:43Z va3db $
+# $Id: configure.ac 1155 2009-04-23 23:36:49Z va3db $
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
@@ -703,10 +703,13 @@
 F2PY
 G95
 GFORTRAN
+VERSION
 OS
 CLOBBER
 FC_LIB_PATH
 FC
+FCV
+PREFIX
 LIBOBJS
 LTLIBOBJS'
 ac_subst_files=''
@@ -1449,7 +1452,7 @@
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 
-$Id: configure.ac 1151 2009-04-23 19:02:43Z va3db $
+$Id: configure.ac 1155 2009-04-23 23:36:49Z va3db $
 _ACEOF
   exit
 fi
@@ -1824,8 +1827,10 @@
 
 
 
+fail=0
 
 
+
 OLD_CFLAGS=&quot;$CFLAGS&quot;
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
@@ -3040,9 +3045,19 @@
 CPPFLAGS=&quot;-I/usr/local/include ${CPPFLAGS}&quot;
 LDFLAGS=&quot;-L/usr/local/lib ${LDFLAGS}&quot;
 LIBS=&quot; -lpthread ${LIBS}&quot;
+FCV=&quot;&quot;
+FFLAGS_GFORTRAN=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none\
+			-Wall -fbounds-check -fno-second-underscore -fPIC&quot;
+FFLAGS_G95=&quot;${FFLAGS} -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC&quot;
+#-Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 
-{ $as_echo &quot;$as_me:$LINENO: checking uname -s for Cygwin, Solaris or HPUX&quot; &gt;&amp;5
-$as_echo_n &quot;checking uname -s for Cygwin, Solaris or HPUX... &quot; &gt;&amp;6; }
+
+if test -n ${FC} ; then
+	gfortran=${FC}
+fi
+
+{ $as_echo &quot;$as_me:$LINENO: checking uname -s&quot; &gt;&amp;5
+$as_echo_n &quot;checking uname -s... &quot; &gt;&amp;6; }
 case `uname -s` in
 	CYGWIN*)
 		{ $as_echo &quot;$as_me:$LINENO: result: Cygwin&quot; &gt;&amp;5
@@ -3058,12 +3073,24 @@
 _ACEOF
 
 	;;
+        FreeBSD*)
+		if test -z ${gfortran} ; then
+			gfortran=`grep FC: /usr/ports/Mk/bsd.gcc.mk | head -1 |awk '{print $2}'`
+		fi
+		FCV_G95=&quot;g95&quot;
+	;;
 	*)
+		FCV_G95=&quot;g95&quot;
 		{ $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
 $as_echo &quot;no&quot; &gt;&amp;6; }
 	;;
 esac
 
+
+if test -z $gfortran ; then
+	gfortran=&quot;gfortran&quot;
+fi
+
 if test &quot;$ac_cv_c_compiler_gnu&quot; = yes; then
 	{ $as_echo &quot;$as_me:$LINENO: checking if $CC is Apple GCC&quot; &gt;&amp;5
 $as_echo_n &quot;checking if $CC is Apple GCC... &quot; &gt;&amp;6; }
@@ -3089,7 +3116,6 @@
 fi
 
 
-
 { $as_echo &quot;$as_me:$LINENO: checking for library containing strerror&quot; &gt;&amp;5
 $as_echo_n &quot;checking for library containing strerror... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_search_strerror+set}&quot; = set; then
@@ -4262,13 +4288,8 @@
 fi
 
 
-{ $as_echo &quot;$as_me:$LINENO: checking g95 lib path&quot; &gt;&amp;5
-$as_echo_n &quot;checking g95 lib path... &quot; &gt;&amp;6; }
-G95_LIB_PATH=`${G95} -print-file-name=`
-{ $as_echo &quot;$as_me:$LINENO: result: ${G95_LIB_PATH}&quot; &gt;&amp;5
-$as_echo &quot;${G95_LIB_PATH}&quot; &gt;&amp;6; }
-# Extract the first word of &quot;gfortran&quot;, so it can be a program name with args.
-set dummy gfortran; ac_word=$2
+# Extract the first word of &quot;${gfortran}&quot;, so it can be a program name with args.
+set dummy ${gfortran}; ac_word=$2
 { $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
 $as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_path_GFORTRAN+set}&quot; = set; then
@@ -4307,51 +4328,8 @@
 fi
 
 
-# Extract the first word of &quot;gfortran43&quot;, so it can be a program name with args.
-set dummy gfortran43; ac_word=$2
-{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_path_GFORTRAN+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  case $GFORTRAN in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_GFORTRAN=&quot;$GFORTRAN&quot; # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
-    ac_cv_path_GFORTRAN=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
+VERSION=&quot;${version}&quot;
 
-  ;;
-esac
-fi
-GFORTRAN=$ac_cv_path_GFORTRAN
-if test -n &quot;$GFORTRAN&quot;; then
-  { $as_echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
-$as_echo &quot;$GFORTRAN&quot; &gt;&amp;6; }
-else
-  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-$as_echo &quot;no&quot; &gt;&amp;6; }
-fi
-
-
-{ $as_echo &quot;$as_me:$LINENO: checking gfortran lib path&quot; &gt;&amp;5
-$as_echo_n &quot;checking gfortran lib path... &quot; &gt;&amp;6; }
-GFORTRAN_LIB_PATH=`${GFORTRAN} -print-file-name=`
-{ $as_echo &quot;$as_me:$LINENO: result: ${GFORTRAN_LIB_PATH}&quot; &gt;&amp;5
-$as_echo &quot;${GFORTRAN_LIB_PATH}&quot; &gt;&amp;6; }
 { $as_echo &quot;$as_me:$LINENO: checking OS&quot; &gt;&amp;5
 $as_echo_n &quot;checking OS... &quot; &gt;&amp;6; }
 OS=`uname`
@@ -4838,18 +4816,18 @@
 fi
 
 
-if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
-  { $as_echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
-$as_echo_n &quot;checking for samplerate.h... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
+if test &quot;${ac_cv_header_fftw3_h+set}&quot; = set; then
+  { $as_echo &quot;$as_me:$LINENO: checking for fftw3.h&quot; &gt;&amp;5
+$as_echo_n &quot;checking for fftw3.h... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_header_fftw3_h+set}&quot; = set; then
   $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_samplerate_h&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_header_samplerate_h&quot; &gt;&amp;6; }
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_fftw3_h&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_fftw3_h&quot; &gt;&amp;6; }
 else
   # Is the header compilable?
-{ $as_echo &quot;$as_me:$LINENO: checking samplerate.h usability&quot; &gt;&amp;5
-$as_echo_n &quot;checking samplerate.h usability... &quot; &gt;&amp;6; }
+{ $as_echo &quot;$as_me:$LINENO: checking fftw3.h usability&quot; &gt;&amp;5
+$as_echo_n &quot;checking fftw3.h usability... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4857,7 +4835,7 @@
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-#include &lt;samplerate.h&gt;
+#include &lt;fftw3.h&gt;
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try=&quot;$ac_compile&quot;
@@ -4890,15 +4868,15 @@
 $as_echo &quot;$ac_header_compiler&quot; &gt;&amp;6; }
 
 # Is the header present?
-{ $as_echo &quot;$as_me:$LINENO: checking samplerate.h presence&quot; &gt;&amp;5
-$as_echo_n &quot;checking samplerate.h presence... &quot; &gt;&amp;6; }
+{ $as_echo &quot;$as_me:$LINENO: checking fftw3.h presence&quot; &gt;&amp;5
+$as_echo_n &quot;checking fftw3.h presence... &quot; &gt;&amp;6; }
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#include &lt;samplerate.h&gt;
+#include &lt;fftw3.h&gt;
 _ACEOF
 if { (ac_try=&quot;$ac_cpp conftest.$ac_ext&quot;
 case &quot;(($ac_try&quot; in
@@ -4932,43 +4910,43 @@
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
   yes:no: )
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: proceeding with the compiler's result&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h: proceeding with the compiler's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h: proceeding with the compiler's result&quot; &gt;&amp;2;}
     ac_header_preproc=yes
     ;;
   no:yes:* )
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: present but cannot be compiled&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h: present but cannot be compiled&quot; &gt;&amp;2;}
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: see the Autoconf documentation&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h: see the Autoconf documentation&quot; &gt;&amp;2;}
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
-    { $as_echo &quot;$as_me:$LINENO: WARNING: samplerate.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: samplerate.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h: present but cannot be compiled&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h: present but cannot be compiled&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h:     check for missing prerequisite headers?&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h: see the Autoconf documentation&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h: see the Autoconf documentation&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h: proceeding with the preprocessor's result&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
+    { $as_echo &quot;$as_me:$LINENO: WARNING: fftw3.h: in the future, the compiler will take precedence&quot; &gt;&amp;5
+$as_echo &quot;$as_me: WARNING: fftw3.h: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
 
     ;;
 esac
-{ $as_echo &quot;$as_me:$LINENO: checking for samplerate.h&quot; &gt;&amp;5
-$as_echo_n &quot;checking for samplerate.h... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_header_samplerate_h+set}&quot; = set; then
+{ $as_echo &quot;$as_me:$LINENO: checking for fftw3.h&quot; &gt;&amp;5
+$as_echo_n &quot;checking for fftw3.h... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_header_fftw3_h+set}&quot; = set; then
   $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
-  ac_cv_header_samplerate_h=$ac_header_preproc
+  ac_cv_header_fftw3_h=$ac_header_preproc
 fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_samplerate_h&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_header_samplerate_h&quot; &gt;&amp;6; }
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_header_fftw3_h&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_header_fftw3_h&quot; &gt;&amp;6; }
 
 fi
-if test $ac_cv_header_samplerate_h = yes; then
-  HAS_SAMPLERATE_H=1
+if test $ac_cv_header_fftw3_h = yes; then
+  HAS_FFTW3_H=1
 else
-  HAS_SAMPLERATE_H=0
+  HAS_FFTW3_H=0
 fi
 
 
@@ -5027,13 +5005,13 @@
 
 fi
 
-{ $as_echo &quot;$as_me:$LINENO: checking for clock_gettime in -lrt&quot; &gt;&amp;5
-$as_echo_n &quot;checking for clock_gettime in -lrt... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_lib_rt_clock_gettime+set}&quot; = set; then
+{ $as_echo &quot;$as_me:$LINENO: checking for sfftw_destroy_plan_ in -lfftw3f&quot; &gt;&amp;5
+$as_echo_n &quot;checking for sfftw_destroy_plan_ in -lfftw3f... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_lib_fftw3f_sfftw_destroy_plan_+set}&quot; = set; then
   $as_echo_n &quot;(cached) &quot; &gt;&amp;6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS=&quot;-lrt  $LIBS&quot;
+LIBS=&quot;-lfftw3f  $LIBS&quot;
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -5047,11 +5025,11 @@
 #ifdef __cplusplus
 extern &quot;C&quot;
 #endif
-char clock_gettime ();
+char sfftw_destroy_plan_ ();
 int
 main ()
 {
-return clock_gettime ();
+return sfftw_destroy_plan_ ();
   ;
   return 0;
 }
@@ -5077,12 +5055,12 @@
 	 test &quot;$cross_compiling&quot; = yes ||
 	 $as_test_x conftest$ac_exeext
        }; then
-  ac_cv_lib_rt_clock_gettime=yes
+  ac_cv_lib_fftw3f_sfftw_destroy_plan_=yes
 else
   $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-	ac_cv_lib_rt_clock_gettime=no
+	ac_cv_lib_fftw3f_sfftw_destroy_plan_=no
 fi
 
 rm -rf conftest.dSYM
@@ -5090,1988 +5068,17 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_rt_clock_gettime&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_lib_rt_clock_gettime&quot; &gt;&amp;6; }
-if test $ac_cv_lib_rt_clock_gettime = yes; then
-  RTLIBS=&quot;-lrt&quot;
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_fftw3f_sfftw_destroy_plan_&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_fftw3f_sfftw_destroy_plan_&quot; &gt;&amp;6; }
+if test $ac_cv_lib_fftw3f_sfftw_destroy_plan_ = yes; then
+  \
+	HAS_FFTW3FLIBS=1
 else
-  RTLIBS=&quot;&quot;
+  HAS_FFTW3FLIBS=0
 fi
 
-{ $as_echo &quot;$as_me:$LINENO: checking for snd_pcm_open in -lasound&quot; &gt;&amp;5
-$as_echo_n &quot;checking for snd_pcm_open in -lasound... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_lib_asound_snd_pcm_open+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS=&quot;-lasound  $LIBS&quot;
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
 
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern &quot;C&quot;
-#endif
-char snd_pcm_open ();
-int
-main ()
-{
-return snd_pcm_open ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try=&quot;$ac_link&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
-	 test &quot;$cross_compiling&quot; = yes ||
-	 $as_test_x conftest$ac_exeext
-       }; then
-  ac_cv_lib_asound_snd_pcm_open=yes
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-	ac_cv_lib_asound_snd_pcm_open=no
-fi
-
-rm -rf conftest.dSYM
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_asound_snd_pcm_open&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_lib_asound_snd_pcm_open&quot; &gt;&amp;6; }
-if test $ac_cv_lib_asound_snd_pcm_open = yes; then
-  ASOUNDLIBS=&quot;-lasound&quot;
-else
-  ASOUNDLIBS=&quot;&quot;
-fi
-
-
-# The cast to long int works around a bug in the HP C Compiler
-# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
-# declarations like `int a3[[(sizeof (unsigned char)) &gt;= 0]];'.
-# This bug is HP SR number 8606223364.
-{ $as_echo &quot;$as_me:$LINENO: checking size of int64_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking size of int64_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_sizeof_int64_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  if test &quot;$cross_compiling&quot; = yes; then
-  # Depending upon the size, compute the lo and hi bounds.
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &gt;= 0)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_lo=0 ac_mid=0
-  while :; do
-    cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &lt;= $ac_mid)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_hi=$ac_mid; break
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_lo=`expr $ac_mid + 1`
-			if test $ac_lo -le $ac_mid; then
-			  ac_lo= ac_hi=
-			  break
-			fi
-			ac_mid=`expr 2 '*' $ac_mid + 1`
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-  done
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &lt; 0)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_hi=-1 ac_mid=-1
-  while :; do
-    cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &gt;= $ac_mid)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_lo=$ac_mid; break
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_hi=`expr '(' $ac_mid ')' - 1`
-			if test $ac_mid -le $ac_hi; then
-			  ac_lo= ac_hi=
-			  break
-			fi
-			ac_mid=`expr 2 '*' $ac_mid`
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-  done
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_lo= ac_hi=
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-# Binary search between lo and hi bounds.
-while test &quot;x$ac_lo&quot; != &quot;x$ac_hi&quot;; do
-  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (int64_t))) &lt;= $ac_mid)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_hi=$ac_mid
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_lo=`expr '(' $ac_mid ')' + 1`
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-done
-case $ac_lo in
-?*) ac_cv_sizeof_int64_t=$ac_lo;;
-'') if test &quot;$ac_cv_type_int64_t&quot; = yes; then
-     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (int64_t)
-See \`config.log' for more details.&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: cannot compute sizeof (int64_t)
-See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 77); exit 77; }; }
-   else
-     ac_cv_sizeof_int64_t=0
-   fi ;;
-esac
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-static long int longval () { return (long int) (sizeof (int64_t)); }
-static unsigned long int ulongval () { return (long int) (sizeof (int64_t)); }
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-int
-main ()
-{
-
-  FILE *f = fopen (&quot;conftest.val&quot;, &quot;w&quot;);
-  if (! f)
-    return 1;
-  if (((long int) (sizeof (int64_t))) &lt; 0)
-    {
-      long int i = longval ();
-      if (i != ((long int) (sizeof (int64_t))))
-	return 1;
-      fprintf (f, &quot;%ld&quot;, i);
-    }
-  else
-    {
-      unsigned long int i = ulongval ();
-      if (i != ((long int) (sizeof (int64_t))))
-	return 1;
-      fprintf (f, &quot;%lu&quot;, i);
-    }
-  /* Do not output a trailing newline, as this causes \r\n confusion
-     on some platforms.  */
-  return ferror (f) || fclose (f) != 0;
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try=&quot;$ac_link&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
-  ac_status=$?
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
-  ac_status=$?
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_sizeof_int64_t=`cat conftest.val`
-else
-  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-( exit $ac_status )
-if test &quot;$ac_cv_type_int64_t&quot; = yes; then
-     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (int64_t)
-See \`config.log' for more details.&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: cannot compute sizeof (int64_t)
-See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 77); exit 77; }; }
-   else
-     ac_cv_sizeof_int64_t=0
-   fi
-fi
-rm -rf conftest.dSYM
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-rm -f conftest.val
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_sizeof_int64_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_sizeof_int64_t&quot; &gt;&amp;6; }
-
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define SIZEOF_INT64_T $ac_cv_sizeof_int64_t
-_ACEOF
-
-
-# The cast to long int works around a bug in the HP C Compiler
-# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
-# declarations like `int a3[[(sizeof (unsigned char)) &gt;= 0]];'.
-# This bug is HP SR number 8606223364.
-{ $as_echo &quot;$as_me:$LINENO: checking size of long long&quot; &gt;&amp;5
-$as_echo_n &quot;checking size of long long... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_sizeof_long_long+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  if test &quot;$cross_compiling&quot; = yes; then
-  # Depending upon the size, compute the lo and hi bounds.
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &gt;= 0)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_lo=0 ac_mid=0
-  while :; do
-    cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &lt;= $ac_mid)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_hi=$ac_mid; break
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_lo=`expr $ac_mid + 1`
-			if test $ac_lo -le $ac_mid; then
-			  ac_lo= ac_hi=
-			  break
-			fi
-			ac_mid=`expr 2 '*' $ac_mid + 1`
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-  done
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &lt; 0)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_hi=-1 ac_mid=-1
-  while :; do
-    cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &gt;= $ac_mid)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_lo=$ac_mid; break
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_hi=`expr '(' $ac_mid ')' - 1`
-			if test $ac_mid -le $ac_hi; then
-			  ac_lo= ac_hi=
-			  break
-			fi
-			ac_mid=`expr 2 '*' $ac_mid`
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-  done
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_lo= ac_hi=
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-# Binary search between lo and hi bounds.
-while test &quot;x$ac_lo&quot; != &quot;x$ac_hi&quot;; do
-  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-static int test_array [1 - 2 * !(((long int) (sizeof (long long))) &lt;= $ac_mid)];
-test_array [0] = 0
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_hi=$ac_mid
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_lo=`expr '(' $ac_mid ')' + 1`
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-done
-case $ac_lo in
-?*) ac_cv_sizeof_long_long=$ac_lo;;
-'') if test &quot;$ac_cv_type_long_long&quot; = yes; then
-     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (long long)
-See \`config.log' for more details.&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: cannot compute sizeof (long long)
-See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 77); exit 77; }; }
-   else
-     ac_cv_sizeof_long_long=0
-   fi ;;
-esac
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-static long int longval () { return (long int) (sizeof (long long)); }
-static unsigned long int ulongval () { return (long int) (sizeof (long long)); }
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-int
-main ()
-{
-
-  FILE *f = fopen (&quot;conftest.val&quot;, &quot;w&quot;);
-  if (! f)
-    return 1;
-  if (((long int) (sizeof (long long))) &lt; 0)
-    {
-      long int i = longval ();
-      if (i != ((long int) (sizeof (long long))))
-	return 1;
-      fprintf (f, &quot;%ld&quot;, i);
-    }
-  else
-    {
-      unsigned long int i = ulongval ();
-      if (i != ((long int) (sizeof (long long))))
-	return 1;
-      fprintf (f, &quot;%lu&quot;, i);
-    }
-  /* Do not output a trailing newline, as this causes \r\n confusion
-     on some platforms.  */
-  return ferror (f) || fclose (f) != 0;
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try=&quot;$ac_link&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
-  ac_status=$?
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
-  ac_status=$?
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_sizeof_long_long=`cat conftest.val`
-else
-  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-( exit $ac_status )
-if test &quot;$ac_cv_type_long_long&quot; = yes; then
-     { { $as_echo &quot;$as_me:$LINENO: error: cannot compute sizeof (long long)
-See \`config.log' for more details.&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: cannot compute sizeof (long long)
-See \`config.log' for more details.&quot; &gt;&amp;2;}
-   { (exit 77); exit 77; }; }
-   else
-     ac_cv_sizeof_long_long=0
-   fi
-fi
-rm -rf conftest.dSYM
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-rm -f conftest.val
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_sizeof_long_long&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_sizeof_long_long&quot; &gt;&amp;6; }
-
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long
-_ACEOF
-
-
-
-if test &quot;$ac_cv_sizeof_int64_t&quot; = 8; then
-  { $as_echo &quot;$as_me:$LINENO: checking for uint64_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for uint64_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_uint64_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_uint64_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (uint64_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((uint64_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_uint64_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint64_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_uint64_t&quot; &gt;&amp;6; }
-
-  { $as_echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for int64_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_int64_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_int64_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (int64_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((int64_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_int64_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_int64_t&quot; &gt;&amp;6; }
-
-elif test &quot;$ac_cv_sizeof_long_long&quot; = 8; then
-  { $as_echo &quot;$as_me:$LINENO: checking for uint64_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for uint64_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_uint64_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_uint64_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (uint64_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((uint64_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_uint64_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint64_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_uint64_t&quot; &gt;&amp;6; }
-if test $ac_cv_type_uint64_t = yes; then
-  :
-else
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define uint64_t unsigned long long
-_ACEOF
-
-fi
-
-  { $as_echo &quot;$as_me:$LINENO: checking for int64_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for int64_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_int64_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_int64_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (int64_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((int64_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_int64_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_int64_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_int64_t&quot; &gt;&amp;6; }
-if test $ac_cv_type_int64_t = yes; then
-  :
-else
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define int64_t long long
-_ACEOF
-
-fi
-
-fi
-
-{ $as_echo &quot;$as_me:$LINENO: checking for u_int32_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for u_int32_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_u_int32_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_u_int32_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (u_int32_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((u_int32_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_u_int32_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_u_int32_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_u_int32_t&quot; &gt;&amp;6; }
-if test $ac_cv_type_u_int32_t = yes; then
-  :
-else
-
-	{ $as_echo &quot;$as_me:$LINENO: checking for uint32_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for uint32_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_uint32_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_uint32_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (uint32_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((uint32_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_uint32_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint32_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_uint32_t&quot; &gt;&amp;6; }
-if test $ac_cv_type_uint32_t = yes; then
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define u_int32_t uint32_t
-_ACEOF
-
-
-else
-
-		{ $as_echo &quot;$as_me:$LINENO: WARNING: system has no u_int32_t or uint32_t, default to unsigned long int&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: system has no u_int32_t or uint32_t, default to unsigned long int&quot; &gt;&amp;2;}
-
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define u_int32_t unsigned long int
-_ACEOF
-
-
-fi
-
-
-fi
-
-
-{ $as_echo &quot;$as_me:$LINENO: checking for u_int16_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for u_int16_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_u_int16_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_u_int16_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (u_int16_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((u_int16_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_u_int16_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_u_int16_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_u_int16_t&quot; &gt;&amp;6; }
-if test $ac_cv_type_u_int16_t = yes; then
-  :
-else
-
-	{ $as_echo &quot;$as_me:$LINENO: checking for uint16_t&quot; &gt;&amp;5
-$as_echo_n &quot;checking for uint16_t... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_type_uint16_t+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_type_uint16_t=no
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof (uint16_t))
-       return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-if (sizeof ((uint16_t)))
-	  return 0;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  :
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_type_uint16_t=yes
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_type_uint16_t&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_type_uint16_t&quot; &gt;&amp;6; }
-if test $ac_cv_type_uint16_t = yes; then
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define u_int16_t uint16_t
-_ACEOF
-
-
-else
-
-		{ $as_echo &quot;$as_me:$LINENO: WARNING: system has no u_int16_t or uint16_t, default to unsigned short int&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: system has no u_int16_t or uint16_t, default to unsigned short int&quot; &gt;&amp;2;}
-
-cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define u_int16_t unsigned short int
-_ACEOF
-
-
-fi
-
-
-fi
-
-
-
- { $as_echo &quot;$as_me:$LINENO: checking whether byte ordering is bigendian&quot; &gt;&amp;5
-$as_echo_n &quot;checking whether byte ordering is bigendian... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_c_bigendian+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_cv_c_bigendian=unknown
-
-    if test $ac_cv_c_bigendian = unknown; then
-      # See if sys/param.h defines the BYTE_ORDER macro.
-      cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;sys/types.h&gt;
-	     #include &lt;sys/param.h&gt;
-
-int
-main ()
-{
-#if ! (defined BYTE_ORDER &amp;&amp; defined BIG_ENDIAN \
-		     &amp;&amp; defined LITTLE_ENDIAN &amp;&amp; BYTE_ORDER &amp;&amp; BIG_ENDIAN \
-		     &amp;&amp; LITTLE_ENDIAN)
-	      bogus endian macros
-	     #endif
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  # It does; now see whether it defined to BIG_ENDIAN or not.
-	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;sys/types.h&gt;
-		#include &lt;sys/param.h&gt;
-
-int
-main ()
-{
-#if BYTE_ORDER != BIG_ENDIAN
-		 not big endian
-		#endif
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_cv_c_bigendian=yes
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_c_bigendian=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-    fi
-    if test $ac_cv_c_bigendian = unknown; then
-      # See if &lt;limits.h&gt; defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).
-      cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;limits.h&gt;
-
-int
-main ()
-{
-#if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)
-	      bogus endian macros
-	     #endif
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  # It does; now see whether it defined to _BIG_ENDIAN or not.
-	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;limits.h&gt;
-
-int
-main ()
-{
-#ifndef _BIG_ENDIAN
-		 not big endian
-		#endif
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  ac_cv_c_bigendian=yes
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_c_bigendian=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-    fi
-    if test $ac_cv_c_bigendian = unknown; then
-      # Compile a test program.
-      if test &quot;$cross_compiling&quot; = yes; then
-  # Try to guess by grepping values from an object file.
-	 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-short int ascii_mm[] =
-		  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
-		short int ascii_ii[] =
-		  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
-		int use_ascii (int i) {
-		  return ascii_mm[i] + ascii_ii[i];
-		}
-		short int ebcdic_ii[] =
-		  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
-		short int ebcdic_mm[] =
-		  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
-		int use_ebcdic (int i) {
-		  return ebcdic_mm[i] + ebcdic_ii[i];
-		}
-		extern int foo;
-
-int
-main ()
-{
-return use_ascii (foo) == use_ebcdic (foo);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try=&quot;$ac_compile&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_compile&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest.$ac_objext; then
-  if grep BIGenDianSyS conftest.$ac_objext &gt;/dev/null; then
-	      ac_cv_c_bigendian=yes
-	    fi
-	    if grep LiTTleEnDian conftest.$ac_objext &gt;/dev/null ; then
-	      if test &quot;$ac_cv_c_bigendian&quot; = unknown; then
-		ac_cv_c_bigendian=no
-	      else
-		# finding both strings is unlikely to happen, but who knows?
-		ac_cv_c_bigendian=unknown
-	      fi
-	    fi
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-
-	     /* Are we little or big endian?  From Harbison&amp;Steele.  */
-	     union
-	     {
-	       long int l;
-	       char c[sizeof (long int)];
-	     } u;
-	     u.l = 1;
-	     return u.c[sizeof (long int) - 1] == 1;
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try=&quot;$ac_link&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_link&quot;) 2&gt;&amp;5
-  ac_status=$?
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
-  { (case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_try&quot;) 2&gt;&amp;5
-  ac_status=$?
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  ac_cv_c_bigendian=no
-else
-  $as_echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
-$as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-( exit $ac_status )
-ac_cv_c_bigendian=yes
-fi
-rm -rf conftest.dSYM
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-
-
-    fi
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_c_bigendian&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_c_bigendian&quot; &gt;&amp;6; }
- case $ac_cv_c_bigendian in #(
-   yes)
-     cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define WORDS_BIGENDIAN 1
-_ACEOF
-;; #(
-   no)
-      ;; #(
-   universal)
-      ;; #(
-   *)
-     { { $as_echo &quot;$as_me:$LINENO: error: unknown endianness
- presetting ac_cv_c_bigendian=no (or yes) will help&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: unknown endianness
- presetting ac_cv_c_bigendian=no (or yes) will help&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; } ;;
- esac
-
-
 if test &quot;${ac_cv_header_stdarg_h+set}&quot; = set; then
   { $as_echo &quot;$as_me:$LINENO: checking for stdarg.h&quot; &gt;&amp;5
 $as_echo_n &quot;checking for stdarg.h... &quot; &gt;&amp;6; }
@@ -7239,30 +5246,15 @@
 
 fi
 
-
 if test &quot;$prefix&quot; = &quot;NONE&quot;; then
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PREFIX &quot;$ac_default_prefix&quot;
-_ACEOF
-
-
+	prefix=${ac_default_prefix}
 else
 
 
 	prefix=`echo $prefix | sed 's/\/$//'`
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PREFIX &quot;$prefix&quot;
-_ACEOF
-
-
 fi
 
-ac_config_files=&quot;$ac_config_files Makefile&quot;
 
-
-
 # Check whether --enable-g95 was given.
 if test &quot;${enable_g95+set}&quot; = set; then
   enableval=$enable_g95; g95=$enableval
@@ -7280,33 +5272,56 @@
 
 
 
-if test &quot;$g95&quot; = yes; then
-        FC_LIB_PATH=${G95_LIB_PATH}
-	FC=${G95}
-	gfortran=no
-elif test &quot;$gfortran&quot; = yes; then
-        FC_LIB_PATH=${GFORTRAN_LIB_PATH}
-	FC=${GFORTRAN}
-	g95=no
+if test ! -z ${GFORTRAN} ; then
+	echo &quot;*** gfortran compiler found at ${GFORTRAN}&quot;
+	if test &quot;$gfortran&quot; = yes; then
+       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
+		FC=`basename ${GFORTRAN}`
+		g95=no
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
+	fi
+else
+	echo &quot;*** No gfortran compiler found&quot;
 fi
 
+if test ! -z $G95 ; then
+	echo &quot;*** g95 compiler found at ${G95}&quot;
+	if test &quot;$g95&quot; = yes; then
+       		FC_LIB_PATH=`${G95} -print-file-name=`
+		FC=`basename ${G95}`
+		gfortran=no
+		FFLAGS=&quot;${FFLAGS_G95}&quot;
+		FCV=${FCV_G95}
+	fi
+else
+	echo &quot;*** No g95 compiler found&quot;
+fi
+
 if test -z $FC ; then
 	if test ! -z $GFORTRAN ; then
-       		FC_LIB_PATH=${GFORTRAN_LIB_PATH}
-	        FC=${GFORTRAN}
+		if test &quot;$g95&quot; = yes; then
+			echo &quot;You enabled g95, but no g95 compiler found, defaulting to gfortran instead&quot;
+		fi
+       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
+	        FC=`basename ${GFORTRAN}`
+		g95=no
 		gfortran=yes
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
 	elif test ! -z $G95 ; then
-       		FC_LIB_PATH=${G95_LIB_PATH}
-	        FC=${G95}
+		if test &quot;$gfortran&quot; = yes; then
+			echo &quot;You enabled gfortran, but no gfortran compiler found, defaulting to g95 instead&quot;
+		fi
+       		FC_LIB_PATH=`${G95} -print-file-name=`
+	        FC=`basename ${G95}`
 		g95=yes
+		gfortran=no
+		FFLAGS=&quot;${FFLAGS_G95}&quot;
+		FCV=${FCV_G95}
 	fi
 fi
 
-if test -z $FC ; then
-		{ { $as_echo &quot;$as_me:$LINENO: error: You need g95 or gfortran&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: You need g95 or gfortran&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-fi
 
 
 
@@ -7323,9 +5338,13 @@
 
 FC=&quot;${FC}&quot;
 
+FCV=&quot;${FCV}&quot;
 
+PREFIX=&quot;${prefix}&quot;
 
 
+
+
 { $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio &quot; &gt;&amp;5
 $as_echo_n &quot;checking for a v19 portaudio ... &quot; &gt;&amp;6; }
 
@@ -7547,6 +5566,16 @@
 fi
 
 
+if test -z $FC ; then
+	fail =1
+	echo &quot;You need g95 or gfortran to compile this program!&quot;
+fi
+
+if test $HAS_FFTW3_H -eq 0; then
+	fail=1
+	echo &quot;You need to install the fftw3 libraries&quot;
+fi
+
 if test $HAS_PORTAUDIO -eq 1; then
 	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
 #define HAS_PORTAUDIO 1
@@ -7567,9 +5596,36 @@
 	echo &quot; --with-portaudio-lib-dir= to set the paths.&quot;
 fi
 
+if test $HAS_FFTW3_H -eq 1; then
+	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define HAS_FFTW3_H 1
+_ACEOF
+
+else
+	fail=1
+	echo &quot;You are missing the fftw3.h include file&quot;
+fi
+
+if test $HAS_FFTW3FLIBS -eq 1; then
+	LIBS=&quot;${LIBS} -lfftw3f&quot;
+	cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define HAS_FFTW3FLIBS 1
+_ACEOF
+
+else
+	fail =1
+	echo &quot;You are missing the fortran shim libs in libfftw3.&quot;
+fi
+
 if test &quot;$F2PY&quot; = &quot;&quot;; then
-	{ { $as_echo &quot;$as_me:$LINENO: error: You are missing f2py&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: You are missing f2py&quot; &gt;&amp;2;}
+	echo &quot;You are missing f2py, trying local copy.&quot;
+	F2PY=&quot;python f2py.py&quot;;
+fi
+
+
+if test $fail -eq 1; then
+	{ { $as_echo &quot;$as_me:$LINENO: error: Please check error messages and install missing packages.&quot; &gt;&amp;5
+$as_echo &quot;$as_me: error: Please check error messages and install missing packages.&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
 fi
 
@@ -7581,6 +5637,10 @@
 
 
 
+F2PY=&quot;${F2PY}&quot;
+
+ac_config_files=&quot;$ac_config_files Makefile&quot;
+
 cat &gt;confcache &lt;&lt;\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
@@ -8696,9 +6756,7 @@
 
 if test $g95 = &quot;yes&quot;; then
 	echo &quot;Using g95 as fortran compiler.&quot;;
-fi
-
-if test $gfortran = &quot;yes&quot;; then
+elif test $gfortran = &quot;yes&quot;; then
 	echo &quot;Using gfortran as fortran compiler.&quot;;
 fi
 

Modified: branches/map65iq/configure.ac
===================================================================
--- branches/map65iq/configure.ac	2009-05-13 15:39:27 UTC (rev 1212)
+++ branches/map65iq/configure.ac	2009-05-13 16:28:40 UTC (rev 1213)
@@ -8,6 +8,8 @@
 
 AC_INIT([map65iq],[0.9])
 
+fail=0
+
 AC_PREFIX_DEFAULT(/usr/local/)
 
 OLD_CFLAGS=&quot;$CFLAGS&quot;
@@ -23,8 +25,22 @@
 CPPFLAGS=&quot;-I/usr/local/include ${CPPFLAGS}&quot;
 LDFLAGS=&quot;-L/usr/local/lib ${LDFLAGS}&quot;
 LIBS=&quot; -lpthread ${LIBS}&quot;
+FCV=&quot;&quot;
+FFLAGS_GFORTRAN=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none\
+			-Wall -fbounds-check -fno-second-underscore -fPIC&quot;
+FFLAGS_G95=&quot;${FFLAGS} -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC&quot;
+#-Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 
-AC_MSG_CHECKING([uname -s for Cygwin, Solaris or HPUX])
+dnl
+dnl Pick up FC from the environment if present
+dnl I'll add a test to confirm this is a gfortran later -db
+dnl
+
+if test -n ${FC} ; then
+	gfortran=${FC}
+fi
+
+AC_MSG_CHECKING([uname -s])
 case `uname -s` in
 	CYGWIN*)
 		AC_MSG_RESULT(Cygwin)
@@ -34,11 +50,29 @@
 		AC_MSG_RESULT(SunOS or Solaris)
 		AC_DEFINE(__EXTENSIONS__, 1, [This is needed to use strtok_r on Solaris.])
 	;;
+dnl
+dnl Pick up current gfortran from ports infrastructure for fbsd
+dnl
+        FreeBSD*)
+		if test -z ${gfortran} ; then
+			gfortran=`grep FC: /usr/ports/Mk/bsd.gcc.mk | head -1 |awk '{print $2}'`
+		fi
+		FCV_G95=&quot;g95&quot;
+	;;
 	*)
+		FCV_G95=&quot;g95&quot;
 		AC_MSG_RESULT(no)
 	;;
 esac
 
+dnl
+dnl look for gfortran if nothing else was given
+dnl
+
+if test -z $gfortran ; then
+	gfortran=&quot;gfortran&quot;
+fi
+
 if test &quot;$ac_cv_c_compiler_gnu&quot; = yes; then
 	AC_MSG_CHECKING(if $CC is Apple GCC)
 	
@@ -65,7 +99,6 @@
 	CFLAGS=&quot;$CFLAGS $CFLAGS&quot;
 fi
 
-
 AC_ISC_POSIX
 AC_C_INLINE
 AC_PROG_GCC_TRADITIONAL
@@ -82,14 +115,8 @@
 AC_PATH_PROG(PYTHON, python)
 AC_PATH_PROG(F2PY, f2py)
 AC_PATH_PROG(G95, g95)
-AC_MSG_CHECKING([g95 lib path])
-G95_LIB_PATH=`${G95} -print-file-name=`
-AC_MSG_RESULT(${G95_LIB_PATH})
-AC_PATH_PROG(GFORTRAN, gfortran)
-AC_PATH_PROG(GFORTRAN, gfortran43)
-AC_MSG_CHECKING([gfortran lib path])
-GFORTRAN_LIB_PATH=`${GFORTRAN} -print-file-name=`
-AC_MSG_RESULT(${GFORTRAN_LIB_PATH})
+AC_PATH_PROG(GFORTRAN, ${gfortran})
+AC_SUBST(VERSION, &quot;${version}&quot;)
 AC_MSG_CHECKING([OS])
 OS=`uname`
 AC_SUBST(OS, &quot;${OS}&quot;)
@@ -104,7 +131,7 @@
 
 AC_HEADER_TIME
 
-AC_CHECK_HEADER([samplerate.h], [HAS_SAMPLERATE_H=1], [HAS_SAMPLERATE_H=0])
+AC_CHECK_HEADER([fftw3.h], [HAS_FFTW3_H=1], [HAS_FFTW3_H=0])
 
 HAS_PORTAUDIO_H=0
 HAS_PORTAUDIO_LIB=0
@@ -125,46 +152,11 @@
 	AC_DEFINE(STRING_WITH_STRINGS, 1, [Define to 1 if string.h may be included along with strings.h])
 fi
 
-AC_CHECK_LIB(rt, clock_gettime, [RTLIBS=&quot;-lrt&quot;], [RTLIBS=&quot;&quot;])
-AC_CHECK_LIB(asound, snd_pcm_open, [ASOUNDLIBS=&quot;-lasound&quot;], [ASOUNDLIBS=&quot;&quot;])
+dnl check for a fortran shim entry point
+AC_CHECK_LIB(fftw3f, sfftw_destroy_plan_, \
+	[HAS_FFTW3FLIBS=1], [HAS_FFTW3FLIBS=0])
 
-AC_CHECK_SIZEOF(int64_t)
-AC_CHECK_SIZEOF(long long)
 
-if test &quot;$ac_cv_sizeof_int64_t&quot; = 8; then
-  AC_CHECK_TYPE(uint64_t)
-  AC_CHECK_TYPE(int64_t)
-elif test &quot;$ac_cv_sizeof_long_long&quot; = 8; then
-  AC_CHECK_TYPE(uint64_t, unsigned long long)
-  AC_CHECK_TYPE(int64_t, long long)
-fi
-
-AC_CHECK_TYPE([u_int32_t], [],
-[
-	AC_CHECK_TYPE([uint32_t],
-	[
-		AC_DEFINE(u_int32_t, [uint32_t], [If system does not define u_int32_t, define a reasonable substitute.])
-	],
-	[
-		AC_MSG_WARN([system has no u_int32_t or uint32_t, default to unsigned long int])
-		AC_DEFINE(u_int32_t, [unsigned long int], [If system does not define u_int32_t, define to unsigned long int here.])
-	])
-])
-
-AC_CHECK_TYPE([u_int16_t], [],
-[
-	AC_CHECK_TYPE([uint16_t],
-	[
-		AC_DEFINE(u_int16_t, [uint16_t], [If system does not define u_int16_t, define a usable substitute])
-	],
-	[
-		AC_MSG_WARN([system has no u_int16_t or uint16_t, default to unsigned short int])
-		AC_DEFINE(u_int16_t, [unsigned short int], [If system does not define u_int16_t, define a usable substitute.])
-	])
-])
-
-AC_C_BIGENDIAN
-
 dnl Check for stdarg.h - if we can't find it, halt configure
 AC_CHECK_HEADER(stdarg.h, , [AC_MSG_ERROR([** stdarg.h could not be found - wsjt will not compile without it **])])
 
@@ -187,24 +179,16 @@
 	AC_DEFINE(NDEBUG, 1, [Define this to disable debugging support.])
 fi
 
-
 if test &quot;$prefix&quot; = &quot;NONE&quot;; then 
-	AC_DEFINE_UNQUOTED(PREFIX, &quot;$ac_default_prefix&quot;, [Prefix where wsjt is installed.])
-
+	prefix=${ac_default_prefix}
 else
 
 dnl Don't get bitten by Cygwin's stupidity if the user specified
 dnl a custom prefix with a trailing slash
 
 	prefix=`echo $prefix | sed 's/\/$//'`
-	AC_DEFINE_UNQUOTED(PREFIX, &quot;$prefix&quot;, [Prefix where wsjt is installed.])
-	
 fi
 
-AC_CONFIG_FILES(		\
-	Makefile		
-)
-
 dnl pick gfortran or g95
 dnl ====================
 
@@ -219,37 +203,67 @@
 dnl now set conf.h,, CPPFLAGS and CFLAGS flags as needed
 dnl ====================================================
 
-if test &quot;$g95&quot; = yes; then
-        FC_LIB_PATH=${G95_LIB_PATH}
-	FC=${G95}
-	gfortran=no
-elif test &quot;$gfortran&quot; = yes; then
-        FC_LIB_PATH=${GFORTRAN_LIB_PATH}
-	FC=${GFORTRAN}
-	g95=no
+if test ! -z ${GFORTRAN} ; then
+	echo &quot;*** gfortran compiler found at ${GFORTRAN}&quot;
+	if test &quot;$gfortran&quot; = yes; then
+       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
+		FC=`basename ${GFORTRAN}`
+		g95=no
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
+	fi
+else
+	echo &quot;*** No gfortran compiler found&quot;
 fi
 
+if test ! -z $G95 ; then
+	echo &quot;*** g95 compiler found at ${G95}&quot;
+	if test &quot;$g95&quot; = yes; then
+       		FC_LIB_PATH=`${G95} -print-file-name=`
+		FC=`basename ${G95}`
+		gfortran=no
+		FFLAGS=&quot;${FFLAGS_G95}&quot;
+		FCV=${FCV_G95}
+	fi
+else
+	echo &quot;*** No g95 compiler found&quot;
+fi
+
+dnl
+dnl if FC is not set by now, pick a compiler for user
+dnl
 if test -z $FC ; then
 	if test ! -z $GFORTRAN ; then
-       		FC_LIB_PATH=${GFORTRAN_LIB_PATH}
-	        FC=${GFORTRAN}
+		if test &quot;$g95&quot; = yes; then
+			echo &quot;You enabled g95, but no g95 compiler found, defaulting to gfortran instead&quot;
+		fi
+       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
+	        FC=`basename ${GFORTRAN}`
+		g95=no
 		gfortran=yes
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
 	elif test ! -z $G95 ; then
-       		FC_LIB_PATH=${G95_LIB_PATH}
-	        FC=${G95}
+		if test &quot;$gfortran&quot; = yes; then
+			echo &quot;You enabled gfortran, but no gfortran compiler found, defaulting to g95 instead&quot;
+		fi
+       		FC_LIB_PATH=`${G95} -print-file-name=`
+	        FC=`basename ${G95}`
 		g95=yes
+		gfortran=no
+		FFLAGS=&quot;${FFLAGS_G95}&quot;
+		FCV=${FCV_G95}
 	fi
 fi
 
-if test -z $FC ; then
-		AC_MSG_ERROR([You need g95 or gfortran])
-fi
 
 
 AC_DEFINE_UNQUOTED(FC_LIB_PATH, &quot;${FC_LIB_PATH}&quot;, [Path to fortran libs.])
 AC_SUBST(FC_LIB_PATH, &quot;${FC_LIB_PATH}&quot;)
 AC_DEFINE_UNQUOTED(FC, &quot;${FC}&quot;, [Fortran compiler.])
 AC_SUBST(FC, &quot;${FC}&quot;)
+AC_SUBST(FCV, &quot;${FCV}&quot;)
+AC_SUBST(PREFIX, &quot;${prefix}&quot;)
 
 dnl set defaults
 dnl ============
@@ -330,6 +344,16 @@
 dnl sanity tests.
 dnl =============
 
+if test -z $FC ; then
+	fail =1
+	echo &quot;You need g95 or gfortran to compile this program!&quot;
+fi
+
+if test $HAS_FFTW3_H -eq 0; then
+	fail=1
+	echo &quot;You need to install the fftw3 libraries&quot;
+fi
+
 if test $HAS_PORTAUDIO -eq 1; then
 	AC_DEFINE(HAS_PORTAUDIO, 1, )
 	AC_DEFINE(HAS_PORTAUDIO_H, 1, )
@@ -341,18 +365,43 @@
 	echo &quot; --with-portaudio-lib-dir= to set the paths.&quot;
 fi
 
+if test $HAS_FFTW3_H -eq 1; then
+	AC_DEFINE(HAS_FFTW3_H, 1, )
+else
+	fail=1
+	echo &quot;You are missing the fftw3.h include file&quot;
+fi
+
+if test $HAS_FFTW3FLIBS -eq 1; then
+	LIBS=&quot;${LIBS} -lfftw3f&quot;
+	AC_DEFINE(HAS_FFTW3FLIBS, 1, )
+else
+	fail =1
+	echo &quot;You are missing the fortran shim libs in libfftw3.&quot;
+fi
+
 if test &quot;$F2PY&quot; = &quot;&quot;; then
-	AC_MSG_ERROR([You are missing f2py])
+	echo &quot;You are missing f2py, trying local copy.&quot;
+	F2PY=&quot;python f2py.py&quot;;	
 fi
 
 dnl 
+dnl
+dnl If fail a pre-requisite then fail
+dnl
+
+if test $fail -eq 1; then
+	AC_MSG_ERROR([Please check error messages and install missing packages.])
+fi
+
 AC_SUBST(CPPFLAGS, &quot;${CPPFLAGS}&quot;)
 AC_SUBST(LDFLAGS, &quot;${LDFLAGS}&quot;)
 AC_SUBST(LIBS, &quot;${LIBS}&quot;)
 AC_SUBST(CFLAGS)
-
+AC_SUBST(FFLAGS)
+AC_SUBST(F2PY, &quot;${F2PY}&quot;)
+AC_CONFIG_FILES(Makefile)
 AC_OUTPUT
-dnl AC_CONFIG_FILES(Makefile)
 
 dnl do summary
 
@@ -361,9 +410,7 @@
 
 if test $g95 = &quot;yes&quot;; then
 	echo &quot;Using g95 as fortran compiler.&quot;;
-fi
-
-if test $gfortran = &quot;yes&quot;; then
+elif test $gfortran = &quot;yes&quot;; then
 	echo &quot;Using gfortran as fortran compiler.&quot;;
 fi
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000906.html">[WSJT-SVN] r1212 - branches/map65
</A></li>
	<LI>Next message: <A HREF="000907.html">[WSJT-SVN] r1214 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#910">[ date ]</a>
              <a href="thread.html#910">[ thread ]</a>
              <a href="subject.html#910">[ subject ]</a>
              <a href="author.html#910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
