<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [WSJT-SVN] r1230 - branches/map65
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/wsjt-svn/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1230%20-%20branches/map65&In-Reply-To=%3C200905170128.n4H1S5cg032566%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000923.html">
   <LINK REL="Next"  HREF="000924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[WSJT-SVN] r1230 - branches/map65</H1>
    <B>va3db at BerliOS</B> 
    <A HREF="mailto:wsjt-svn%40lists.berlios.de?Subject=Re%3A%20%5BWSJT-SVN%5D%20r1230%20-%20branches/map65&In-Reply-To=%3C200905170128.n4H1S5cg032566%40sheep.berlios.de%3E"
       TITLE="[WSJT-SVN] r1230 - branches/map65">va3db at mail.berlios.de
       </A><BR>
    <I>Sun May 17 03:28:05 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000923.html">[WSJT-SVN] r1229 - branches/wspr
</A></li>
        <LI>Next message: <A HREF="000924.html">[WSJT-SVN] r1231 - branches/wspr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#926">[ date ]</a>
              <a href="thread.html#926">[ thread ]</a>
              <a href="subject.html#926">[ subject ]</a>
              <a href="author.html#926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: va3db
Date: 2009-05-17 03:28:03 +0200 (Sun, 17 May 2009)
New Revision: 1230

Added:
   branches/map65/aclocal.m4
Modified:
   branches/map65/configure
   branches/map65/configure.ac
   branches/map65/jtaudio.c
Log:
- Fix configure to use aclocal.m4 here as well.
- Clean up casting in arguments.
- Use &lt;portaudio.h&gt; not &quot;portaudio.h&quot;



Added: branches/map65/aclocal.m4
===================================================================
--- branches/map65/aclocal.m4	2009-05-17 00:00:31 UTC (rev 1229)
+++ branches/map65/aclocal.m4	2009-05-17 01:28:03 UTC (rev 1230)
@@ -0,0 +1,221 @@
+dnl {{{ ax_check_gfortran
+AC_DEFUN([AX_CHECK_GFORTRAN],[
+
+AC_ARG_ENABLE(g95,
+AC_HELP_STRING([--enable-g95],[Use G95 compiler if available.]),
+[g95=$enableval], [g95=no])
+
+AC_ARG_ENABLE(gfortran,
+AC_HELP_STRING([--enable-gfortran],[Use gfortran compiler if available.]),
+[gfortran=$enableval], [gfortran=no])
+
+dnl
+dnl Pick up FC from the environment if present
+dnl I'll add a test to confirm this is a gfortran later -db
+dnl
+
+FCV=&quot;&quot;
+
+if test -n $[{FC}] ; then
+	gfortran_name_part=`echo $[{FC}] | cut -c 1-8`
+	if test $[{gfortran_name_part}] = &quot;gfortran&quot; ; then
+		gfortran_name=$[{FC}]
+       		FC_LIB_PATH=`$[{FC}] -print-file-name=`
+		g95=no
+		gfortran=yes
+		FFLAGS=&quot;$[{FFLAGS_GFORTRAN}]&quot;
+		FCV=&quot;gnu95&quot;
+	else
+		unset $[{FC}]
+	fi
+fi
+
+dnl
+dnl Note regarding the apparent silliness with FCV.
+dnl The FCV value for g95 might be system dependent, this is
+dnl still to be fully explored. If not, then the FCV_G95
+dnl stuff can go away. -db
+dnl
+
+AC_MSG_CHECKING([uname -s])
+case `uname -s` in
+	CYGWIN*)
+		AC_MSG_RESULT(Cygwin)
+		CYGWIN=yes
+	;;
+	SunOS*)
+		AC_MSG_RESULT(SunOS or Solaris)
+		AC_DEFINE(__EXTENSIONS__, 1, [This is needed to use strtok_r on Solaris.])
+	;;
+dnl
+dnl Pick up current gfortran from ports infrastructure for fbsd
+dnl
+        FreeBSD*)
+		if test -z $[{gfortran_name}] ; then
+			gfortran_name=`grep FC: /usr/ports/Mk/bsd.gcc.mk | head -1 |awk '{print $[2]}'`
+		fi
+		FCV_G95=&quot;g95&quot;
+	;;
+	*)
+		FCV_G95=&quot;g95&quot;
+		AC_MSG_RESULT(no)
+	;;
+esac
+
+dnl
+dnl look for gfortran if nothing else was given
+dnl
+
+if test -z $[gfortran_name] ; then
+	gfortran_name=&quot;gfortran&quot;
+fi
+
+AC_PATH_PROG(G95, g95)
+AC_PATH_PROG(GFORTRAN, $[{gfortran_name}])
+
+if test ! -z $[{GFORTRAN}] ; then
+	echo &quot;*** gfortran compiler found at $[{GFORTRAN}]&quot;
+	if test &quot;$[{gfortran}]&quot; = yes; then
+       		FC_LIB_PATH=`$[{GFORTRAN}] -print-file-name=`
+		FC=`basename $[{GFORTRAN}]`
+		g95=no
+		FFLAGS=&quot;$[{FFLAGS_GFORTRAN}]&quot;
+		FCV=&quot;gnu95&quot;
+	fi
+else
+	echo &quot;*** No gfortran compiler found&quot;
+fi
+
+if test ! -z $[{G95}] ; then
+	echo &quot;*** g95 compiler found at $[{G95}]&quot;
+	if test &quot;$[{g95}]&quot; = yes; then
+       		FC_LIB_PATH=`$[{G95}] -print-file-name=`
+		FC=`basename $[{G95}]`
+		gfortran=no
+		FFLAGS=&quot;$[{FFLAGS_G95}]&quot;
+		FCV=$[{FCV_G95}]
+	fi
+else
+	echo &quot;*** No g95 compiler found&quot;
+fi
+
+dnl
+dnl if FC is not set by now, pick a compiler for user
+dnl
+if test -z $[{FC}] ; then
+	if test ! -z $[{GFORTRAN}] ; then
+		if test &quot;$[{g95}]&quot; = yes; then
+			echo &quot;You enabled g95, but no g95 compiler found, defaulting to gfortran instead&quot;
+		fi
+       		FC_LIB_PATH=`$[{GFORTRAN}] -print-file-name=`
+	        FC=`basename $[{GFORTRAN}]`
+		g95=no
+		gfortran=yes
+		FFLAGS=&quot;$[{FFLAGS_GFORTRAN}]&quot;
+		FCV=&quot;gnu95&quot;
+	elif test ! -z $G95 ; then
+		if test &quot;$[{gfortran}]&quot; = yes; then
+			echo &quot;You enabled gfortran, but no gfortran compiler found, defaulting to g95 instead&quot;
+		fi
+       		FC_LIB_PATH=`$[{G95}] -print-file-name=`
+	        FC=`basename $[{G95}]`
+		g95=yes
+		gfortran=no
+		FFLAGS=&quot;$[{FFLAGS_G95}]&quot;
+		FCV=$[{FCV_G95}]
+	fi
+fi
+
+AC_DEFINE_UNQUOTED(FC_LIB_PATH, &quot;${FC_LIB_PATH}&quot;, [Path to fortran libs.])
+AC_SUBST(FC_LIB_PATH, &quot;${FC_LIB_PATH}&quot;)
+AC_DEFINE_UNQUOTED(FC, &quot;${FC}&quot;, [Fortran compiler.])
+AC_SUBST(FC, &quot;${FC}&quot;)
+AC_SUBST(FCV, &quot;${FCV}&quot;)
+AC_SUBST(PREFIX, &quot;${prefix}&quot;)
+
+dnl =========================================
+dnl pick gfortran or g95
+
+])dnl }}}
+
+
+dnl {{{ ax_check_portaudio
+AC_DEFUN([AX_CHECK_PORTAUDIO],[
+
+HAS_PORTAUDIO_H=0
+HAS_PORTAUDIO_LIB=0
+HAS_PORTAUDIO=0
+
+AC_MSG_CHECKING([for a v19 portaudio ])
+
+portaudio_lib_dir=&quot;/usr/lib&quot;
+portaudio_include_dir=&quot;/usr/include&quot;
+
+AC_ARG_WITH([portaudio-include-dir],
+AC_HELP_STRING([--with-portaudio-include-dir=&lt;path&gt;],
+    [path to portaudio include files]),
+    [portaudio_include_dir=$with_portaudio_include_dir])
+
+AC_ARG_WITH([portaudio-lib-dir],
+AC_HELP_STRING([--with-portaudio-lib-dir=&lt;path&gt;],
+    [path to portaudio lib files]),
+    [portaudio_lib_dir=$with_portaudio_lib_dir])
+
+if test -e $[{portaudio_include_dir}]/portaudio.h; then
+	HAS_PORTAUDIO_H=1
+fi
+
+if test -e $[{portaudio_lib_dir}]/libportaudio.so \
+    -o -e $[{portaudio_lib_dir}]/libportaudio.a;then
+	HAS_PORTAUDIO_LIB=1
+fi
+
+if test $[{HAS_PORTAUDIO_H}] -eq 1 -a $[{HAS_PORTAUDIO_LIB}] -eq 1; then
+	LDFLAGS=&quot;-L$[{portaudio_lib_dir}] $[{LDFLAGS}]&quot;
+	LIBS=&quot;$[{LIBS}] -lportaudio&quot;
+	CPPFLAGS=&quot;-I$[{portaudio_include_dir}] $[{CPPFLAGS}]&quot;
+	AC_CHECK_LIB(portaudio, Pa_GetVersion, \
+		[HAS_PORTAUDIO_VERSION=1], [HAS_PORTAUDIO_VERSION=0])
+	if test $[{HAS_PORTAUDIO_VERSION}] -eq 0; then
+		AC_MSG_RESULT([This is likely portaudio v18; you need portaudio v19])
+	else
+		HAS_PORTAUDIO=1
+	fi
+else
+	AC_MSG_RESULT([portaudio not found trying FreeBSD paths ])
+	portaudio_lib_dir=&quot;/usr/local/lib/portaudio2&quot;
+	portaudio_include_dir=&quot;/usr/local/include/portaudio2&quot;
+dnl
+dnl Try again to make sure portaudio dirs are valid
+dnl
+	AC_MSG_CHECKING([for a v19 portaudio in FreeBSD paths.])
+	HAS_PORTAUDIO_H=0
+	HAS_PORTAUDIO_LIB=0
+
+	if test -e $[{portaudio_include_dir}]/portaudio.h; then
+		HAS_PORTAUDIO_H=1
+	fi
+
+	if test -e $[{portaudio_lib_dir}]/libportaudio.so \
+	    -o -e $[{portaudio_lib_dir}]/libportaudio.a;then
+		HAS_PORTAUDIO_LIB=1
+	fi
+
+	if test $[{HAS_PORTAUDIO_H}] -eq 1 -a $[{HAS_PORTAUDIO_LIB}] -eq 1; then
+		AC_MSG_RESULT([found portaudio in FreeBSD paths, double checking it is v19 ])
+		LDFLAGS=&quot;-L$[{portaudio_lib_dir}] $[{LDFLAGS}]&quot;
+		LIBS=&quot;$[{LIBS}] -lportaudio&quot;
+		CPPFLAGS=&quot;-I$[{portaudio_include_dir}] $[{CPPFLAGS}]&quot;
+		AC_CHECK_LIB(portaudio, Pa_GetVersion, \
+			[HAS_PORTAUDIO_VERSION=1], [HAS_PORTAUDIO_VERSION=0])
+		if test $[{HAS_PORTAUDIO_VERSION}] -eq 0; then
+			AC_MSG_RESULT([How did you end up with a portaudio v18 here?])
+		else
+			AC_MSG_RESULT([found v19])
+			HAS_PORTAUDIO=1
+			HAS_PORTAUDIO_H=1
+		fi
+	fi
+fi
+
+])dnl }}}


Property changes on: branches/map65/aclocal.m4
___________________________________________________________________
Name: svn:keywords
   + &quot;Author Date Id Revision&quot;
Name: svn:eol-style
   + native

Modified: branches/map65/configure
===================================================================
--- branches/map65/configure	2009-05-17 00:00:31 UTC (rev 1229)
+++ branches/map65/configure	2009-05-17 01:28:03 UTC (rev 1230)
@@ -2,7 +2,7 @@
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.62 for map65 0.9.
 #
-# $Id: configure.ac 1151 2009-04-23 19:02:43Z va3db $
+# $Id: configure.ac 1216 2009-05-13 16:41:38Z va3db $
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
@@ -684,6 +684,12 @@
 F77
 FFLAGS
 ac_ct_F77
+G95
+GFORTRAN
+FC_LIB_PATH
+FC
+FCV
+PREFIX
 CPP
 GREP
 EGREP
@@ -701,23 +707,19 @@
 TEST
 PYTHON
 F2PY
-G95
-GFORTRAN
 OS
 CLOBBER
-FC_LIB_PATH
-FC
 LIBOBJS
 LTLIBOBJS'
 ac_subst_files=''
 ac_user_opts='
 enable_option_checking
-enable_clobber
-enable_assert
 enable_g95
 enable_gfortran
 with_portaudio_include_dir
 with_portaudio_lib_dir
+enable_clobber
+enable_assert
 '
       ac_precious_vars='build_alias
 host_alias
@@ -1351,10 +1353,10 @@
   --disable-option-checking  ignore unrecognized --enable/--with options
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
-  --enable-clobber        Don't preserve old binaries on make install
-  --enable-assert         Enable assert().
   --enable-g95            Use G95 compiler if available.
   --enable-gfortran       Use gfortran compiler if available.
+  --enable-clobber        Don't preserve old binaries on make install
+  --enable-assert         Enable assert().
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
@@ -1449,7 +1451,7 @@
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 
-$Id: configure.ac 1151 2009-04-23 19:02:43Z va3db $
+$Id: configure.ac 1216 2009-05-13 16:41:38Z va3db $
 _ACEOF
   exit
 fi
@@ -3042,17 +3044,47 @@
 CPPFLAGS=&quot;-I/usr/local/include ${CPPFLAGS}&quot;
 LDFLAGS=&quot;-L/usr/local/lib ${LDFLAGS}&quot;
 LIBS=&quot; -lpthread ${LIBS}&quot;
-FCV=&quot;&quot;
 FFLAGS_GFORTRAN=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none\
 			-Wall -fbounds-check -fno-second-underscore -fPIC&quot;
 FFLAGS_G95=&quot;${FFLAGS} -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC&quot;
 #-Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 
 
+
+# Check whether --enable-g95 was given.
+if test &quot;${enable_g95+set}&quot; = set; then
+  enableval=$enable_g95; g95=$enableval
+else
+  g95=no
+fi
+
+
+# Check whether --enable-gfortran was given.
+if test &quot;${enable_gfortran+set}&quot; = set; then
+  enableval=$enable_gfortran; gfortran=$enableval
+else
+  gfortran=no
+fi
+
+
+
+FCV=&quot;&quot;
+
 if test -n ${FC} ; then
-	gfortran=${FC}
+	gfortran_name_part=`echo ${FC} | cut -c 1-8`
+	if test ${gfortran_name_part} = &quot;gfortran&quot; ; then
+		gfortran_name=${FC}
+       		FC_LIB_PATH=`${FC} -print-file-name=`
+		g95=no
+		gfortran=yes
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
+	else
+		unset ${FC}
+	fi
 fi
 
+
 { $as_echo &quot;$as_me:$LINENO: checking uname -s&quot; &gt;&amp;5
 $as_echo_n &quot;checking uname -s... &quot; &gt;&amp;6; }
 case `uname -s` in
@@ -3071,8 +3103,8 @@
 
 	;;
         FreeBSD*)
-		if test -z ${gfortran} ; then
-			gfortran=`grep FC: /usr/ports/Mk/bsd.gcc.mk | head -1 |awk '{print $2}'`
+		if test -z ${gfortran_name} ; then
+			gfortran_name=`grep FC: /usr/ports/Mk/bsd.gcc.mk | head -1 |awk '{print $2}'`
 		fi
 		FCV_G95=&quot;g95&quot;
 	;;
@@ -3084,26 +3116,391 @@
 esac
 
 
-if test -z $gfortran ; then
-	gfortran=&quot;gfortran&quot;
+if test -z $gfortran_name ; then
+	gfortran_name=&quot;gfortran&quot;
 fi
 
-if test &quot;$ac_cv_c_compiler_gnu&quot; = yes; then
-	{ $as_echo &quot;$as_me:$LINENO: checking if $CC is Apple GCC&quot; &gt;&amp;5
-$as_echo_n &quot;checking if $CC is Apple GCC... &quot; &gt;&amp;6; }
+# Extract the first word of &quot;g95&quot;, so it can be a program name with args.
+set dummy g95; ac_word=$2
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_path_G95+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  case $G95 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_G95=&quot;$G95&quot; # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
+    ac_cv_path_G95=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
 
-	if expr &quot;`$CC -v 2&gt;&amp;1 | tail -1`&quot; : &quot;.*Apple&quot; &gt;/dev/null; then
-		AppleGCC=yes
+  ;;
+esac
+fi
+G95=$ac_cv_path_G95
+if test -n &quot;$G95&quot;; then
+  { $as_echo &quot;$as_me:$LINENO: result: $G95&quot; &gt;&amp;5
+$as_echo &quot;$G95&quot; &gt;&amp;6; }
+else
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
+fi
+
+
+# Extract the first word of &quot;${gfortran_name}&quot;, so it can be a program name with args.
+set dummy ${gfortran_name}; ac_word=$2
+{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_path_GFORTRAN+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  case $GFORTRAN in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GFORTRAN=&quot;$GFORTRAN&quot; # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
+    ac_cv_path_GFORTRAN=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
+    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GFORTRAN=$ac_cv_path_GFORTRAN
+if test -n &quot;$GFORTRAN&quot;; then
+  { $as_echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
+$as_echo &quot;$GFORTRAN&quot; &gt;&amp;6; }
+else
+  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+$as_echo &quot;no&quot; &gt;&amp;6; }
+fi
+
+
+
+if test ! -z ${GFORTRAN} ; then
+	echo &quot;*** gfortran compiler found at ${GFORTRAN}&quot;
+	if test &quot;${gfortran}&quot; = yes; then
+       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
+		FC=`basename ${GFORTRAN}`
+		g95=no
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
+	fi
+else
+	echo &quot;*** No gfortran compiler found&quot;
+fi
+
+if test ! -z ${G95} ; then
+	echo &quot;*** g95 compiler found at ${G95}&quot;
+	if test &quot;${g95}&quot; = yes; then
+       		FC_LIB_PATH=`${G95} -print-file-name=`
+		FC=`basename ${G95}`
+		gfortran=no
+		FFLAGS=&quot;${FFLAGS_G95}&quot;
+		FCV=${FCV_G95}
+	fi
+else
+	echo &quot;*** No g95 compiler found&quot;
+fi
+
+if test -z ${FC} ; then
+	if test ! -z ${GFORTRAN} ; then
+		if test &quot;${g95}&quot; = yes; then
+			echo &quot;You enabled g95, but no g95 compiler found, defaulting to gfortran instead&quot;
+		fi
+       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
+	        FC=`basename ${GFORTRAN}`
+		g95=no
+		gfortran=yes
+		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
+		FCV=&quot;gnu95&quot;
+	elif test ! -z $G95 ; then
+		if test &quot;${gfortran}&quot; = yes; then
+			echo &quot;You enabled gfortran, but no gfortran compiler found, defaulting to g95 instead&quot;
+		fi
+       		FC_LIB_PATH=`${G95} -print-file-name=`
+	        FC=`basename ${G95}`
+		g95=yes
+		gfortran=no
+		FFLAGS=&quot;${FFLAGS_G95}&quot;
+		FCV=${FCV_G95}
+	fi
+fi
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define FC_LIB_PATH &quot;${FC_LIB_PATH}&quot;
+_ACEOF
+
+FC_LIB_PATH=&quot;${FC_LIB_PATH}&quot;
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define FC &quot;${FC}&quot;
+_ACEOF
+
+FC=&quot;${FC}&quot;
+
+FCV=&quot;${FCV}&quot;
+
+PREFIX=&quot;${prefix}&quot;
+
+
+
+
+
+
+
+HAS_PORTAUDIO_H=0
+HAS_PORTAUDIO_LIB=0
+HAS_PORTAUDIO=0
+
+{ $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio &quot; &gt;&amp;5
+$as_echo_n &quot;checking for a v19 portaudio ... &quot; &gt;&amp;6; }
+
+portaudio_lib_dir=&quot;/usr/lib&quot;
+portaudio_include_dir=&quot;/usr/include&quot;
+
+
+# Check whether --with-portaudio-include-dir was given.
+if test &quot;${with_portaudio_include_dir+set}&quot; = set; then
+  withval=$with_portaudio_include_dir; portaudio_include_dir=$with_portaudio_include_dir
+fi
+
+
+
+# Check whether --with-portaudio-lib-dir was given.
+if test &quot;${with_portaudio_lib_dir+set}&quot; = set; then
+  withval=$with_portaudio_lib_dir; portaudio_lib_dir=$with_portaudio_lib_dir
+fi
+
+
+if test -e ${portaudio_include_dir}/portaudio.h; then
+	HAS_PORTAUDIO_H=1
+fi
+
+if test -e ${portaudio_lib_dir}/libportaudio.so \
+    -o -e ${portaudio_lib_dir}/libportaudio.a;then
+	HAS_PORTAUDIO_LIB=1
+fi
+
+if test ${HAS_PORTAUDIO_H} -eq 1 -a ${HAS_PORTAUDIO_LIB} -eq 1; then
+	LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
+	LIBS=&quot;${LIBS} -lportaudio&quot;
+	CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
+	{ $as_echo &quot;$as_me:$LINENO: checking for Pa_GetVersion in -lportaudio&quot; &gt;&amp;5
+$as_echo_n &quot;checking for Pa_GetVersion in -lportaudio... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_lib_portaudio_Pa_GetVersion+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lportaudio  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+char Pa_GetVersion ();
+int
+main ()
+{
+return Pa_GetVersion ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
+  ac_cv_lib_portaudio_Pa_GetVersion=yes
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+	ac_cv_lib_portaudio_Pa_GetVersion=no
+fi
+
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;6; }
+if test $ac_cv_lib_portaudio_Pa_GetVersion = yes; then
+  \
+		HAS_PORTAUDIO_VERSION=1
+else
+  HAS_PORTAUDIO_VERSION=0
+fi
+
+	if test ${HAS_PORTAUDIO_VERSION} -eq 0; then
+		{ $as_echo &quot;$as_me:$LINENO: result: This is likely portaudio v18; you need portaudio v19&quot; &gt;&amp;5
+$as_echo &quot;This is likely portaudio v18; you need portaudio v19&quot; &gt;&amp;6; }
 	else
-		AppleGCC=no
+		HAS_PORTAUDIO=1
 	fi
+else
+	{ $as_echo &quot;$as_me:$LINENO: result: portaudio not found trying FreeBSD paths &quot; &gt;&amp;5
+$as_echo &quot;portaudio not found trying FreeBSD paths &quot; &gt;&amp;6; }
+	portaudio_lib_dir=&quot;/usr/local/lib/portaudio2&quot;
+	portaudio_include_dir=&quot;/usr/local/include/portaudio2&quot;
+	{ $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio in FreeBSD paths.&quot; &gt;&amp;5
+$as_echo_n &quot;checking for a v19 portaudio in FreeBSD paths.... &quot; &gt;&amp;6; }
+	HAS_PORTAUDIO_H=0
+	HAS_PORTAUDIO_LIB=0
 
-	{ $as_echo &quot;$as_me:$LINENO: result: $AppleGCC&quot; &gt;&amp;5
-$as_echo &quot;$AppleGCC&quot; &gt;&amp;6; }
+	if test -e ${portaudio_include_dir}/portaudio.h; then
+		HAS_PORTAUDIO_H=1
+	fi
 
-	CFLAGS=&quot;$CFLAGS -Wall -O0&quot;
+	if test -e ${portaudio_lib_dir}/libportaudio.so \
+	    -o -e ${portaudio_lib_dir}/libportaudio.a;then
+		HAS_PORTAUDIO_LIB=1
+	fi
+
+	if test ${HAS_PORTAUDIO_H} -eq 1 -a ${HAS_PORTAUDIO_LIB} -eq 1; then
+		{ $as_echo &quot;$as_me:$LINENO: result: found portaudio in FreeBSD paths, double checking it is v19 &quot; &gt;&amp;5
+$as_echo &quot;found portaudio in FreeBSD paths, double checking it is v19 &quot; &gt;&amp;6; }
+		LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
+		LIBS=&quot;${LIBS} -lportaudio&quot;
+		CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
+		{ $as_echo &quot;$as_me:$LINENO: checking for Pa_GetVersion in -lportaudio&quot; &gt;&amp;5
+$as_echo_n &quot;checking for Pa_GetVersion in -lportaudio... &quot; &gt;&amp;6; }
+if test &quot;${ac_cv_lib_portaudio_Pa_GetVersion+set}&quot; = set; then
+  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lportaudio  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+char Pa_GetVersion ();
+int
+main ()
+{
+return Pa_GetVersion ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try=&quot;$ac_link&quot;
+case &quot;(($ac_try&quot; in
+  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
+$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
+  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; {
+	 test -z &quot;$ac_c_werror_flag&quot; ||
+	 test ! -s conftest.err
+       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
+	 test &quot;$cross_compiling&quot; = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
+  ac_cv_lib_portaudio_Pa_GetVersion=yes
+else
+  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+	ac_cv_lib_portaudio_Pa_GetVersion=no
 fi
 
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;5
+$as_echo &quot;$ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;6; }
+if test $ac_cv_lib_portaudio_Pa_GetVersion = yes; then
+  \
+			HAS_PORTAUDIO_VERSION=1
+else
+  HAS_PORTAUDIO_VERSION=0
+fi
+
+		if test ${HAS_PORTAUDIO_VERSION} -eq 0; then
+			{ $as_echo &quot;$as_me:$LINENO: result: How did you end up with a portaudio v18 here?&quot; &gt;&amp;5
+$as_echo &quot;How did you end up with a portaudio v18 here?&quot; &gt;&amp;6; }
+		else
+			{ $as_echo &quot;$as_me:$LINENO: result: found v19&quot; &gt;&amp;5
+$as_echo &quot;found v19&quot; &gt;&amp;6; }
+			HAS_PORTAUDIO=1
+			HAS_PORTAUDIO_H=1
+		fi
+	fi
+fi
+
+
+
 if test &quot;$ac_cv_prog_cc_g&quot; = yes; then
 		CFLAGS=&quot;$CFLAGS -g&quot;
 fi
@@ -3113,7 +3510,6 @@
 fi
 
 
-
 { $as_echo &quot;$as_me:$LINENO: checking for library containing strerror&quot; &gt;&amp;5
 $as_echo_n &quot;checking for library containing strerror... &quot; &gt;&amp;6; }
 if test &quot;${ac_cv_search_strerror+set}&quot; = set; then
@@ -4246,86 +4642,6 @@
 fi
 
 
-# Extract the first word of &quot;g95&quot;, so it can be a program name with args.
-set dummy g95; ac_word=$2
-{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_path_G95+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  case $G95 in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_G95=&quot;$G95&quot; # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
-    ac_cv_path_G95=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-  ;;
-esac
-fi
-G95=$ac_cv_path_G95
-if test -n &quot;$G95&quot;; then
-  { $as_echo &quot;$as_me:$LINENO: result: $G95&quot; &gt;&amp;5
-$as_echo &quot;$G95&quot; &gt;&amp;6; }
-else
-  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-$as_echo &quot;no&quot; &gt;&amp;6; }
-fi
-
-
-# Extract the first word of &quot;${gfortran}&quot;, so it can be a program name with args.
-set dummy ${gfortran}; ac_word=$2
-{ $as_echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-$as_echo_n &quot;checking for $ac_word... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_path_GFORTRAN+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  case $GFORTRAN in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_GFORTRAN=&quot;$GFORTRAN&quot; # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f &quot;$as_dir/$ac_word$ac_exec_ext&quot; &amp;&amp; $as_test_x &quot;$as_dir/$ac_word$ac_exec_ext&quot;; }; then
-    ac_cv_path_GFORTRAN=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    $as_echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-  ;;
-esac
-fi
-GFORTRAN=$ac_cv_path_GFORTRAN
-if test -n &quot;$GFORTRAN&quot;; then
-  { $as_echo &quot;$as_me:$LINENO: result: $GFORTRAN&quot; &gt;&amp;5
-$as_echo &quot;$GFORTRAN&quot; &gt;&amp;6; }
-else
-  { $as_echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-$as_echo &quot;no&quot; &gt;&amp;6; }
-fi
-
-
 { $as_echo &quot;$as_me:$LINENO: checking OS&quot; &gt;&amp;5
 $as_echo_n &quot;checking OS... &quot; &gt;&amp;6; }
 OS=`uname`
@@ -5081,10 +5397,6 @@
 
 
 
-HAS_PORTAUDIO_H=0
-HAS_PORTAUDIO_LIB=0
-HAS_PORTAUDIO=0
-
 { $as_echo &quot;$as_me:$LINENO: checking whether string.h and strings.h may both be included&quot; &gt;&amp;5
 $as_echo_n &quot;checking whether string.h and strings.h may both be included... &quot; &gt;&amp;6; }
 if test &quot;${gcc_cv_header_string+set}&quot; = set; then
@@ -5375,98 +5687,15 @@
 
 fi
 
-
 if test &quot;$prefix&quot; = &quot;NONE&quot;; then
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PREFIX &quot;$ac_default_prefix&quot;
-_ACEOF
-
-
+	prefix=${ac_default_prefix}
 else
 
 
-	prefix=`echo $prefix | sed 's/\/$//'`
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PREFIX &quot;$prefix&quot;
-_ACEOF
-
-
+	prefix=`echo ${ac_default_prefix} | sed 's/\/$//'`
 fi
 
-ac_config_files=&quot;$ac_config_files Makefile&quot;
 
-
-
-# Check whether --enable-g95 was given.
-if test &quot;${enable_g95+set}&quot; = set; then
-  enableval=$enable_g95; g95=$enableval
-else
-  g95=no
-fi
-
-
-# Check whether --enable-gfortran was given.
-if test &quot;${enable_gfortran+set}&quot; = set; then
-  enableval=$enable_gfortran; gfortran=$enableval
-else
-  gfortran=no
-fi
-
-
-
-if test ! -z $GFORTRAN ; then
-	echo &quot;*** gfortran compiler found at ${GFORTRAN}&quot;
-	if test &quot;$gfortran&quot; = yes; then
-       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
-		FC=`basename ${GFORTRAN}`
-		g95=no
-		FFLAGS=&quot;${FFLAGS_GFORTRAN}&quot;
-		FCV=&quot;gnu95&quot;
-	fi
-else
-	echo &quot;*** No gfortran compiler found&quot;
-fi
-
-if test ! -z $G95 ; then
-	echo &quot;*** g95 compiler found at ${G95}&quot;
-	if test &quot;$g95&quot; = yes; then
-       		FC_LIB_PATH=`${G95} -print-file-name=`
-		FC=`basename ${G95}`
-		gfortran=no
-		FFLAGS=&quot;${FFLAGS_G95}&quot;
-		FCV=${FCV_G95}
-	fi
-else
-	echo &quot;*** No g95 compiler found&quot;
-fi
-
-if test -z $FC ; then
-	if test ! -z $GFORTRAN ; then
-		if test &quot;$g95&quot; = yes; then
-			echo &quot;You enabled g95, but no g95 compiler found, defaulting to gfortran instead&quot;
-		fi
-       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
-	        FC=`basename ${GFORTRAN}`
-		g95=no
-		gfortran=yes
-		FFLAGS=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none&quot;
-		FCV=&quot;gnu95&quot;
-	elif test ! -z $G95 ; then
-		if test &quot;$gfortran&quot; = yes; then
-			echo &quot;You enabled gfortran, but no gfortran compiler found, defaulting to g95 instead&quot;
-		fi
-       		FC_LIB_PATH=`${G95} -print-file-name=`
-	        FC=`basename ${G95}`
-		g95=yes
-		gfortran=no
-		FFLAGS=&quot;${FFLAGS} -ftrace=full -cpp&quot;
-		FCV=&quot;g95&quot;
-	fi
-fi
-
-
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
 #define FC_LIB_PATH &quot;${FC_LIB_PATH}&quot;
 _ACEOF
@@ -5480,230 +5709,12 @@
 
 FC=&quot;${FC}&quot;
 
+FCV=&quot;${FCV}&quot;
 
+PREFIX=&quot;${prefix}&quot;
 
 
-{ $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio &quot; &gt;&amp;5
-$as_echo_n &quot;checking for a v19 portaudio ... &quot; &gt;&amp;6; }
 
-portaudio_lib_dir=&quot;/usr/lib&quot;
-portaudio_include_dir=&quot;/usr/include&quot;
-
-
-# Check whether --with-portaudio-include-dir was given.
-if test &quot;${with_portaudio_include_dir+set}&quot; = set; then
-  withval=$with_portaudio_include_dir; portaudio_include_dir=$with_portaudio_include_dir
-fi
-
-
-
-# Check whether --with-portaudio-lib-dir was given.
-if test &quot;${with_portaudio_lib_dir+set}&quot; = set; then
-  withval=$with_portaudio_lib_dir; portaudio_lib_dir=$with_portaudio_lib_dir
-fi
-
-
-if test -e ${portaudio_include_dir}/portaudio.h; then
-	HAS_PORTAUDIO_H=1
-fi
-
-if test -e ${portaudio_lib_dir}/libportaudio.so \
-    -o -e ${portaudio_lib_dir}/libportaudio.a;then
-	HAS_PORTAUDIO_LIB=1
-fi
-
-if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
-	LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
-	LIBS=&quot;${LIBS} -lportaudio&quot;
-	CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
-	{ $as_echo &quot;$as_me:$LINENO: checking for Pa_GetVersion in -lportaudio&quot; &gt;&amp;5
-$as_echo_n &quot;checking for Pa_GetVersion in -lportaudio... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_lib_portaudio_Pa_GetVersion+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS=&quot;-lportaudio  $LIBS&quot;
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern &quot;C&quot;
-#endif
-char Pa_GetVersion ();
-int
-main ()
-{
-return Pa_GetVersion ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try=&quot;$ac_link&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
-	 test &quot;$cross_compiling&quot; = yes ||
-	 $as_test_x conftest$ac_exeext
-       }; then
-  ac_cv_lib_portaudio_Pa_GetVersion=yes
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_lib_portaudio_Pa_GetVersion=no
-fi
-
-rm -rf conftest.dSYM
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;6; }
-if test $ac_cv_lib_portaudio_Pa_GetVersion = yes; then
-  \
-		HAS_PORTAUDIO_VERSION=1
-else
-  HAS_PORTAUDIO_VERSION=0
-fi
-
-	if test $HAS_PORTAUDIO_VERSION -eq 0; then
-		{ $as_echo &quot;$as_me:$LINENO: result: This is likely portaudio v18; you need portaudio v19&quot; &gt;&amp;5
-$as_echo &quot;This is likely portaudio v18; you need portaudio v19&quot; &gt;&amp;6; }
-	else
-		HAS_PORTAUDIO=1
-	fi
-else
-	{ $as_echo &quot;$as_me:$LINENO: result: portaudio not found trying FreeBSD paths &quot; &gt;&amp;5
-$as_echo &quot;portaudio not found trying FreeBSD paths &quot; &gt;&amp;6; }
-	portaudio_lib_dir=&quot;/usr/local/lib/portaudio2&quot;
-	portaudio_include_dir=&quot;/usr/local/include/portaudio2&quot;
-	{ $as_echo &quot;$as_me:$LINENO: checking for a v19 portaudio in FreeBSD paths.&quot; &gt;&amp;5
-$as_echo_n &quot;checking for a v19 portaudio in FreeBSD paths.... &quot; &gt;&amp;6; }
-	HAS_PORTAUDIO_H=0
-	HAS_PORTAUDIO_LIB=0
-
-	if test -e ${portaudio_include_dir}/portaudio.h; then
-		HAS_PORTAUDIO_H=1
-	fi
-
-	if test -e ${portaudio_lib_dir}/libportaudio.so \
-	    -o -e ${portaudio_lib_dir}/libportaudio.a;then
-		HAS_PORTAUDIO_LIB=1
-	fi
-
-	if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
-		{ $as_echo &quot;$as_me:$LINENO: result: found portaudio in FreeBSD paths, double checking it is v19 &quot; &gt;&amp;5
-$as_echo &quot;found portaudio in FreeBSD paths, double checking it is v19 &quot; &gt;&amp;6; }
-		LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
-		LIBS=&quot;${LIBS} -lportaudio&quot;
-		CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
-		{ $as_echo &quot;$as_me:$LINENO: checking for Pa_GetVersion in -lportaudio&quot; &gt;&amp;5
-$as_echo_n &quot;checking for Pa_GetVersion in -lportaudio... &quot; &gt;&amp;6; }
-if test &quot;${ac_cv_lib_portaudio_Pa_GetVersion+set}&quot; = set; then
-  $as_echo_n &quot;(cached) &quot; &gt;&amp;6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS=&quot;-lportaudio  $LIBS&quot;
-cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern &quot;C&quot;
-#endif
-char Pa_GetVersion ();
-int
-main ()
-{
-return Pa_GetVersion ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try=&quot;$ac_link&quot;
-case &quot;(($ac_try&quot; in
-  *\&quot;* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval ac_try_echo=&quot;\&quot;\$as_me:$LINENO: $ac_try_echo\&quot;&quot;
-$as_echo &quot;$ac_try_echo&quot;) &gt;&amp;5
-  (eval &quot;$ac_link&quot;) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  $as_echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp; {
-	 test -z &quot;$ac_c_werror_flag&quot; ||
-	 test ! -s conftest.err
-       } &amp;&amp; test -s conftest$ac_exeext &amp;&amp; {
-	 test &quot;$cross_compiling&quot; = yes ||
-	 $as_test_x conftest$ac_exeext
-       }; then
-  ac_cv_lib_portaudio_Pa_GetVersion=yes
-else
-  $as_echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-	ac_cv_lib_portaudio_Pa_GetVersion=no
-fi
-
-rm -rf conftest.dSYM
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ $as_echo &quot;$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;5
-$as_echo &quot;$ac_cv_lib_portaudio_Pa_GetVersion&quot; &gt;&amp;6; }
-if test $ac_cv_lib_portaudio_Pa_GetVersion = yes; then
-  \
-			HAS_PORTAUDIO_VERSION=1
-else
-  HAS_PORTAUDIO_VERSION=0
-fi
-
-		if test $HAS_PORTAUDIO_VERSION -eq 0; then
-			{ $as_echo &quot;$as_me:$LINENO: result: How did you end up with a portaudio v18 here?&quot; &gt;&amp;5
-$as_echo &quot;How did you end up with a portaudio v18 here?&quot; &gt;&amp;6; }
-		else
-			{ $as_echo &quot;$as_me:$LINENO: result: found v19&quot; &gt;&amp;5
-$as_echo &quot;found v19&quot; &gt;&amp;6; }
-			HAS_PORTAUDIO=1
-			HAS_PORTAUDIO_H=1
-		fi
-	fi
-fi
-
-
 if test -z $FC ; then
 	fail=1
 	echo &quot;You need g95 or gfortran to compile this program!&quot;
@@ -5786,6 +5797,7 @@
 
 
 
+
 cat &gt;confcache &lt;&lt;\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
@@ -6257,7 +6269,6 @@
 
 cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
 # Files that config.status was made for.
-config_files=&quot;$ac_config_files&quot;
 
 _ACEOF
 
@@ -6273,12 +6284,7 @@
   -q, --quiet      do not print progress messages
   -d, --debug      don't remove temporary files
       --recheck    update $as_me by reconfiguring in the same conditions
-  --file=FILE[:TEMPLATE]
-                   instantiate the configuration file FILE
 
-Configuration files:
-$config_files
-
 Report bugs to &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/wsjt-svn">bug-autoconf at gnu.org</A>&gt;.&quot;
 
 _ACEOF
@@ -6324,13 +6330,6 @@
     $as_echo &quot;$ac_cs_version&quot;; exit ;;
   --debug | --debu | --deb | --de | --d | -d )
     debug=: ;;
-  --file | --fil | --fi | --f )
-    $ac_shift
-    case $ac_optarg in
-    *\'*) ac_optarg=`$as_echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
-    esac
-    CONFIG_FILES=&quot;$CONFIG_FILES '$ac_optarg'&quot;
-    ac_need_defaults=false;;
   --he | --h |  --help | --hel | -h )
     $as_echo &quot;$ac_cs_usage&quot;; exit ;;
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
@@ -6388,7 +6387,6 @@
 for ac_config_target in $ac_config_targets
 do
   case $ac_config_target in
-    &quot;Makefile&quot;) CONFIG_FILES=&quot;$CONFIG_FILES Makefile&quot; ;;
 
   *) { { $as_echo &quot;$as_me:$LINENO: error: invalid argument: $ac_config_target&quot; &gt;&amp;5
 $as_echo &quot;$as_me: error: invalid argument: $ac_config_target&quot; &gt;&amp;2;}
@@ -6397,467 +6395,6 @@
 done
 
 
-# If the user did not use the arguments to specify the items to instantiate,
-# then the envvar interface is used.  Set only those that are not.
-# We use the long form for the default assignment because of an extremely
-# bizarre bug on SunOS 4.1.3.
-if $ac_need_defaults; then
-  test &quot;${CONFIG_FILES+set}&quot; = set || CONFIG_FILES=$config_files
-fi
-
-# Have a temporary directory for convenience.  Make it in the build tree
-# simply because there is no reason against having it here, and in addition,
-# creating and moving files from /tmp can sometimes cause problems.
-# Hook for its removal unless debugging.
-# Note that there is a small window in which the directory will not be cleaned:
-# after its creation but before its name has been assigned to `$tmp'.
-$debug ||
-{
-  tmp=
-  trap 'exit_status=$?
-  { test -z &quot;$tmp&quot; || test ! -d &quot;$tmp&quot; || rm -fr &quot;$tmp&quot;; } &amp;&amp; exit $exit_status
-' 0
-  trap '{ (exit 1); exit 1; }' 1 2 13 15
-}
-# Create a (secure) tmp directory for tmp files.
-
-{
-  tmp=`(umask 077 &amp;&amp; mktemp -d &quot;./confXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
-  test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot;
-}  ||
-{
-  tmp=./conf$$-$RANDOM
-  (umask 077 &amp;&amp; mkdir &quot;$tmp&quot;)
-} ||
-{
-   $as_echo &quot;$as_me: cannot create a temporary directory in .&quot; &gt;&amp;2
-   { (exit 1); exit 1; }
-}
-
-# Set up the scripts for CONFIG_FILES section.
-# No need to generate them if there are no CONFIG_FILES.
-# This happens for instance with `./config.status config.h'.
-if test -n &quot;$CONFIG_FILES&quot;; then
-
-
-ac_cr='
'
-ac_cs_awk_cr=`$AWK 'BEGIN { print &quot;a\rb&quot; }' &lt;/dev/null 2&gt;/dev/null`
-if test &quot;$ac_cs_awk_cr&quot; = &quot;a${ac_cr}b&quot;; then
-  ac_cs_awk_cr='\\r'
-else
-  ac_cs_awk_cr=$ac_cr
-fi
-
-echo 'BEGIN {' &gt;&quot;$tmp/subs1.awk&quot; &amp;&amp;
-_ACEOF
-
-
-{
-  echo &quot;cat &gt;conf$$subs.awk &lt;&lt;_ACEOF&quot; &amp;&amp;
-  echo &quot;$ac_subst_vars&quot; | sed 's/.*/&amp;!$&amp;$ac_delim/' &amp;&amp;
-  echo &quot;_ACEOF&quot;
-} &gt;conf$$subs.sh ||
-  { { $as_echo &quot;$as_me:$LINENO: error: could not make $CONFIG_STATUS&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not make $CONFIG_STATUS&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-ac_delim_num=`echo &quot;$ac_subst_vars&quot; | grep -c '$'`
-ac_delim='%!_!# '
-for ac_last_try in false false false false false :; do
-  . ./conf$$subs.sh ||
-    { { $as_echo &quot;$as_me:$LINENO: error: could not make $CONFIG_STATUS&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not make $CONFIG_STATUS&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-
-  if test `sed -n &quot;s/.*$ac_delim\$/X/p&quot; conf$$subs.awk | grep -c X` = $ac_delim_num; then
-    break
-  elif $ac_last_try; then
-    { { $as_echo &quot;$as_me:$LINENO: error: could not make $CONFIG_STATUS&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not make $CONFIG_STATUS&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-  else
-    ac_delim=&quot;$ac_delim!$ac_delim _$ac_delim!! &quot;
-  fi
-done
-rm -f conf$$subs.sh
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
-cat &gt;&gt;&quot;\$tmp/subs1.awk&quot; &lt;&lt;\\_ACAWK &amp;&amp;
-_ACEOF
-sed -n '
-h
-s/^/S[&quot;/; s/!.*/&quot;]=/
-p
-g
-s/^[^!]*!//
-:repl
-t repl
-s/'&quot;$ac_delim&quot;'$//
-t delim
-:nl
-h
-s/\(.\{148\}\).*/\1/
-t more1
-s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/\\n&quot;\\/
-p
-n
-b repl
-:more1
-s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/&quot;\\/
-p
-g
-s/.\{148\}//
-t nl
-:delim
-h
-s/\(.\{148\}\).*/\1/
-t more2
-s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/&quot;/
-p
-b
-:more2
-s/[&quot;\\]/\\&amp;/g; s/^/&quot;/; s/$/&quot;\\/
-p
-g
-s/.\{148\}//
-t delim
-' &lt;conf$$subs.awk | sed '
-/^[^&quot;&quot;]/{
-  N
-  s/\n//
-}
-' &gt;&gt;$CONFIG_STATUS || ac_write_fail=1
-rm -f conf$$subs.awk
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
-_ACAWK
-cat &gt;&gt;&quot;\$tmp/subs1.awk&quot; &lt;&lt;_ACAWK &amp;&amp;
-  for (key in S) S_is_set[key] = 1
-  FS = &quot;&quot;
-
-}
-{
-  line = $ 0
-  nfields = split(line, field, &quot;@&quot;)
-  substed = 0
-  len = length(field[1])
-  for (i = 2; i &lt; nfields; i++) {
-    key = field[i]
-    keylen = length(key)
-    if (S_is_set[key]) {
-      value = S[key]
-      line = substr(line, 1, len) &quot;&quot; value &quot;&quot; substr(line, len + keylen + 3)
-      len += length(value) + length(field[++i])
-      substed = 1
-    } else
-      len += 1 + keylen
-  }
-
-  print line
-}
-
-_ACAWK
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
-if sed &quot;s/$ac_cr//&quot; &lt; /dev/null &gt; /dev/null 2&gt;&amp;1; then
-  sed &quot;s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g&quot;
-else
-  cat
-fi &lt; &quot;$tmp/subs1.awk&quot; &gt; &quot;$tmp/subs.awk&quot; \
-  || { { $as_echo &quot;$as_me:$LINENO: error: could not setup config files machinery&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not setup config files machinery&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-_ACEOF
-
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is &quot;.&quot;, strip leading and
-# trailing colons and then remove the whole line if VPATH becomes empty
-# (actually we leave an empty line to preserve line numbers).
-if test &quot;x$srcdir&quot; = x.; then
-  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
-s/:*\$(srcdir):*/:/
-s/:*\${srcdir}:*/:/
-s/:*@srcdir@:*/:/
-s/^\([^=]*=[	 ]*\):*/\1/
-s/:*$//
-s/^[^=]*=[	 ]*$//
-}'
-fi
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
-fi # test -n &quot;$CONFIG_FILES&quot;
-
-
-eval set X &quot;  :F $CONFIG_FILES      &quot;
-shift
-for ac_tag
-do
-  case $ac_tag in
-  :[FHLC]) ac_mode=$ac_tag; continue;;
-  esac
-  case $ac_mode$ac_tag in
-  :[FHL]*:*);;
-  :L* | :C*:*) { { $as_echo &quot;$as_me:$LINENO: error: Invalid tag $ac_tag.&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: Invalid tag $ac_tag.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; };;
-  :[FH]-) ac_tag=-:-;;
-  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
-  esac
-  ac_save_IFS=$IFS
-  IFS=:
-  set x $ac_tag
-  IFS=$ac_save_IFS
-  shift
-  ac_file=$1
-  shift
-
-  case $ac_mode in
-  :L) ac_source=$1;;
-  :[FH])
-    ac_file_inputs=
-    for ac_f
-    do
-      case $ac_f in
-      -) ac_f=&quot;$tmp/stdin&quot;;;
-      *) # Look for the file first in the build tree, then in the source tree
-	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
-	 # because $ac_f cannot contain `:'.
-	 test -f &quot;$ac_f&quot; ||
-	   case $ac_f in
-	   [\\/$]*) false;;
-	   *) test -f &quot;$srcdir/$ac_f&quot; &amp;&amp; ac_f=&quot;$srcdir/$ac_f&quot;;;
-	   esac ||
-	   { { $as_echo &quot;$as_me:$LINENO: error: cannot find input file: $ac_f&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: cannot find input file: $ac_f&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; };;
-      esac
-      case $ac_f in *\'*) ac_f=`$as_echo &quot;$ac_f&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;; esac
-      ac_file_inputs=&quot;$ac_file_inputs '$ac_f'&quot;
-    done
-
-    # Let's still pretend it is `configure' which instantiates (i.e., don't
-    # use $as_me), people would be surprised to read:
-    #    /* config.h.  Generated by config.status.  */
-    configure_input='Generated from '`
-	  $as_echo &quot;$*&quot; | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
-	`' by configure.'
-    if test x&quot;$ac_file&quot; != x-; then
-      configure_input=&quot;$ac_file.  $configure_input&quot;
-      { $as_echo &quot;$as_me:$LINENO: creating $ac_file&quot; &gt;&amp;5
-$as_echo &quot;$as_me: creating $ac_file&quot; &gt;&amp;6;}
-    fi
-    # Neutralize special characters interpreted by sed in replacement strings.
-    case $configure_input in #(
-    *\&amp;* | *\|* | *\\* )
-       ac_sed_conf_input=`$as_echo &quot;$configure_input&quot; |
-       sed 's/[\\\\&amp;|]/\\\\&amp;/g'`;; #(
-    *) ac_sed_conf_input=$configure_input;;
-    esac
-
-    case $ac_tag in
-    *:-:* | *:-) cat &gt;&quot;$tmp/stdin&quot; \
-      || { { $as_echo &quot;$as_me:$LINENO: error: could not create $ac_file&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not create $ac_file&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; } ;;
-    esac
-    ;;
-  esac
-
-  ac_dir=`$as_dirname -- &quot;$ac_file&quot; ||
-$as_expr X&quot;$ac_file&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X&quot;$ac_file&quot; : 'X\(//\)[^/]' \| \
-	 X&quot;$ac_file&quot; : 'X\(//\)$' \| \
-	 X&quot;$ac_file&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
-$as_echo X&quot;$ac_file&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
-	    s//\1/
-	    q
-	  }
-	  /^X\(\/\/\)[^/].*/{
-	    s//\1/
-	    q
-	  }
-	  /^X\(\/\/\)$/{
-	    s//\1/
-	    q
-	  }
-	  /^X\(\/\).*/{
-	    s//\1/
-	    q
-	  }
-	  s/.*/./; q'`
-  { as_dir=&quot;$ac_dir&quot;
-  case $as_dir in #(
-  -*) as_dir=./$as_dir;;
-  esac
-  test -d &quot;$as_dir&quot; || { $as_mkdir_p &amp;&amp; mkdir -p &quot;$as_dir&quot;; } || {
-    as_dirs=
-    while :; do
-      case $as_dir in #(
-      *\'*) as_qdir=`$as_echo &quot;$as_dir&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;; #'(
-      *) as_qdir=$as_dir;;
-      esac
-      as_dirs=&quot;'$as_qdir' $as_dirs&quot;
-      as_dir=`$as_dirname -- &quot;$as_dir&quot; ||
-$as_expr X&quot;$as_dir&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X&quot;$as_dir&quot; : 'X\(//\)[^/]' \| \
-	 X&quot;$as_dir&quot; : 'X\(//\)$' \| \
-	 X&quot;$as_dir&quot; : 'X\(/\)' \| . 2&gt;/dev/null ||
-$as_echo X&quot;$as_dir&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
-	    s//\1/
-	    q
-	  }
-	  /^X\(\/\/\)[^/].*/{
-	    s//\1/
-	    q
-	  }
-	  /^X\(\/\/\)$/{
-	    s//\1/
-	    q
-	  }
-	  /^X\(\/\).*/{
-	    s//\1/
-	    q
-	  }
-	  s/.*/./; q'`
-      test -d &quot;$as_dir&quot; &amp;&amp; break
-    done
-    test -z &quot;$as_dirs&quot; || eval &quot;mkdir $as_dirs&quot;
-  } || test -d &quot;$as_dir&quot; || { { $as_echo &quot;$as_me:$LINENO: error: cannot create directory $as_dir&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: cannot create directory $as_dir&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }; }
-  ac_builddir=.
-
-case &quot;$ac_dir&quot; in
-.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
-*)
-  ac_dir_suffix=/`$as_echo &quot;$ac_dir&quot; | sed 's|^\.[\\/]||'`
-  # A &quot;..&quot; for each directory in $ac_dir_suffix.
-  ac_top_builddir_sub=`$as_echo &quot;$ac_dir_suffix&quot; | sed 's|/[^\\/]*|/..|g;s|/||'`
-  case $ac_top_builddir_sub in
-  &quot;&quot;) ac_top_builddir_sub=. ac_top_build_prefix= ;;
-  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
-  esac ;;
-esac
-ac_abs_top_builddir=$ac_pwd
-ac_abs_builddir=$ac_pwd$ac_dir_suffix
-# for backward compatibility:
-ac_top_builddir=$ac_top_build_prefix
-
-case $srcdir in
-  .)  # We are building in place.
-    ac_srcdir=.
-    ac_top_srcdir=$ac_top_builddir_sub
-    ac_abs_top_srcdir=$ac_pwd ;;
-  [\\/]* | ?:[\\/]* )  # Absolute name.
-    ac_srcdir=$srcdir$ac_dir_suffix;
-    ac_top_srcdir=$srcdir
-    ac_abs_top_srcdir=$srcdir ;;
-  *) # Relative name.
-    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
-    ac_top_srcdir=$ac_top_build_prefix$srcdir
-    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
-esac
-ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
-
-
-  case $ac_mode in
-  :F)
-  #
-  # CONFIG_FILE
-  #
-
-  case $INSTALL in
-  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
-  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
-  esac
-_ACEOF
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
-# If the template does not know about datarootdir, expand it.
-# FIXME: This hack should be removed a few years after 2.60.
-ac_datarootdir_hack=; ac_datarootdir_seen=
-
-ac_sed_dataroot='
-/datarootdir/ {
-  p
-  q
-}
-/@datadir@/p
-/@docdir@/p
-/@infodir@/p
-/@localedir@/p
-/@mandir@/p
-'
-case `eval &quot;sed -n \&quot;\$ac_sed_dataroot\&quot; $ac_file_inputs&quot;` in
-*datarootdir*) ac_datarootdir_seen=yes;;
-*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
-  { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting&quot; &gt;&amp;2;}
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
-  ac_datarootdir_hack='
-  s&amp;@datadir@&amp;$datadir&amp;g
-  s&amp;@docdir@&amp;$docdir&amp;g
-  s&amp;@infodir@&amp;$infodir&amp;g
-  s&amp;@localedir@&amp;$localedir&amp;g
-  s&amp;@mandir@&amp;$mandir&amp;g
-    s&amp;\\\${datarootdir}&amp;$datarootdir&amp;g' ;;
-esac
-_ACEOF
-
-# Neutralize VPATH when `$srcdir' = `.'.
-# Shell code in configure.ac might set extrasub.
-# FIXME: do we really want to maintain this feature?
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF || ac_write_fail=1
-ac_sed_extra=&quot;$ac_vpsub
-$extrasub
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF || ac_write_fail=1
-:t
-/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
-s|@configure_input@|$ac_sed_conf_input|;t t
-s&amp;@top_builddir@&amp;$ac_top_builddir_sub&amp;;t t
-s&amp;@top_build_prefix@&amp;$ac_top_build_prefix&amp;;t t
-s&amp;@srcdir@&amp;$ac_srcdir&amp;;t t
-s&amp;@abs_srcdir@&amp;$ac_abs_srcdir&amp;;t t
-s&amp;@top_srcdir@&amp;$ac_top_srcdir&amp;;t t
-s&amp;@abs_top_srcdir@&amp;$ac_abs_top_srcdir&amp;;t t
-s&amp;@builddir@&amp;$ac_builddir&amp;;t t
-s&amp;@abs_builddir@&amp;$ac_abs_builddir&amp;;t t
-s&amp;@abs_top_builddir@&amp;$ac_abs_top_builddir&amp;;t t
-s&amp;@INSTALL@&amp;$ac_INSTALL&amp;;t t
-$ac_datarootdir_hack
-&quot;
-eval sed \&quot;\$ac_sed_extra\&quot; &quot;$ac_file_inputs&quot; | $AWK -f &quot;$tmp/subs.awk&quot; &gt;$tmp/out \
-  || { { $as_echo &quot;$as_me:$LINENO: error: could not create $ac_file&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not create $ac_file&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-
-test -z &quot;$ac_datarootdir_hack$ac_datarootdir_seen&quot; &amp;&amp;
-  { ac_out=`sed -n '/\${datarootdir}/p' &quot;$tmp/out&quot;`; test -n &quot;$ac_out&quot;; } &amp;&amp;
-  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' &quot;$tmp/out&quot;`; test -z &quot;$ac_out&quot;; } &amp;&amp;
-  { $as_echo &quot;$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined.&quot; &gt;&amp;5
-$as_echo &quot;$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined.&quot; &gt;&amp;2;}
-
-  rm -f &quot;$tmp/stdin&quot;
-  case $ac_file in
-  -) cat &quot;$tmp/out&quot; &amp;&amp; rm -f &quot;$tmp/out&quot;;;
-  *) rm -f &quot;$ac_file&quot; &amp;&amp; mv &quot;$tmp/out&quot; &quot;$ac_file&quot;;;
-  esac \
-  || { { $as_echo &quot;$as_me:$LINENO: error: could not create $ac_file&quot; &gt;&amp;5
-$as_echo &quot;$as_me: error: could not create $ac_file&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
- ;;
-
-
-
-  esac
-
-done # for ac_tag
-
-
 { (exit 0); exit 0; }
 _ACEOF
 chmod +x $CONFIG_STATUS

Modified: branches/map65/configure.ac
===================================================================
--- branches/map65/configure.ac	2009-05-17 00:00:31 UTC (rev 1229)
+++ branches/map65/configure.ac	2009-05-17 01:28:03 UTC (rev 1230)
@@ -25,68 +25,14 @@
 CPPFLAGS=&quot;-I/usr/local/include ${CPPFLAGS}&quot;
 LDFLAGS=&quot;-L/usr/local/lib ${LDFLAGS}&quot;
 LIBS=&quot; -lpthread ${LIBS}&quot;
-FCV=&quot;&quot;
 FFLAGS_GFORTRAN=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none\
 			-Wall -fbounds-check -fno-second-underscore -fPIC&quot;
 FFLAGS_G95=&quot;${FFLAGS} -Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC&quot;
 #-Wall -Wno-precision-loss -fbounds-check -fno-second-underscore -fPIC
 
-dnl
-dnl Pick up FC from the environment if present
-dnl I'll add a test to confirm this is a gfortran later -db
-dnl
+AX_CHECK_GFORTRAN
+AX_CHECK_PORTAUDIO
 
-if test -n ${FC} ; then
-	gfortran=${FC}
-fi
-
-AC_MSG_CHECKING([uname -s])
-case `uname -s` in
-	CYGWIN*)
-		AC_MSG_RESULT(Cygwin)
-		CYGWIN=yes
-	;;
-	SunOS*)
-		AC_MSG_RESULT(SunOS or Solaris)
-		AC_DEFINE(__EXTENSIONS__, 1, [This is needed to use strtok_r on Solaris.])
-	;;
-dnl
-dnl Pick up current gfortran from ports infrastructure for fbsd
-dnl
-        FreeBSD*)
-		if test -z ${gfortran} ; then
-			gfortran=`grep FC: /usr/ports/Mk/bsd.gcc.mk | head -1 |awk '{print $2}'`
-		fi
-		FCV_G95=&quot;g95&quot;
-	;;
-	*)
-		FCV_G95=&quot;g95&quot;
-		AC_MSG_RESULT(no)
-	;;
-esac
-
-dnl
-dnl look for gfortran if nothing else was given
-dnl
-
-if test -z $gfortran ; then
-	gfortran=&quot;gfortran&quot;
-fi
-
-if test &quot;$ac_cv_c_compiler_gnu&quot; = yes; then
-	AC_MSG_CHECKING(if $CC is Apple GCC)
-	
-	if expr &quot;`$CC -v 2&gt;&amp;1 | tail -1`&quot; : &quot;.*Apple&quot; &gt;/dev/null; then
-		AppleGCC=yes
-	else
-		AppleGCC=no
-	fi
-
-	AC_MSG_RESULT($AppleGCC)
-
-	CFLAGS=&quot;$CFLAGS -Wall -O0&quot;
-fi
-
 dnl If we support -g, use it!
 if test &quot;$ac_cv_prog_cc_g&quot; = yes; then
 		CFLAGS=&quot;$CFLAGS -g&quot;
@@ -115,8 +61,6 @@
 AC_PATH_PROG(TEST, [test], [test])
 AC_PATH_PROG(PYTHON, python)
 AC_PATH_PROG(F2PY, f2py)
-AC_PATH_PROG(G95, g95)
-AC_PATH_PROG(GFORTRAN, ${gfortran})
 AC_MSG_CHECKING([OS])
 OS=`uname`
 AC_SUBST(OS, &quot;${OS}&quot;)
@@ -134,10 +78,6 @@
 AC_CHECK_HEADER([fftw3.h], [HAS_FFTW3_H=1], [HAS_FFTW3_H=0])
 AC_CHECK_HEADER([samplerate.h], [HAS_SAMPLERATE_H=1], [HAS_SAMPLERATE_H=0])
 
-HAS_PORTAUDIO_H=0
-HAS_PORTAUDIO_LIB=0
-HAS_PORTAUDIO=0
-
 dnl See whether we can include both string.h and strings.h.
 AC_CACHE_CHECK([whether string.h and strings.h may both be included],
 gcc_cv_header_string,
@@ -189,70 +129,6 @@
 	prefix=`echo ${ac_default_prefix} | sed 's/\/$//'`
 fi
 
-dnl pick gfortran or g95
-dnl ====================
-
-AC_ARG_ENABLE(g95,
-AC_HELP_STRING([--enable-g95],[Use G95 compiler if available.]),
-[g95=$enableval], [g95=no])
-
-AC_ARG_ENABLE(gfortran,
-AC_HELP_STRING([--enable-gfortran],[Use gfortran compiler if available.]),
-[gfortran=$enableval], [gfortran=no])
-
-dnl now set conf.h,, CPPFLAGS and CFLAGS flags as needed
-dnl ====================================================
-
-if test &quot;$g95&quot; = yes; then
-        FC_LIB_PATH=${G95_LIB_PATH}
-	FC=${G95}
-	gfortran=no
-elif test &quot;$gfortran&quot; = yes; then
-        FC_LIB_PATH=${GFORTRAN_LIB_PATH}
-	FC=${GFORTRAN}
-	g95=no
-fi
-
-if test -z $FC ; then
-	if test ! -z $GFORTRAN ; then
-       		FC_LIB_PATH=${GFORTRAN_LIB_PATH}
-	        FC=${GFORTRAN}
-		gfortran=yes
-	elif test ! -z $G95 ; then
-       		FC_LIB_PATH=${G95_LIB_PATH}
-	        FC=${G95}
-		g95=yes
-	fi
-fi
-
-dnl
-dnl if FC is not set by now, pick a compiler for user
-dnl
-
-if test -z $FC ; then
-	if test ! -z $GFORTRAN ; then
-		if test &quot;$g95&quot; = yes; then
-			echo &quot;You enabled g95, but no g95 compiler found, defaulting to gfortran instead&quot;
-		fi
-       		FC_LIB_PATH=`${GFORTRAN} -print-file-name=`
-	        FC=`basename ${GFORTRAN}`
-		g95=no
-		gfortran=yes
-		FFLAGS=&quot;${FFLAGS} -fno-range-check -ffixed-line-length-none&quot;
-		FCV=&quot;gnu95&quot;
-	elif test ! -z $G95 ; then
-		if test &quot;$gfortran&quot; = yes; then
-			echo &quot;You enabled gfortran, but no gfortran compiler found, defaulting to g95 instead&quot;
-		fi
-       		FC_LIB_PATH=`${G95} -print-file-name=`
-	        FC=`basename ${G95}`
-		g95=yes
-		gfortran=no
-		FFLAGS=&quot;${FFLAGS} -ftrace=full -cpp&quot;
-		FCV=&quot;g95&quot;
-	fi
-fi
-
 AC_DEFINE_UNQUOTED(FC_LIB_PATH, &quot;${FC_LIB_PATH}&quot;, [Path to fortran libs.])
 AC_SUBST(FC_LIB_PATH, &quot;${FC_LIB_PATH}&quot;)
 AC_DEFINE_UNQUOTED(FC, &quot;${FC}&quot;, [Fortran compiler.])
@@ -260,82 +136,6 @@
 AC_SUBST(FCV, &quot;${FCV}&quot;)
 AC_SUBST(PREFIX, &quot;${prefix}&quot;)
 
-dnl set defaults
-dnl ============
-
-
-AC_MSG_CHECKING([for a v19 portaudio ])
-
-portaudio_lib_dir=&quot;/usr/lib&quot;
-portaudio_include_dir=&quot;/usr/include&quot;
-
-AC_ARG_WITH([portaudio-include-dir],
-AC_HELP_STRING([--with-portaudio-include-dir=&lt;path&gt;],
-    [path to portaudio include files]),
-    [portaudio_include_dir=$with_portaudio_include_dir])
-
-AC_ARG_WITH([portaudio-lib-dir],
-AC_HELP_STRING([--with-portaudio-lib-dir=&lt;path&gt;],
-    [path to portaudio lib files]),
-    [portaudio_lib_dir=$with_portaudio_lib_dir])
-
-if test -e ${portaudio_include_dir}/portaudio.h; then
-	HAS_PORTAUDIO_H=1
-fi
-
-if test -e ${portaudio_lib_dir}/libportaudio.so \
-    -o -e ${portaudio_lib_dir}/libportaudio.a;then
-	HAS_PORTAUDIO_LIB=1
-fi
-
-if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
-	LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
-	LIBS=&quot;${LIBS} -lportaudio&quot;
-	CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
-	AC_CHECK_LIB(portaudio, Pa_GetVersion, \
-		[HAS_PORTAUDIO_VERSION=1], [HAS_PORTAUDIO_VERSION=0])
-	if test $HAS_PORTAUDIO_VERSION -eq 0; then
-		AC_MSG_RESULT([This is likely portaudio v18; you need portaudio v19])
-	else
-		HAS_PORTAUDIO=1
-	fi
-else
-	AC_MSG_RESULT([portaudio not found trying FreeBSD paths ])
-	portaudio_lib_dir=&quot;/usr/local/lib/portaudio2&quot;
-	portaudio_include_dir=&quot;/usr/local/include/portaudio2&quot;
-dnl
-dnl Try again to make sure portaudio dirs are valid
-dnl
-	AC_MSG_CHECKING([for a v19 portaudio in FreeBSD paths.])
-	HAS_PORTAUDIO_H=0
-	HAS_PORTAUDIO_LIB=0
-
-	if test -e ${portaudio_include_dir}/portaudio.h; then
-		HAS_PORTAUDIO_H=1
-	fi
-
-	if test -e ${portaudio_lib_dir}/libportaudio.so \
-	    -o -e ${portaudio_lib_dir}/libportaudio.a;then
-		HAS_PORTAUDIO_LIB=1
-	fi
-
-	if test $HAS_PORTAUDIO_H -eq 1 -a $HAS_PORTAUDIO_LIB -eq 1; then
-		AC_MSG_RESULT([found portaudio in FreeBSD paths, double checking it is v19 ])
-		LDFLAGS=&quot;-L${portaudio_lib_dir} ${LDFLAGS}&quot;
-		LIBS=&quot;${LIBS} -lportaudio&quot;
-		CPPFLAGS=&quot;-I${portaudio_include_dir} ${CPPFLAGS}&quot;
-		AC_CHECK_LIB(portaudio, Pa_GetVersion, \
-			[HAS_PORTAUDIO_VERSION=1], [HAS_PORTAUDIO_VERSION=0])
-		if test $HAS_PORTAUDIO_VERSION -eq 0; then
-			AC_MSG_RESULT([How did you end up with a portaudio v18 here?])
-		else
-			AC_MSG_RESULT([found v19])
-			HAS_PORTAUDIO=1
-			HAS_PORTAUDIO_H=1
-		fi
-	fi
-fi
-
 dnl sanity tests.
 dnl =============
 
@@ -401,6 +201,7 @@
 AC_SUBST(LDFLAGS, &quot;${LDFLAGS}&quot;)
 AC_SUBST(LIBS, &quot;${LIBS}&quot;)
 AC_SUBST(CFLAGS)
+AC_SUBST(FFLAGS)
 
 AC_OUTPUT
 dnl AC_CONFIG_FILES(Makefile)

Modified: branches/map65/jtaudio.c
===================================================================
--- branches/map65/jtaudio.c	2009-05-17 00:00:31 UTC (rev 1229)
+++ branches/map65/jtaudio.c	2009-05-17 01:28:03 UTC (rev 1230)
@@ -1,5 +1,5 @@
 #include &lt;stdio.h&gt;
-#include &quot;portaudio.h&quot;
+#include &lt;portaudio.h&gt;
 #include &lt;string.h&gt;
 
 void fivehz_();
@@ -183,8 +183,8 @@
 		       dnfs,            //Sample rate
 		       2048,            //Frames per buffer
 		       paNoFlag,
-		       SoundOut,        //Callback routine
-		       &amp;data);          //address of data structure
+		       (PaStreamCallback *)SoundOut, //Callback routine
+		       (void *)&amp;data);               //address of data structure
   if(err2a) {
     printf(&quot;Error opening Audio stream for output.\n&quot;);
     printf(&quot;%s\n&quot;,Pa_GetErrorText(err2a));


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000923.html">[WSJT-SVN] r1229 - branches/wspr
</A></li>
	<LI>Next message: <A HREF="000924.html">[WSJT-SVN] r1231 - branches/wspr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#926">[ date ]</a>
              <a href="thread.html#926">[ thread ]</a>
              <a href="subject.html#926">[ subject ]</a>
              <a href="author.html#926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/wsjt-svn">More information about the wsjt-svn
mailing list</a><br>
</body></html>
